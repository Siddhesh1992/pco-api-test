<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>pco-api documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">pco-api documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li>Injectables</li>
  <li >AwsService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/cloud_provider/aws/service/aws.service.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#logger" >logger</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addConfigurationItem" >addConfigurationItem</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#autoparkDatabasesCheck" >autoparkDatabasesCheck</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#autoparkInstancesCheck" >autoparkInstancesCheck</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableCaches" >availableCaches</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableCostAnomalyData" >availableCostAnomalyData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableCostPricingData" >availableCostPricingData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableDatabases" >availableDatabases</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableDataWarehouses" >availableDataWarehouses</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableImages" >availableImages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableInstances" >availableInstances</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableLoadBalancers" >availableLoadBalancers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableSearchEngines" >availableSearchEngines</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableSnapshots" >availableSnapshots</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableStorages" >availableStorages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#availableVolumes" >availableVolumes</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#checkAutoparkJobHolidays" >checkAutoparkJobHolidays</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#checkConfigurationItems" >checkConfigurationItems</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createAutoparkJob" >createAutoparkJob</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createCost" >createCost</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createMetricEbs" >createMetricEbs</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createMetricEc2" >createMetricEc2</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createServiceNowChangeRequest" >createServiceNowChangeRequest</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#dataPull" >dataPull</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteAutoparkJob" >deleteAutoparkJob</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteDataApi" >deleteDataApi</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeCacheClusters" >describeCacheClusters</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeClusters" >describeClusters</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeDBInstances" >describeDBInstances</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeElasticSearchDomain" >describeElasticSearchDomain</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeElasticSearchDomainConfig" >describeElasticSearchDomainConfig</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeELBTags" >describeELBTags</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeImageAttribute" >describeImageAttribute</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeImages" >describeImages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeInstanceHealth" >describeInstanceHealth</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeInstances" >describeInstances</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeLoadBalancers" >describeLoadBalancers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeReplicationGroups" >describeReplicationGroups</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeServices" >describeServices</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeSnapshots" >describeSnapshots</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#describeVolumes" >describeVolumes</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchCaches" >fetchCaches</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchConfigurationItems" >fetchConfigurationItems</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchCostAnomalyData" >fetchCostAnomalyData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchDatabases" >fetchDatabases</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchDataWarehouses" >fetchDataWarehouses</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchImages" >fetchImages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchInstances" >fetchInstances</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchLoadBalancers" >fetchLoadBalancers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchMemoryUtilization" >fetchMemoryUtilization</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchMultipartUploads" >fetchMultipartUploads</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchNewRelicAccounts" >fetchNewRelicAccounts</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchNewRelicEntities" >fetchNewRelicEntities</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchPricingData" >fetchPricingData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchSearchEngines" >fetchSearchEngines</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchServiceData" >fetchServiceData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchSnapshots" >fetchSnapshots</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchStorages" >fetchStorages</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fetchVolumes" >fetchVolumes</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAllForDeletion" >getAllForDeletion</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAnomalies" >getAnomalies</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAutoparkJob" >getAutoparkJob</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAutoparkJobs" >getAutoparkJobs</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getBucketLifeCycleConfiguration" >getBucketLifeCycleConfiguration</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getChangeRequestComments" >getChangeRequestComments</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getChangeRequestStatus" >getChangeRequestStatus</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getConfigurationItems" >getConfigurationItems</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getData" >getData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMemoryUtilizationData" >getMemoryUtilizationData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getMetricStatistics" >getMetricStatistics</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getNewRelicAccounts" >getNewRelicAccounts</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getNewRelicData" >getNewRelicData</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getNewRelicEntities" >getNewRelicEntities</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getProducts" >getProducts</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getServiceNowChangeRequest" >getServiceNowChangeRequest</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getServiceNowChangeRequests" >getServiceNowChangeRequests</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#listBuckets" >listBuckets</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#listDomainNames" >listDomainNames</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#listMultipartUploads" >listMultipartUploads</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#listOrganizationAccounts" >listOrganizationAccounts</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#listParts" >listParts</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#listTagsForResource" >listTagsForResource</a>
                            </li>
                            <li>
                                <a href="#retrieveTagsInfo" >retrieveTagsInfo</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#runAutoparkJobs" >runAutoparkJobs</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#startDBInstance" >startDBInstance</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#startInstances" >startInstances</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#stopDBInstance" >stopDBInstance</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#stopInstances" >stopInstances</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateAutoparkJob" >updateAutoparkJob</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateServiceNowChangeRequest" >updateServiceNowChangeRequest</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#validateAutoparkResources" >validateAutoparkResources</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(db: <a href="../injectables/DatabaseService.html" target="_self">DatabaseService</a>, moduleRef: ModuleRef, query: Knex)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="138" class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:138</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>db</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DatabaseService.html" target="_self" >DatabaseService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>moduleRef</td>
                                                  
                                                        <td>
                                                                    <code>ModuleRef</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>query</td>
                                                  
                                                        <td>
                                                                    <code>Knex</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addConfigurationItem"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>addConfigurationItem</b></span>
                        <a href="#addConfigurationItem"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addConfigurationItem(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6042"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6042</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="autoparkDatabasesCheck"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>autoparkDatabasesCheck</b></span>
                        <a href="#autoparkDatabasesCheck"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>autoparkDatabasesCheck(job: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="7015"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:7015</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>job</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="autoparkInstancesCheck"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>autoparkInstancesCheck</b></span>
                        <a href="#autoparkInstancesCheck"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>autoparkInstancesCheck(job: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6885"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6885</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>job</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableCaches"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableCaches</b></span>
                        <a href="#availableCaches"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableCaches(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1175"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1175</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableCostAnomalyData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableCostAnomalyData</b></span>
                        <a href="#availableCostAnomalyData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableCostAnomalyData(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4213"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:4213</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableCostPricingData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableCostPricingData</b></span>
                        <a href="#availableCostPricingData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableCostPricingData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5175"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5175</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableDatabases"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableDatabases</b></span>
                        <a href="#availableDatabases"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableDatabases(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1080"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1080</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableDataWarehouses"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableDataWarehouses</b></span>
                        <a href="#availableDataWarehouses"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableDataWarehouses(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1359"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1359</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableImages"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableImages</b></span>
                        <a href="#availableImages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableImages(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="945"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:945</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableInstances"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableInstances</b></span>
                        <a href="#availableInstances"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableInstances(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1029"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1029</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableLoadBalancers"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableLoadBalancers</b></span>
                        <a href="#availableLoadBalancers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableLoadBalancers(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1281"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1281</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableSearchEngines"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableSearchEngines</b></span>
                        <a href="#availableSearchEngines"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableSearchEngines(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1507"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1507</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableSnapshots"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableSnapshots</b></span>
                        <a href="#availableSnapshots"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableSnapshots(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="894"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:894</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableStorages"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableStorages</b></span>
                        <a href="#availableStorages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableStorages(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1447"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1447</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="availableVolumes"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>availableVolumes</b></span>
                        <a href="#availableVolumes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>availableVolumes(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="842"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:842</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkAutoparkJobHolidays"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>checkAutoparkJobHolidays</b></span>
                        <a href="#checkAutoparkJobHolidays"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkAutoparkJobHolidays()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6693"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6693</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkConfigurationItems"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>checkConfigurationItems</b></span>
                        <a href="#checkConfigurationItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkConfigurationItems(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5860"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5860</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createAutoparkJob"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createAutoparkJob</b></span>
                        <a href="#createAutoparkJob"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createAutoparkJob(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6349"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6349</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createCost"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createCost</b></span>
                        <a href="#createCost"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createCost(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4945"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:4945</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createMetricEbs"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createMetricEbs</b></span>
                        <a href="#createMetricEbs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createMetricEbs(metricData: literal type[], assumeRole: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6099"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6099</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>metricData</td>
                                    <td>
                                            <code>literal type[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>assumeRole</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" >Object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createMetricEc2"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createMetricEc2</b></span>
                        <a href="#createMetricEc2"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createMetricEc2(metricData: literal type[], assumeRole: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank">Object</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6222"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6222</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>metricData</td>
                                    <td>
                                            <code>literal type[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>assumeRole</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" target="_blank" >Object</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createServiceNowChangeRequest"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createServiceNowChangeRequest</b></span>
                        <a href="#createServiceNowChangeRequest"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createServiceNowChangeRequest(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5313"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5313</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dataPull"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>dataPull</b></span>
                        <a href="#dataPull"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>dataPull(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4780"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:4780</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteAutoparkJob"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>deleteAutoparkJob</b></span>
                        <a href="#deleteAutoparkJob"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteAutoparkJob(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6648"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6648</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteDataApi"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>deleteDataApi</b></span>
                        <a href="#deleteDataApi"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteDataApi(row, service)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="7168"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:7168</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>row</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>service</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeCacheClusters"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeCacheClusters</b></span>
                        <a href="#describeCacheClusters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeCacheClusters(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="324"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:324</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;CacheCluster[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeClusters"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeClusters</b></span>
                        <a href="#describeClusters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeClusters(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="459"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:459</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Cluster[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeDBInstances"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeDBInstances</b></span>
                        <a href="#describeDBInstances"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeDBInstances(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="278"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:278</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;DBInstance[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeElasticSearchDomain"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeElasticSearchDomain</b></span>
                        <a href="#describeElasticSearchDomain"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeElasticSearchDomain(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="619"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:619</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;ElasticsearchDomainStatus&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeElasticSearchDomainConfig"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeElasticSearchDomainConfig</b></span>
                        <a href="#describeElasticSearchDomainConfig"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeElasticSearchDomainConfig(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="639"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:639</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;ElasticsearchDomainConfig&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeELBTags"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeELBTags</b></span>
                        <a href="#describeELBTags"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeELBTags(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="441"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:441</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;TagDescription[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeImageAttribute"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeImageAttribute</b></span>
                        <a href="#describeImageAttribute"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeImageAttribute(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="260"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:260</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeImages"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeImages</b></span>
                        <a href="#describeImages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeImages(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="242"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:242</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Image[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeInstanceHealth"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeInstanceHealth</b></span>
                        <a href="#describeInstanceHealth"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeInstanceHealth(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="423"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:423</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;InstanceState[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeInstances"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeInstances</b></span>
                        <a href="#describeInstances"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeInstances(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="213"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:213</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Reservation[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeLoadBalancers"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeLoadBalancers</b></span>
                        <a href="#describeLoadBalancers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeLoadBalancers(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="393"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:393</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;LoadBalancerDescription[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeReplicationGroups"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeReplicationGroups</b></span>
                        <a href="#describeReplicationGroups"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeReplicationGroups(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="357"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:357</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;ReplicationGroup[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeServices"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeServices</b></span>
                        <a href="#describeServices"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeServices(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="741"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:741</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/enumerations.html#Service" target="_self" >Promise&lt;Service[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeSnapshots"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeSnapshots</b></span>
                        <a href="#describeSnapshots"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeSnapshots(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="184"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:184</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Snapshot[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="describeVolumes"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>describeVolumes</b></span>
                        <a href="#describeVolumes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>describeVolumes(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="155"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:155</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Volume[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchCaches"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchCaches</b></span>
                        <a href="#fetchCaches"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchCaches(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2452"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:2452</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchConfigurationItems"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchConfigurationItems</b></span>
                        <a href="#fetchConfigurationItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchConfigurationItems(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5700"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5700</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchCostAnomalyData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchCostAnomalyData</b></span>
                        <a href="#fetchCostAnomalyData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchCostAnomalyData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4268"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:4268</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchDatabases"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchDatabases</b></span>
                        <a href="#fetchDatabases"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchDatabases(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2204"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:2204</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchDataWarehouses"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchDataWarehouses</b></span>
                        <a href="#fetchDataWarehouses"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchDataWarehouses(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2970"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:2970</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchImages"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchImages</b></span>
                        <a href="#fetchImages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchImages(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1904"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1904</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchInstances"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchInstances</b></span>
                        <a href="#fetchInstances"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchInstances(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2055"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:2055</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchLoadBalancers"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchLoadBalancers</b></span>
                        <a href="#fetchLoadBalancers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchLoadBalancers(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="2792"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:2792</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchMemoryUtilization"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchMemoryUtilization</b></span>
                        <a href="#fetchMemoryUtilization"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchMemoryUtilization()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3967"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3967</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchMultipartUploads"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchMultipartUploads</b></span>
                        <a href="#fetchMultipartUploads"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchMultipartUploads()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3255"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3255</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchNewRelicAccounts"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchNewRelicAccounts</b></span>
                        <a href="#fetchNewRelicAccounts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchNewRelicAccounts()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3885"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3885</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchNewRelicEntities"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchNewRelicEntities</b></span>
                        <a href="#fetchNewRelicEntities"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchNewRelicEntities(provider: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3764"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3764</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>provider</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchPricingData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchPricingData</b></span>
                        <a href="#fetchPricingData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchPricingData()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4832"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:4832</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchSearchEngines"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchSearchEngines</b></span>
                        <a href="#fetchSearchEngines"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchSearchEngines(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3467"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3467</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchServiceData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchServiceData</b></span>
                        <a href="#fetchServiceData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchServiceData(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4407"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:4407</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchSnapshots"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchSnapshots</b></span>
                        <a href="#fetchSnapshots"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchSnapshots(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1773"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1773</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchStorages"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchStorages</b></span>
                        <a href="#fetchStorages"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchStorages(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3179"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3179</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchVolumes"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fetchVolumes</b></span>
                        <a href="#fetchVolumes"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fetchVolumes(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1581"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:1581</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllForDeletion"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getAllForDeletion</b></span>
                        <a href="#getAllForDeletion"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAllForDeletion(resource_ids, label_ids, provider, service)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="7255"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:7255</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>resource_ids</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>label_ids</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>provider</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>service</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAnomalies"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getAnomalies</b></span>
                        <a href="#getAnomalies"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAnomalies(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="688"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:688</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Anomaly[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAutoparkJob"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getAutoparkJob</b></span>
                        <a href="#getAutoparkJob"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAutoparkJob(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6603"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6603</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAutoparkJobs"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getAutoparkJobs</b></span>
                        <a href="#getAutoparkJobs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAutoparkJobs(token: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6431"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6431</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>token</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBucketLifeCycleConfiguration"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getBucketLifeCycleConfiguration</b></span>
                        <a href="#getBucketLifeCycleConfiguration"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getBucketLifeCycleConfiguration(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="506"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:506</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;LifecycleRule[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getChangeRequestComments"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getChangeRequestComments</b></span>
                        <a href="#getChangeRequestComments"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getChangeRequestComments(number: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5934"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5934</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>number</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getChangeRequestStatus"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getChangeRequestStatus</b></span>
                        <a href="#getChangeRequestStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getChangeRequestStatus(number: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5895"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5895</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>number</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getConfigurationItems"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getConfigurationItems</b></span>
                        <a href="#getConfigurationItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getConfigurationItems(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5663"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5663</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getData</b></span>
                        <a href="#getData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getData(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5203"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5203</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMemoryUtilizationData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getMemoryUtilizationData</b></span>
                        <a href="#getMemoryUtilizationData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMemoryUtilizationData(chunk: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, type: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, accounts: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="4135"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:4135</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>chunk</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>type</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>accounts</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMetricStatistics"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getMetricStatistics</b></span>
                        <a href="#getMetricStatistics"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getMetricStatistics(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="306"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:306</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Datapoint[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNewRelicAccounts"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getNewRelicAccounts</b></span>
                        <a href="#getNewRelicAccounts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNewRelicAccounts()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3698"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3698</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNewRelicData"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getNewRelicData</b></span>
                        <a href="#getNewRelicData"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNewRelicData(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3719"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3719</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getNewRelicEntities"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getNewRelicEntities</b></span>
                        <a href="#getNewRelicEntities"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getNewRelicEntities(resource_id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3952"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3952</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>resource_id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getProducts"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getProducts</b></span>
                        <a href="#getProducts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getProducts(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="715"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:715</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getServiceNowChangeRequest"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getServiceNowChangeRequest</b></span>
                        <a href="#getServiceNowChangeRequest"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getServiceNowChangeRequest(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5965"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5965</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getServiceNowChangeRequests"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getServiceNowChangeRequests</b></span>
                        <a href="#getServiceNowChangeRequests"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getServiceNowChangeRequests(token: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5624"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5624</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>token</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listBuckets"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>listBuckets</b></span>
                        <a href="#listBuckets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>listBuckets(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="488"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:488</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Bucket[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listDomainNames"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>listDomainNames</b></span>
                        <a href="#listDomainNames"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>listDomainNames(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="601"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:601</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;DomainInfo[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listMultipartUploads"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>listMultipartUploads</b></span>
                        <a href="#listMultipartUploads"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>listMultipartUploads(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="526"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:526</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listOrganizationAccounts"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>listOrganizationAccounts</b></span>
                        <a href="#listOrganizationAccounts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>listOrganizationAccounts(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="661"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:661</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Account[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listParts"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>listParts</b></span>
                        <a href="#listParts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>listParts(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="569"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:569</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Part[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="listTagsForResource"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>listTagsForResource</b></span>
                        <a href="#listTagsForResource"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>listTagsForResource(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="375"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:375</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;Tag[]&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="retrieveTagsInfo"></a>
                    <span class="name">
                        <span ><b>retrieveTagsInfo</b></span>
                        <a href="#retrieveTagsInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>retrieveTagsInfo(tags: Tag[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="3653"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:3653</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>tags</td>
                                    <td>
                                            <code>Tag[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>{ Application: string; Migration: string; &#x27;Financial Owner Email&#x27;: string; &#x27;Technical Owner Email&#x27;: string; &#x27;Repo Name&#x27;: string; &#x27;Repo Owner&#x27;: string; }</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="runAutoparkJobs"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>runAutoparkJobs</b></span>
                        <a href="#runAutoparkJobs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>runAutoparkJobs()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6795"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6795</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startDBInstance"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>startDBInstance</b></span>
                        <a href="#startDBInstance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>startDBInstance(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="805"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:805</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="startInstances"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>startInstances</b></span>
                        <a href="#startInstances"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>startInstances(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="769"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:769</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopDBInstance"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>stopDBInstance</b></span>
                        <a href="#stopDBInstance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>stopDBInstance(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="823"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:823</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="stopInstances"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>stopInstances</b></span>
                        <a href="#stopInstances"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>stopInstances(options: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="787"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:787</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateAutoparkJob"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>updateAutoparkJob</b></span>
                        <a href="#updateAutoparkJob"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateAutoparkJob(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6466"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6466</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateServiceNowChangeRequest"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>updateServiceNowChangeRequest</b></span>
                        <a href="#updateServiceNowChangeRequest"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateServiceNowChangeRequest(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="5450"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:5450</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateAutoparkResources"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>validateAutoparkResources</b></span>
                        <a href="#validateAutoparkResources"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateAutoparkResources(options: literal type)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="6325"
                            class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:6325</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>options</td>
                                    <td>
                                            <code>literal type</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logger"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>logger</b></span>
                        <a href="#logger"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Logger(AwsService.name)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="138" class="link-to-prism">src/cloud_provider/aws/service/aws.service.ts:138</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Injectable,
  Logger,
  BadRequestException,
  HttpException,
} from &#x27;@nestjs/common&#x27;;
import {
  EC2Client,
  DescribeVolumesCommand,
  DescribeSnapshotsCommand,
  DescribeInstancesCommand,
  DescribeImagesCommand,
  DescribeImageAttributeCommand,
  Snapshot,
  Volume,
  Reservation,
  Image,
  DeleteSnapshotCommand,
  StartInstancesCommand,
  StopInstancesCommand,
  DeregisterImageCommand,
  DeleteVolumeCommand,
  TerminateInstancesCommand,
} from &#x27;@aws-sdk/client-ec2&#x27;;
import {
  RDSClient,
  DescribeDBInstancesCommand,
  StartDBInstanceCommand,
  StopDBInstanceCommand,
  DBInstance,
} from &#x27;@aws-sdk/client-rds&#x27;;
import {
  CloudWatchClient,
  GetMetricStatisticsCommand,
  Datapoint,
} from &#x27;@aws-sdk/client-cloudwatch&#x27;;
import {
  ElastiCacheClient,
  DescribeCacheClustersCommand,
  DescribeReplicationGroupsCommand,
  ListTagsForResourceCommand,
  CacheCluster,
  ReplicationGroup,
  Tag,
} from &#x27;@aws-sdk/client-elasticache&#x27;;
import {
  ElasticLoadBalancingClient,
  DescribeLoadBalancersCommand,
  DescribeInstanceHealthCommand,
  DescribeTagsCommand,
  LoadBalancerDescription,
  InstanceState,
  TagDescription,
} from &#x27;@aws-sdk/client-elastic-load-balancing&#x27;;
import {
  RedshiftClient,
  DescribeClustersCommand,
  Cluster,
} from &#x27;@aws-sdk/client-redshift&#x27;;
import {
  S3Client,
  ListBucketsCommand,
  GetBucketLifecycleConfigurationCommand,
  ListMultipartUploadsCommand,
  ListPartsCommand,
  Bucket,
  LifecycleRule,
  Part,
} from &#x27;@aws-sdk/client-s3&#x27;;
import {
  ElasticsearchServiceClient,
  ListDomainNamesCommand,
  DescribeElasticsearchDomainCommand,
  DescribeElasticsearchDomainConfigCommand,
  DomainInfo,
  ElasticsearchDomainStatus,
  ElasticsearchDomainConfig,
} from &#x27;@aws-sdk/client-elasticsearch-service&#x27;;
import {
  CostExplorerClient,
  GetAnomaliesCommand,
  Anomaly,
} from &#x27;@aws-sdk/client-cost-explorer&#x27;;
import {
  OrganizationsClient,
  ListAccountsCommand,
  Account,
} from &#x27;@aws-sdk/client-organizations&#x27;;
import {
  PricingClient,
  GetProductsCommand,
  DescribeServicesCommand,
  Service,
} from &#x27;@aws-sdk/client-pricing&#x27;;
import {
  find,
  cloneDeep,
  has,
  isBoolean,
  round,
  parseInt,
  size,
  map,
  join,
  startCase,
  isEmpty,
  sumBy,
  toNumber,
  forEach,
  pick,
  filter,
  keys,
  chunk,
  trim,
  capitalize,
  uniq,
  includes,
  toUpperCase,
  compact,
  groupBy
} from &#x27;lodash&#x27;;
import * as moment from &#x27;moment&#x27;;
import { tz } from &#x27;moment-timezone&#x27;;
import { DatabaseService } from &#x27;../../../database/database.service&#x27;;
import { gql, GraphQLClient } from &#x27;graphql-request&#x27;;
import DataNotFoundException from &#x27;../../../exceptions/dataNotFound.exception&#x27;;
import { ModuleRef } from &#x27;@nestjs/core&#x27;;
import * as awsRegions from &#x27;aws-regions&#x27;;
import { AccountsDto } from &#x27;src/dtos/accounts.dto&#x27;;
import { getLatestRefreshDate } from &#x27;../../../utils&#x27;;
import { InjectKnex, Knex } from &#x27;nestjs-knex&#x27;;
import { ServiceMapping } from &#x27;../../../enums/service.mapping&#x27;;
import { PaginationDto } from &#x27;src/dtos/pagination.dto&#x27;;
import { Prisma } from &#x27;@prisma/client&#x27;;

@Injectable()
export class AwsService {
  private readonly logger &#x3D; new Logger(AwsService.name);

  constructor(
    private readonly db: DatabaseService,
    private readonly moduleRef: ModuleRef,
    @InjectKnex() private readonly query: Knex,
  ) {
    // query.on(&#x27;query&#x27;, ({ sql, bindings, ...rest }) &#x3D;&gt; {
    //   console.log(sql);
    // });
    // db.$on&lt;any&gt;(&#x27;query&#x27;, (event: Prisma.QueryEvent) &#x3D;&gt; {
    //   console.log(event);
    //   // consolelog(&#x27;Query: &#x27; + event);
    // });
  }

  // AWS APIs
  async describeVolumes(options: any): Promise&lt;Volume[]&gt; {
    try {
      // Initialize EC2Client
      const client &#x3D; new EC2Client({
        region: options.region,
        credentials: options.credentials,
      });

      // Make call to AWS DescribeVolumes API
      const command &#x3D; new DescribeVolumesCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.Volumes);
      if (response.NextToken) {
        return await this.describeVolumes({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, NextToken: response.NextToken },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeVolumes(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeSnapshots(options: any): Promise&lt;Snapshot[]&gt; {
    try {
      // Initialize EC2Client
      const client &#x3D; new EC2Client({
        region: options.region,
        credentials: options.credentials,
      });

      // Make call to AWS DescribeSnapshots API
      const command &#x3D; new DescribeSnapshotsCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.Snapshots);
      if (response.NextToken) {
        return await this.describeSnapshots({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, NextToken: response.NextToken },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeSnapshots(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeInstances(options: any): Promise&lt;Reservation[]&gt; {
    try {
      // Initialize EC2Client
      const client &#x3D; new EC2Client({
        region: options.region,
        credentials: options.credentials,
      });

      // Make call to AWS DescribeInstances API
      const command &#x3D; new DescribeInstancesCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.Reservations);
      if (response.NextToken) {
        return await this.describeInstances({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, NextToken: response.NextToken },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeInstances(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeImages(options: any): Promise&lt;Image[]&gt; {
    try {
      // Initialize EC2Client
      const client &#x3D; new EC2Client({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeImages API
      const command &#x3D; new DescribeImagesCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.Images;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeImages(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeImageAttribute(options: any): Promise&lt;any&gt; {
    try {
      // Initialize EC2Client
      const client &#x3D; new EC2Client({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeImages API
      const command &#x3D; new DescribeImageAttributeCommand(options.input);
      const response &#x3D; await client.send(command);
      return response;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeImageAttribute(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeDBInstances(options: any): Promise&lt;DBInstance[]&gt; {
    try {
      // Initialize RDSClient
      const client &#x3D; new RDSClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeDBInstances API
      const command &#x3D; new DescribeDBInstancesCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.DBInstances);
      if (response.Marker) {
        return await this.describeDBInstances({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, Marker: response.Marker },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeDBInstances(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async getMetricStatistics(options: any): Promise&lt;Datapoint[]&gt; {
    try {
      // Initialize CloudWatchClient
      const client &#x3D; new CloudWatchClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS GetMetricStatistics API
      const command &#x3D; new GetMetricStatisticsCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.Datapoints;
    } catch (error) {
      this.logger.error(
        &#x60;GetMetricStatistics(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeCacheClusters(options: any): Promise&lt;CacheCluster[]&gt; {
    try {
      // Initialize ElastiCacheClient
      const client &#x3D; new ElastiCacheClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeCacheClusters API
      const command &#x3D; new DescribeCacheClustersCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.CacheClusters);
      console.log(
        &#x27;CacheClusters&#x27;,
        response.CacheClusters.length,
        response.Marker,
      );
      if (response.Marker) {
        return this.describeCacheClusters({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, Marker: response.Marker },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeCacheClusters(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeReplicationGroups(options: any): Promise&lt;ReplicationGroup[]&gt; {
    try {
      // Initialize ElastiCacheClient
      const client &#x3D; new ElastiCacheClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeReplicationGroups API
      const command &#x3D; new DescribeReplicationGroupsCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.ReplicationGroups;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeReplicationGroups(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async listTagsForResource(options: any): Promise&lt;Tag[]&gt; {
    try {
      // Initialize ElastiCacheClient
      const client &#x3D; new ElastiCacheClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS ListTagsForResource API
      const command &#x3D; new ListTagsForResourceCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.TagList;
    } catch (error) {
      this.logger.error(
        &#x60;ListTagsForResource(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeLoadBalancers(
    options: any,
  ): Promise&lt;LoadBalancerDescription[]&gt; {
    try {
      // Initialize ElasticLoadBalancingClient
      const client &#x3D; new ElasticLoadBalancingClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeLoadBalancersCommand API
      const command &#x3D; new DescribeLoadBalancersCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.LoadBalancerDescriptions);
      if (response.NextMarker) {
        return await this.describeLoadBalancers({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, Marker: response.NextMarker },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeLoadBalancers(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeInstanceHealth(options: any): Promise&lt;InstanceState[]&gt; {
    try {
      // Initialize ElasticLoadBalancingClient
      const client &#x3D; new ElasticLoadBalancingClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeInstanceHealthCommand API
      const command &#x3D; new DescribeInstanceHealthCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.InstanceStates;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeInstanceHealth(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeELBTags(options: any): Promise&lt;TagDescription[]&gt; {
    try {
      // Initialize ElasticLoadBalancingClient
      const client &#x3D; new ElasticLoadBalancingClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeTagsCommand API
      const command &#x3D; new DescribeTagsCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.TagDescriptions;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeTags(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeClusters(options: any): Promise&lt;Cluster[]&gt; {
    try {
      // Initialize RedshiftClient
      const client &#x3D; new RedshiftClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeClusters API
      const command &#x3D; new DescribeClustersCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.Clusters);
      console.log(&#x27;Clusters&#x27;, response.Clusters.length, response.Marker);
      if (response.Marker) {
        return this.describeClusters({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, Marker: response.Marker },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeClusters(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async listBuckets(options: any): Promise&lt;Bucket[]&gt; {
    try {
      // Initialize S3Client
      const client &#x3D; new S3Client({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS ListBuckets API
      const command &#x3D; new ListBucketsCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.Buckets;
    } catch (error) {
      this.logger.error(
        &#x60;ListBuckets(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async getBucketLifeCycleConfiguration(
    options: any,
  ): Promise&lt;LifecycleRule[]&gt; {
    try {
      // Initialize S3Client
      const client &#x3D; new S3Client({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS GetBucketLifecycleConfiguration API
      const command &#x3D; new GetBucketLifecycleConfigurationCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.Rules;
    } catch (error) {
      this.logger.error(
        &#x60;GetBucketLifecycleConfiguration(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async listMultipartUploads(options: any): Promise&lt;any&gt; {
    try {
      // Initialize S3Client
      const client &#x3D; options.client ? options.client : new S3Client({
        region: options.region,
        credentials: options.credentials,
      });

      // Make call to AWS ListMultipartUploads API
      const command &#x3D; new ListMultipartUploadsCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      if (response.Uploads) {
        data.push(...response.Uploads);
      }
      if (response.NextKeyMarker &amp;&amp; response.NextUploadIdMarker &amp;&amp; response.Uploads) {
        return this.listMultipartUploads({
          region: options.region,
          credentials: options.credentials,
          input: {
            ...options.input,
            KeyMarker: response.NextKeyMarker,
            UploadIdMarker: response.NextUploadIdMarker,
          },
          data,
          client
        });
      }

      return {
        Bucket: options.input.Bucket,
        Region: options.region,
        Credentials: options.credentials,
        Uploads: data,
      };
    } catch (error) {
      this.logger.error(
        &#x60;ListMultipartUploads(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
      return undefined;
    }
  }

  async listParts(options: any): Promise&lt;Part[]&gt; {
    try {
      // Initialize S3Client
      const client &#x3D; new S3Client({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS ListParts API
      const command &#x3D; new ListPartsCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      if(response.Parts) {
        data.push(...response.Parts);
      }

      if (response.NextPartNumberMarker &amp;&amp; response.Parts) {
        return this.listParts({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, PartNumberMarker: response.NextPartNumberMarker },
          data,
        });
      }
    
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;ListParts(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async listDomainNames(options: any): Promise&lt;DomainInfo[]&gt; {
    try {
      // Initialize ElasticsearchServiceClient
      const client &#x3D; new ElasticsearchServiceClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS ListDomainNames API
      const command &#x3D; new ListDomainNamesCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.DomainNames;
    } catch (error) {
      this.logger.error(
        &#x60;ListDomainNames(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeElasticSearchDomain(
    options: any,
  ): Promise&lt;ElasticsearchDomainStatus&gt; {
    try {
      // Initialize ElasticsearchServiceClient
      const client &#x3D; new ElasticsearchServiceClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeElasticsearchDomain API
      const command &#x3D; new DescribeElasticsearchDomainCommand(options.input);
      const response &#x3D; await client.send(command);
      return response.DomainStatus;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeElasticsearchDomain(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async describeElasticSearchDomainConfig(
    options: any,
  ): Promise&lt;ElasticsearchDomainConfig&gt; {
    try {
      // Initialize ElasticsearchServiceClient
      const client &#x3D; new ElasticsearchServiceClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeElasticsearchDomainConfig API
      const command &#x3D; new DescribeElasticsearchDomainConfigCommand(
        options.input,
      );
      const response &#x3D; await client.send(command);
      return response.DomainConfig;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeElasticsearchDomainConfig(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async listOrganizationAccounts(options: any): Promise&lt;Account[]&gt; {
    try {
      // Initialize OrganizationsClient
      const client &#x3D; new OrganizationsClient({
        region: options.region,
        credentials: options.credentials,
      });

      // Make call to AWS ListAccounts API
      const command &#x3D; new ListAccountsCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.Accounts);
      if (response.NextToken) {
        return await this.listOrganizationAccounts({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, NextToken: response.NextToken },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(&#x60;ListAccounts(${options.region}): ${error.message}&#x60;);
    }
  }

  async getAnomalies(options: any): Promise&lt;Anomaly[]&gt; {
    try {
      // Initialize CostExplorerClient
      const client &#x3D; new CostExplorerClient({
        region: options.region,
        credentials: options.credentials,
      });

      // Make call to AWS GetAnomalies API
      const command &#x3D; new GetAnomaliesCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.Anomalies);
      if (response.NextPageToken) {
        return await this.getAnomalies({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, NextPageToken: response.NextPageToken },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(&#x60;GetAnomalies(${options.region}): ${error.message}&#x60;);
    }
  }

  async getProducts(options: any): Promise&lt;any&gt; {
    try {
      // Initialize PricingClient
      const client &#x3D; new PricingClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS GetProducts API
      const command &#x3D; new GetProductsCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: any &#x3D; options.data ? [...options.data] : [];
      data.push(...response.PriceList);
      if (response.NextToken) {
        return this.getProducts({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, NextToken: response.NextToken },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(&#x60;GetProducts: ${error.message}&#x60;);
    }
  }

  async describeServices(options: any): Promise&lt;Service[]&gt; {
    try {
      // Initialize PricingClient
      const client &#x3D; new PricingClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS DescribeServices API
      const command &#x3D; new DescribeServicesCommand(options.input);
      const response &#x3D; await client.send(command);
      let data: Service[] &#x3D; options.data ? [...options.data] : [];
      data.push(...response.Services);
      if (response.NextToken) {
        return await this.describeServices({
          region: options.region,
          credentials: options.credentials,
          input: { ...options.input, NextToken: response.NextToken },
          data,
        });
      }
      return data;
    } catch (error) {
      this.logger.error(
        &#x60;DescribeServices(${options.account.name}-${options.region}): ${error.message}&#x60;,
      );
    }
  }

  async startInstances(options: any): Promise&lt;any&gt; {
    try {
      // Initialize EC2Client
      const client &#x3D; new EC2Client({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS StartInstances API
      const command &#x3D; new StartInstancesCommand(options.input);
      const response &#x3D; await client.send(command);
      return response;
    } catch (error) {
      this.logger.error(
        &#x60;StopInstances(${options.input.InstanceIds[0]}): ${error.message}&#x60;,
      );
    }
  }

  async stopInstances(options: any): Promise&lt;any&gt; {
    try {
      // Initialize EC2Client
      const client &#x3D; new EC2Client({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS StopInstances API
      const command &#x3D; new StopInstancesCommand(options.input);
      const response &#x3D; await client.send(command);
      return response;
    } catch (error) {
      this.logger.error(
        &#x60;StopInstances(${options.input.InstanceIds[0]}): ${error.message}&#x60;,
      );
    }
  }

  async startDBInstance(options: any): Promise&lt;any&gt; {
    try {
      // Initialize RDSClient
      const client &#x3D; new RDSClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS StartDBInstance API
      const command &#x3D; new StartDBInstanceCommand(options.input);
      const response &#x3D; await client.send(command);
      return response;
    } catch (error) {
      this.logger.error(
        &#x60;StopDBInstance(${options.input.DBInstanceIdentifier}): ${error.message}&#x60;,
      );
    }
  }

  async stopDBInstance(options: any): Promise&lt;any&gt; {
    try {
      // Initialize RDSClient
      const client &#x3D; new RDSClient({
        region: options.region,
        credentials: options.credentials,
      });
      // Make call to AWS StopDBInstance API
      const command &#x3D; new StopDBInstanceCommand(options.input);
      const response &#x3D; await client.send(command);
      return response;
    } catch (error) {
      this.logger.error(
        &#x60;StopDBInstance(${options.input.DBInstanceIdentifier}): ${error.message}&#x60;,
      );
    }
  }

  // APIs to return data from the data store
  async availableVolumes(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_ebs_view&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_ebs_view.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
      });

      // Get count of data
      const count &#x3D; await this.db.aws_ebs_view.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_ebs_view&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      console.log(error);
      this.logger.warn(&#x27;Volumes not found&#x27;);
    }
  }

  async availableSnapshots(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_snapshot_view&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_snapshot_view.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
      });

      // Get count of data
      const count &#x3D; await this.db.aws_snapshot_view.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_snapshot_view&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Snapshots not found&#x27;);
    }
  }

  async availableImages(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_ami&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_ami.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
        select: {
          account_name: true,
          region: true,
          image_id: true,
          state: true,
          is_public: true,
          description: true,
          root_device_type: true,
          ena_support: true,
          creation_date: true,
          name: true,
          owner_id: true,
          image_location: true,
          platform: true,
          instance_state: true,
          instance_id: true,
          shared: true,
          last_launched_time: true,
          aging: true,
          data_refresh_date_time: true,
          application: true,
          migration: true,
          financial_owner_email: true,
          technical_owner_email: true,
          repo_name: true,
          repo_owner: true,
          tags: {
            select: {
              key: true,
              value: true,
            },
          },
        },
      });

      // Get count of data
      const count &#x3D; await this.db.aws_ami.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_ami&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Images not found&#x27;);
    }
  }

  async availableInstances(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_ec2_view&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      const data &#x3D; await this.db.aws_ec2_view.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
      });

      // Get count of data
      const count &#x3D; await this.db.aws_ec2_view.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_ec2_view&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      console.log(error);
      this.logger.warn(&#x27;Instances not found&#x27;);
    }
  }

  async availableDatabases(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_rds_view&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_rds_view.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
        select: {
          id: true,
          account_name: true,
          region: true,
          resource_name: true,
          db_instance_class: true,
          engine: true,
          engine_version: true,
          db_con_14: true,
          db_con_mx_14: true,
          cpu_14: true,
          cpu_mx_14: true,
          cpu_mi_14: true,
          wio_14: true,
          rio_14: true,
          mem_14: true,
          storage_14: true,
          db_con_60: true,
          db_con_mx_60: true,
          cpu_60: true,
          cpu_mx_60: true,
          cpu_mi_60: true,
          wio_60: true,
          rio_60: true,
          mem_60: true,
          storage_60: true,
          application: true,
          financial_owner_email: true,
          migration: true,
          repo_name: true,
          repo_owner: true,
          technical_owner_email: true,
          multi_az: true,
          instance_create_time: true,
          cost: true,
          storage_type: true,
          allocated_storage: true,
          iops: true,
          backup_retention_period: true,
          preferred_backup_window: true,
          resource_id: true,
          endpoint: true,
          data_refresh_date_time: true,
        },
      });

      // Get count of data
      const count &#x3D; await this.db.aws_rds_view.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_rds_view&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Databases not found&#x27;);
    }
  }

  async availableCaches(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_elasticache_view&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_elasticache_view.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
        select: {
          id: true,
          account_name: true,
          region: true,
          cache_cluster_id: true,
          cache_cluster_status: true,
          cache_node_type: true,
          engine: true,
          engine_version: true,
          cost: true,
          cache_node_count: true,
          cache_cluster_create_time: true,
          cache_parameter_group: true,
          auth_token_enabled: true,
          preferred_maintenance_window: true,
          snapshot_window: true,
          security_groups: true,
          snapshot_retention_limit: true,
          cluster_enabled: true,
          node_shard_count: true,
          multi_az: true,
          automatic_fail_over: true,
          description: true,
          cpu_14: true,
          cpu_14x: true,
          cpu_14i: true,
          freem_14: true,
          freem_14x: true,
          ubyts_14: true,
          ubyts_14x: true,
          curritm_14: true,
          hits_14: true,
          miss_14: true,
          conn_14: true,
          evic_14: true,
          cpu_60: true,
          cpu_60x: true,
          cpu_60i: true,
          freem_60: true,
          freem_60x: true,
          ubyts_60: true,
          ubyts_60x: true,
          curritm_60: true,
          hits_60: true,
          miss_60: true,
          conn_60: true,
          evic_60: true,
          application: true,
          migration: true,
          financial_owner_email: true,
          technical_owner_email: true,
          repo_name: true,
          repo_owner: true,
          data_refresh_date_time: true,
        },
      });

      // Get count of data
      const count &#x3D; await this.db.aws_elasticache_view.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_elasticache_view&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Caches not found&#x27;);
    }
  }

  async availableLoadBalancers(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_elb&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_elb.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
        select: {
          account_name: true,
          region: true,
          load_balancer_name: true,
          load_balancer_type: true,
          instance_id: true,
          instance_type: true,
          instance_state: true,
          launch_time: true,
          state: true,
          hhc: true,
          uhc: true,
          rc: true,
          application: true,
          migration: true,
          financial_owner_email: true,
          technical_owner_email: true,
          repo_name: true,
          repo_owner: true,
          data_refresh_date_time: true,
          tags: {
            select: {
              key: true,
              value: true,
            },
          },
        },
      });

      // Get count of data
      const count &#x3D; await this.db.aws_elb.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_elb&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Load Balancers not found&#x27;);
    }
  }

  async availableDataWarehouses(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_redshift&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_redshift.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
        select: {
          account_name: true,
          region: true,
          cluster_identifier: true,
          db_name: true,
          node_type: true,
          number_Of_nodes: true,
          cluster_status: true,
          cluster_create_time: true,
          db_con14: true,
          db_con_mx14: true,
          db_con_mi14: true,
          cpu14: true,
          cpu_mx14: true,
          cpu_mi14: true,
          wio14: true,
          rio14: true,
          table_cnt14: true,
          per_disk_used14: true,
          per_disk_used_mx14: true,
          per_disk_used_mi14: true,
          auto_vac14: true,
          db_con60: true,
          db_con_mx60: true,
          db_con_mi60: true,
          cpu60: true,
          cpu_mx60: true,
          cpu_mi60: true,
          wio60: true,
          rio60: true,
          table_cnt60: true,
          per_disk_used60: true,
          per_disk_used_mx60: true,
          per_disk_used_mi60: true,
          auto_vac60: true,
          data_refresh_date_time: true,
        },
      });

      // Get count of data
      const count &#x3D; await this.db.aws_redshift.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_redshift&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Data Warehouses not found&#x27;);
    }
  }

  async availableStorages(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_s3&#x27;);

      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; await this.db.aws_s3.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
        select: {
          account_name: true,
          region: true,
          name: true,
          data_refresh_date_time: true,
          abort_incomplete_multipart_upload: true,
          no_of_multipart_uploads: true,
          multipart_data_size: true,
        },
      });

      // Get count of data
      const count &#x3D; await this.db.aws_s3.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_s3&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Storages not found&#x27;);
    }
  }

  async availableSearchEngines(options: { data: PaginationDto }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_elasticsearch&#x27;);
      if (!recent) {
        return [];
      }

      const where &#x3D; {
        data_refresh_date_time: {
          gte: new Date(
            moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
          ),
        },
      };

      const operator &#x3D; options.data.operator
        ? options.data.operator.toUpperCase()
        : &#x27;AND&#x27;;

      // Generate Filters
      where[operator] &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .generateFilters(options.data.filters);

      // Get data
      const data &#x3D; this.db.aws_elasticsearch.findMany({
        ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
        ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
        where: where,
        ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
          orderBy: { [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;] },
        }),
        select: {
          account_name: true,
          region: true,
          domain_name: true,
          launchDate: true,
          dedicated_master: true,
          master_type: true,
          master_count: true,
          node_type: true,
          node_count: true,
          es_version: true,
          volume_type: true,
          volume_size: true,
          cpu_percentage: true,
          free_storage: true,
          jvm_pressure_percentage: true,
          ser_doc_cnt: true,
          ser_req_cnt: true,
          mast_cpu_percentage: true,
          ind_latency_seconds: true,
          search_rate_cnt: true,
          data_refresh_date_time: true,
        },
      });

      // Get count of data
      const count &#x3D; await this.db.aws_elasticsearch.count({
        where: where,
      });

      // Get column datatypes
      const datatypes &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getColumnDatatypes(&#x27;aws_elasticsearch&#x27;);

      return { data, datatypes, count };
    } catch (error) {
      this.logger.warn(&#x27;Search Engines not found&#x27;);
    }
  }

  // APIs to push data into the data store
  async fetchVolumes(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      this.logger.log(
        &#x60;Retrieving volumes for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      console.time(
        &#x60;Retrieving volumes for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Volumes Data
      const volumes &#x3D; await this.describeVolumes(options);

      // Pricing Data
      const pricing &#x3D; {
        gp2: 0.1,
        gp3: 0.08,
        gp3_io: 0.005,
        io1: 0.125,
        io1_io: 0.065,
        st1: 0.045,
      };

      let dataMemDb &#x3D; [];
      let tagsMemDb &#x3D; [];
      let metricMemDb &#x3D; [];
      if (volumes &amp;&amp; volumes.length &gt; 0) {
        let today &#x3D; moment();
        for (let volume of volumes) {
          const uuid &#x3D; &#x60;${Math.random()
            .toString(16)
            .slice(2)}_${new Date().getTime()}&#x60;;

          let startTime &#x3D; moment(volume[&#x27;CreateTime&#x27;]);
          let volumeName &#x3D; find(volume[&#x27;Tags&#x27;], { Key: &#x27;Name&#x27; });
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            VolumeId: volume[&#x27;VolumeId&#x27;] ?? &#x27;&#x27;,
            VolumeInstanceName: volume[&#x27;VolumeInstanceName&#x27;] ?? &#x27;&#x27;,
            VolumeState: volume[&#x27;State&#x27;] ?? &#x27;&#x27;,
            VolumeSize: volume[&#x27;Size&#x27;] ?? 0,
            VolumeName: volumeName ? volumeName[&#x27;Value&#x27;] : &#x27;&#x27;,
            AvailabilityZone: volume[&#x27;AvailabilityZone&#x27;] ?? &#x27;&#x27;,
            VolumeType: volume[&#x27;VolumeType&#x27;] ?? &#x27;&#x27;,
            CreateTime: volume[&#x27;CreateTime&#x27;] ?? &#x27;&#x27;,
            IsEncrypted: isBoolean(volume[&#x27;Encrypted&#x27;])
              ? volume[&#x27;Encrypted&#x27;].toString()
              : &#x27;&#x27;,
            Tags: volume[&#x27;Tags&#x27;] ?? [],
            VolumeIops: volume[&#x27;Iops&#x27;] ?? 0,
            VolumeInstanceId: &#x27;&#x27;,
            VolumeDevice: &#x27;&#x27;,
            DeleteOnTermination: &#x27;&#x27;,
            AttachTime: &#x27;&#x27;,
            CostPerMo: 0,
            VolReadOpsSum: 0,
            VolWriteOpsSum: 0,
            VolReadBytesSum: 0,
            VolWriteBytesSum: 0,
            VolReadOpsMax: 0,
            VolWriteOpsMax: 0,
            VolReadBytesMax: 0,
            VolWriteBytesMax: 0,
            TotalIops: 0,
            TotalBandwidth: 0,
          };

          if (has(volume, &#x27;Attachments&#x27;) &amp;&amp; volume[&#x27;State&#x27;] &#x3D;&#x3D;&#x3D; &#x27;in-use&#x27;) {
            data[&#x27;VolumeInstanceId&#x27;] &#x3D;
              volume[&#x27;Attachments&#x27;][0][&#x27;InstanceId&#x27;] ?? &#x27;&#x27;;
            data[&#x27;VolumeDevice&#x27;] &#x3D; volume[&#x27;Attachments&#x27;][0][&#x27;Device&#x27;] ?? &#x27;&#x27;;
            data[&#x27;DeleteOnTermination&#x27;] &#x3D;
              volume[&#x27;Attachments&#x27;][0][&#x27;DeleteOnTermination&#x27;].toString() ?? &#x27;&#x27;;
            data[&#x27;AttachTime&#x27;] &#x3D;
              volume[&#x27;Attachments&#x27;][0][&#x27;AttachTime&#x27;].toString() ?? &#x27;&#x27;;
          }

          if (volume[&#x27;VolumeType&#x27;] &#x3D;&#x3D;&#x3D; &#x27;gp2&#x27;) {
            data[&#x27;CostPerMo&#x27;] &#x3D; volume[&#x27;Size&#x27;] * pricing.gp2;
          } else if (volume[&#x27;VolumeType&#x27;] &#x3D;&#x3D;&#x3D; &#x27;gp3&#x27;) {
            data[&#x27;CostPerMo&#x27;] &#x3D;
              volume[&#x27;Size&#x27;] * pricing.gp3 +
              (volume[&#x27;Iops&#x27;] - 3000) * pricing.gp3_io;
          } else if (volume[&#x27;VolumeType&#x27;] &#x3D;&#x3D;&#x3D; &#x27;io1&#x27;) {
            data[&#x27;CostPerMo&#x27;] &#x3D;
              volume[&#x27;Size&#x27;] * pricing.io1 + volume[&#x27;Iops&#x27;] * pricing.io1_io;
          } else if (
            volume[&#x27;VolumeType&#x27;] &#x3D;&#x3D;&#x3D; &#x27;st1&#x27; ||
            volume[&#x27;VolumeType&#x27;] &#x3D;&#x3D;&#x3D; &#x27;standard&#x27;
          ) {
            data[&#x27;CostPerMo&#x27;] &#x3D; volume[&#x27;Size&#x27;] * pricing.st1;
          }

          data[&#x27;Aging&#x27;] &#x3D; today.diff(startTime, &#x27;days&#x27;) ?? 0;

          let metrics &#x3D; [
            &#x27;VolumeReadOps&#x27;,
            &#x27;VolumeWriteOps&#x27;,
            &#x27;VolumeReadBytes&#x27;,
            &#x27;VolumeWriteBytes&#x27;,
          ];

          // metric data
          const metricData &#x3D; [];
          for (let metric of metrics) {
            const metricsOptions &#x3D; cloneDeep(options);
            metricsOptions.input &#x3D; {
              Namespace: &#x27;AWS/EBS&#x27;,
              MetricName: metric,
              Dimensions: [{ Name: &#x27;VolumeId&#x27;, Value: volume[&#x27;VolumeId&#x27;] }],
              Period: 14 * 24 * 60 * 60,
              StartTime: moment().subtract(14, &#x27;d&#x27;),
              EndTime: moment(),
              Statistics: [&#x27;Maximum&#x27;, &#x27;Sum&#x27;],
            };
            metricData.push(metricsOptions);
          }
          metricMemDb.push({ [&#x60;${uuid}_${volume[&#x27;VolumeId&#x27;]}&#x60;]: metricData });

          // Add Specific Tags as Columns
          const tagColumns &#x3D; this.retrieveTagsInfo(data[&#x27;Tags&#x27;]);
          for (let tag in tagColumns) data[tag] &#x3D; tagColumns[tag];

          // Map tags
          const tagsDetails &#x3D;
            data[&#x27;Tags&#x27;].length &gt; 0
              ? data[&#x27;Tags&#x27;].map((tags) &#x3D;&gt; ({
                  key: tags.Key,
                  value: tags.Value,
                  aws_ebs_id: uuid,
                }))
              : [];

          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              id: uuid,
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              volume_id: data[&#x27;VolumeId&#x27;],
              volume_state: data[&#x27;VolumeState&#x27;],
              volume_size: data[&#x27;VolumeSize&#x27;],
              volume_name: data[&#x27;VolumeName&#x27;],
              availability_zone: data[&#x27;AvailabilityZone&#x27;],
              volume_type: data[&#x27;VolumeType&#x27;],
              create_time: data[&#x27;CreateTime&#x27;],
              is_encrypted: data[&#x27;IsEncrypted&#x27;],
              volume_iops: data[&#x27;VolumeIops&#x27;],
              volume_instance_id: data[&#x27;VolumeInstanceId&#x27;],
              volume_device: data[&#x27;VolumeDevice&#x27;],
              delete_on_termination: data[&#x27;DeleteOnTermination&#x27;],
              attach_time: data[&#x27;AttachTime&#x27;],
              cost_per_mo: data[&#x27;CostPerMo&#x27;],
              application: data[&#x27;Application&#x27;],
              migration: data[&#x27;Migration&#x27;],
              financial_owner_email: data[&#x27;Financial Owner Email&#x27;],
              technical_owner_email: data[&#x27;Technical Owner Email&#x27;],
              repo_name: data[&#x27;Repo Name&#x27;],
              repo_owner: data[&#x27;Repo Owner&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
          tagsMemDb &#x3D; [...tagsMemDb, ...tagsDetails];
        }

        await this.db.aws_ebs.createMany({
          data: dataMemDb,
        });

        await this.db.aws_ebs_tags.createMany({
          data: tagsMemDb,
        });

        if (metricMemDb.length &gt; 0)
          this.createMetricEbs(cloneDeep(metricMemDb), options.assumeRole);
      }

      console.timeEnd(
        &#x60;Retrieving volumes for account ends :${options.account.name} and region: ${options.region}&#x60;,
      );
      return [];
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchSnapshots(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      this.logger.log(
        &#x60;Retrieving snapshots for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Snapshots Data
      const snapshots &#x3D; await this.describeSnapshots(options);
      let dataMemDb &#x3D; [];
      let tagsMemDb &#x3D; [];
      if (snapshots &amp;&amp; snapshots.length &gt; 0) {
        let today &#x3D; moment();
        for (let snapshot of snapshots) {
          const uuid &#x3D; &#x60;${Math.random()
            .toString(16)
            .slice(2)}_${new Date().getTime()}&#x60;;
          let startTime &#x3D; moment(snapshot[&#x27;StartTime&#x27;]);
          let UniqueTag &#x3D; find(snapshot[&#x27;Tags&#x27;], { Key: &#x27;UniqueTag&#x27; });
          let Description &#x3D; find(snapshot[&#x27;Tags&#x27;], { Key: &#x27;Description&#x27; });
          let ResourceLeaseEndDate &#x3D; find(snapshot[&#x27;Tags&#x27;], {
            Key: &#x27;ResourceLeaseEndDate&#x27;,
          });
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            SnapshotId: snapshot[&#x27;SnapshotId&#x27;] ?? &#x27;&#x27;,
            VolumeId: snapshot[&#x27;VolumeId&#x27;] ?? &#x27;&#x27;,
            VolumeSize: snapshot[&#x27;VolumeSize&#x27;] ?? 0,
            StartTime: snapshot[&#x27;StartTime&#x27;] ?? &#x27;&#x27;,
            State: snapshot[&#x27;State&#x27;] ?? &#x27;&#x27;,
            Description: snapshot[&#x27;Description&#x27;] ?? &#x27;&#x27;,
            Tags: snapshot[&#x27;Tags&#x27;] ?? [],
            IsStorage: &#x27;&#x27;,
            VolumeType: &#x27;&#x27;,
            VolumeState: &#x27;&#x27;,
            VolumeInstanceId: &#x27;&#x27;,
            VolumeDevice: &#x27;&#x27;,
            VolumeAttachmentsState: &#x27;&#x27;,
            InstanceType: &#x27;&#x27;,
            PrivateIP: &#x27;&#x27;,
            InstanceState: &#x27;&#x27;,
            ResourceLeaseEndDate:
              ResourceLeaseEndDate &amp;&amp; !isEmpty(ResourceLeaseEndDate[&#x27;Value&#x27;])
                ? moment(ResourceLeaseEndDate[&#x27;Value&#x27;], [
                    &#x27;YYYY-MM-DD&#x27;,
                    &#x27;YYYY/MM/DD&#x27;,
                    &#x27;DD-MM-YYYY&#x27;,
                    &#x27;DD/MM/YYYY&#x27;,
                  ]).toDate()
                : null,
          };

          // Check IsStorage
          if (UniqueTag &amp;&amp; UniqueTag.Value.includes(&#x27;cohesity&#x27;)) {
            data[&#x27;IsStorage&#x27;] &#x3D; &#x27;cohesity&#x27;;
          }
          if (Description &amp;&amp; Description.Value.includes(&#x27;Commvault&#x27;)) {
            data[&#x27;IsStorage&#x27;] &#x3D; &#x27;Commvault&#x27;;
          }

          data[&#x27;Aging&#x27;] &#x3D; today.diff(startTime, &#x27;days&#x27;) ?? 0;

          // Add Specific Tags as Columns
          const tagColumns &#x3D; this.retrieveTagsInfo(data[&#x27;Tags&#x27;]);
          for (let tag in tagColumns) data[tag] &#x3D; tagColumns[tag];

          // Map tags
          const tagsDetails &#x3D;
            data[&#x27;Tags&#x27;].length &gt; 0
              ? data[&#x27;Tags&#x27;].map((tags) &#x3D;&gt; ({
                  key: tags.Key,
                  value: tags.Value,
                  aws_snapshot_id: uuid,
                }))
              : [];
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              id: uuid,
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              snapshot_id: data[&#x27;SnapshotId&#x27;],
              volume_id: data[&#x27;VolumeId&#x27;],
              volume_size: data[&#x27;VolumeSize&#x27;],
              start_time: data[&#x27;StartTime&#x27;],
              state: data[&#x27;State&#x27;],
              description: data[&#x27;Description&#x27;],
              is_storage: data[&#x27;IsStorage&#x27;],
              volume_type: data[&#x27;VolumeType&#x27;],
              volume_state: data[&#x27;VolumeState&#x27;],
              volume_instance_id: data[&#x27;VolumeInstanceId&#x27;],
              volume_device: data[&#x27;VolumeDevice&#x27;],
              volume_attachments_state: data[&#x27;VolumeAttachmentsState&#x27;],
              instance_type: data[&#x27;InstanceType&#x27;],
              private_ip: data[&#x27;PrivateIP&#x27;],
              instance_state: data[&#x27;InstanceState&#x27;],
              aging: data[&#x27;Aging&#x27;],
              application: data[&#x27;Application&#x27;],
              migration: data[&#x27;Migration&#x27;],
              financial_owner_email: data[&#x27;Financial Owner Email&#x27;],
              technical_owner_email: data[&#x27;Technical Owner Email&#x27;],
              repo_name: data[&#x27;Repo Name&#x27;],
              repo_owner: data[&#x27;Repo Owner&#x27;],
              resource_lease_end_date: data[&#x27;ResourceLeaseEndDate&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
          tagsMemDb &#x3D; [...tagsMemDb, ...tagsDetails];
          //  Push to Database if no record found
        }

        await this.db.aws_snapshot.createMany({
          data: dataMemDb,
        });

        await this.db.aws_snapshot_tags.createMany({
          data: tagsMemDb,
        });
      }
    } catch (error) {
      this.logger.error(error.message);
    }
  }

  async fetchImages(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      this.logger.log(
        &#x60;Retrieving images for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Images Data
      const images &#x3D; await this.describeImages(options);
      let dataMemDb &#x3D; [];
      let tagsMemDb &#x3D; [];
      if (images &amp;&amp; images.length &gt; 0) {
        let today &#x3D; moment();
        for (let image of images) {
          const uuid &#x3D; &#x60;${Math.random()
            .toString(16)
            .slice(2)}_${new Date().getTime()}&#x60;;
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            ImageId: image[&#x27;ImageId&#x27;] ?? &#x27;&#x27;,
            State: image[&#x27;State&#x27;] ?? &#x27;&#x27;,
            IsPublic: isBoolean(image[&#x27;Public&#x27;])
              ? image[&#x27;Public&#x27;].toString()
              : &#x27;&#x27;,
            Description: image[&#x27;Description&#x27;] ?? &#x27;&#x27;,
            RootDeviceType: image[&#x27;RootDeviceType&#x27;] ?? &#x27;&#x27;,
            EnaSupport: isBoolean(image[&#x27;EnaSupport&#x27;])
              ? image[&#x27;EnaSupport&#x27;].toString()
              : &#x27;&#x27;,
            CreationDate: image[&#x27;CreationDate&#x27;] ?? &#x27;&#x27;,
            Name: image[&#x27;Name&#x27;] ?? &#x27;&#x27;,
            OwnerId: image[&#x27;OwnerId&#x27;] ?? &#x27;&#x27;,
            ImageLocation: image[&#x27;ImageLocation&#x27;] ?? &#x27;&#x27;,
            Platform: image[&#x27;PlatformDetails&#x27;] ?? &#x27;&#x27;,
            Tags: image[&#x27;Tags&#x27;] ?? [],
            InstanceState: &#x27;&#x27;,
            InstanceId: &#x27;&#x27;,
            Shared: &#x27;&#x27;,
            LastLaunchedTime: &#x27;&#x27;,
          };

          // Use Image Id to Get Instances Data
          const instanceOptions &#x3D; cloneDeep(options);
          instanceOptions.input &#x3D; {
            Filters: [{ Name: &#x27;image-id&#x27;, Values: [data[&#x27;ImageId&#x27;]] }],
          };
          const instances &#x3D; await this.describeInstances(instanceOptions);
          for (let instance of instances) {
            data[&#x27;InstanceState&#x27;] &#x3D; instance[&#x27;Instances&#x27;][0][&#x27;State&#x27;][&#x27;Name&#x27;];
            data[&#x27;InstanceId&#x27;] &#x3D; instance[&#x27;Instances&#x27;][0][&#x27;InstanceId&#x27;];
          }

          // Use Image Id to Get ImageAttributes Data
          const launchPermissionAttributeOptions &#x3D; cloneDeep(options);
          launchPermissionAttributeOptions.input &#x3D; {
            Attribute: &#x27;launchPermission&#x27;,
            ImageId: data[&#x27;ImageId&#x27;],
          };
          const launchPermissionAttribute &#x3D; await this.describeImageAttribute(
            launchPermissionAttributeOptions,
          );

          const lastLaunchedTimeAttributeOptions &#x3D; cloneDeep(options);
          lastLaunchedTimeAttributeOptions.input &#x3D; {
            Attribute: &#x27;lastLaunchedTime&#x27;,
            ImageId: data[&#x27;ImageId&#x27;],
          };
          const lastLaunchedTimeAttribute &#x3D; await this.describeImageAttribute(
            lastLaunchedTimeAttributeOptions,
          );

          data[&#x27;Shared&#x27;] &#x3D;
            launchPermissionAttribute[&#x27;LaunchPermissions&#x27;].length &gt; 0
              ? &#x27;Yes&#x27;
              : &#x27;&#x27;;
          data[&#x27;LastLaunchedTime&#x27;] &#x3D;
            lastLaunchedTimeAttribute[&#x27;LastLaunchedTime&#x27;][&#x27;Value&#x27;] ?? &#x27;&#x27;;

          let lastLaunchedTime &#x3D; moment(data[&#x27;LastLaunchedTime&#x27;]);
          data[&#x27;Aging&#x27;] &#x3D; data[&#x27;LastLaunchedTime&#x27;]
            ? today.diff(lastLaunchedTime, &#x27;days&#x27;)
            : 0;

          // Add Specific Tags as Columns
          const tagColumns &#x3D; this.retrieveTagsInfo(data[&#x27;Tags&#x27;]);
          for (let tag in tagColumns) data[tag] &#x3D; tagColumns[tag];

          // Map tags
          const tagsDetails &#x3D;
            data[&#x27;Tags&#x27;].length &gt; 0
              ? data[&#x27;Tags&#x27;].map((tags) &#x3D;&gt; ({
                  key: tags.Key,
                  value: tags.Value,
                  aws_ami_id: uuid,
                }))
              : [];
          //  Push to Database if no record found
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              id: uuid,
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              image_id: data[&#x27;ImageId&#x27;],
              state: data[&#x27;State&#x27;],
              is_public: data[&#x27;IsPublic&#x27;],
              description: data[&#x27;Description&#x27;],
              root_device_type: data[&#x27;RootDeviceType&#x27;],
              ena_support: data[&#x27;EnaSupport&#x27;],
              creation_date: data[&#x27;CreationDate&#x27;],
              name: data[&#x27;Name&#x27;],
              owner_id: data[&#x27;OwnerId&#x27;],
              image_location: data[&#x27;ImageLocation&#x27;],
              platform: data[&#x27;PlatformDetails&#x27;],
              instance_state: data[&#x27;InstanceState&#x27;],
              instance_id: data[&#x27;InstanceId&#x27;],
              shared: data[&#x27;Shared&#x27;],
              last_launched_time: data[&#x27;LastLaunchedTime&#x27;],
              aging: data[&#x27;Aging&#x27;],
              application: data[&#x27;Application&#x27;],
              migration: data[&#x27;Migration&#x27;],
              financial_owner_email: data[&#x27;Financial Owner Email&#x27;],
              technical_owner_email: data[&#x27;Technical Owner Email&#x27;],
              repo_name: data[&#x27;Repo Name&#x27;],
              repo_owner: data[&#x27;Repo Owner&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
          tagsMemDb &#x3D; [...tagsMemDb, ...tagsDetails];
        }

        await this.db.aws_ami.createMany({
          data: dataMemDb,
        });

        await this.db.aws_ami_tags.createMany({
          data: tagsMemDb,
        });
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchInstances(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      this.logger.log(
        &#x60;Retrieving instances for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Instances Data
      const instances &#x3D; await this.describeInstances(options);
      const today &#x3D; moment();
      let dataMemDb &#x3D; [];
      let tagsMemDb &#x3D; [];
      let metricMemDb &#x3D; [];
      if (instances &amp;&amp; instances.length &gt; 0) {
        for (let inst of instances) {
          let InstanceName &#x3D; find(inst[&#x27;Instances&#x27;][0][&#x27;Tags&#x27;], {
            Key: &#x27;Name&#x27;,
          })?.Value;
          let instance &#x3D; inst[&#x27;Instances&#x27;][0];
          const uuid &#x3D; &#x60;${Math.random()
            .toString(16)
            .slice(2)}_${new Date().getTime()}&#x60;;
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            InstanceId: instance[&#x27;InstanceId&#x27;] ?? &#x27;&#x27;,
            InstanceName: InstanceName ?? &#x27;&#x27;,
            State: instance[&#x27;State&#x27;][&#x27;Name&#x27;] ?? &#x27;&#x27;,
            InstanceType: instance[&#x27;InstanceType&#x27;] ?? &#x27;&#x27;,
            Platform: instance[&#x27;Platform&#x27;] ?? &#x27;&#x27;,
            ImageId: instance[&#x27;ImageId&#x27;] ?? &#x27;&#x27;,
            PrivateDnsName: instance[&#x27;PrivateDnsName&#x27;] ?? &#x27;&#x27;,
            PrivateIpAddress: instance[&#x27;PrivateIpAddress&#x27;] ?? &#x27;&#x27;,
            LaunchDate: instance[&#x27;LaunchTime&#x27;]
              ? moment(instance[&#x27;LaunchTime&#x27;]).format(&#x27;DD-MM-YYYY&#x27;)
              : &#x27;&#x27;,
            LaunchTime: instance[&#x27;LaunchTime&#x27;]
              ? moment(instance[&#x27;LaunchTime&#x27;]).format(&#x27;HH:mm&#x27;)
              : &#x27;&#x27;,
            CPUAvg14: 0,
            CPUAvg60: 0,
            CPUMax14: 0,
            CPUMax60: 0,
            CPUMin14: 0,
            CPUMin60: 0,
            Tags: instance[&#x27;Tags&#x27;] ?? [],
          };

          let metrics &#x3D; [&#x27;CPUUtilization&#x27;];
          const metricData &#x3D; [];
          for (let metric of metrics) {
            for (let N of [14, 60]) {
              // Get Metrics Data
              const metricsOptions &#x3D; cloneDeep(options);

              metricsOptions.input &#x3D; {
                Namespace: &#x27;AWS/EC2&#x27;,
                MetricName: metric,
                Dimensions: [
                  { Name: &#x27;InstanceId&#x27;, Value: instance[&#x27;InstanceId&#x27;] },
                ],
                Period: N * 24 * 60 * 60,
                StartTime: moment().subtract(N, &#x27;d&#x27;),
                EndTime: moment(),
                Statistics: [&#x27;Average&#x27;, &#x27;Maximum&#x27;, &#x27;Minimum&#x27;],
              };

              metricData.push(metricsOptions);
            }
          }
          metricMemDb.push({
            [&#x60;${uuid}_${instance[&#x27;InstanceId&#x27;]}&#x60;]: metricData,
          });

          // Add Specific Tags as Columns
          const tagColumns &#x3D; this.retrieveTagsInfo(data[&#x27;Tags&#x27;]);
          for (let tag in tagColumns) data[tag] &#x3D; tagColumns[tag];

          // Map tags
          const tagsDetails &#x3D;
            data[&#x27;Tags&#x27;].length &gt; 0
              ? data[&#x27;Tags&#x27;].map((tags) &#x3D;&gt; ({
                  key: tags.Key,
                  value: tags.Value,
                  aws_ec2_id: uuid,
                }))
              : [];

          try {
            data[&#x27;Aging&#x27;] &#x3D; data[&#x27;LaunchDate&#x27;]
              ? today.diff(moment(data[&#x27;LaunchDate&#x27;], &#x27;DD-MM-YYYY&#x27;), &#x27;days&#x27;)
              : 0;
          } catch (err) {
            data[&#x27;Aging&#x27;] &#x3D; 0;
            this.logger.error(&#x60;Aging date error format ${data[&#x27;LaunchDate&#x27;]}&#x60;);
          }

          //  Push to Database if no record found
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              id: uuid,
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              resource_name: data[&#x27;InstanceName&#x27;],
              resource_id: data[&#x27;InstanceId&#x27;],
              state: data[&#x27;State&#x27;],
              instance_type: data[&#x27;InstanceType&#x27;],
              platform: data[&#x27;Platform&#x27;],
              image_id: data[&#x27;ImageId&#x27;],
              private_dns_name: data[&#x27;PrivateDnsName&#x27;],
              private_ip_address: data[&#x27;PrivateIpAddress&#x27;],
              launch_date: data[&#x27;LaunchDate&#x27;],
              launch_time: data[&#x27;LaunchTime&#x27;],
              aging: data[&#x27;Aging&#x27;],
              application: data[&#x27;Application&#x27;],
              migration: data[&#x27;Migration&#x27;],
              financial_owner_email: data[&#x27;Financial Owner Email&#x27;],
              technical_owner_email: data[&#x27;Technical Owner Email&#x27;],
              repo_name: data[&#x27;Repo Name&#x27;],
              repo_owner: data[&#x27;Repo Owner&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
          tagsMemDb &#x3D; [...tagsMemDb, ...tagsDetails];
        }

        await this.db.aws_ec2.createMany({
          data: dataMemDb,
        });

        await this.db.aws_ec2_tags.createMany({
          data: tagsMemDb,
        });

        if (metricMemDb.length &gt; 0)
          this.createMetricEc2(cloneDeep(metricMemDb), options.assumeRole);
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchDatabases(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      this.logger.log(
        &#x60;Retrieving databases for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Databases Data
      const databases &#x3D; await this.describeDBInstances(options);
      let dataMemDb &#x3D; [];
      let tagsMemDb &#x3D; [];
      // let metricMemDb &#x3D; [];
      if (databases &amp;&amp; databases.length &gt; 0) {
        for (let database of databases) {
          const uuid &#x3D; &#x60;${Math.random()
            .toString(16)
            .slice(2)}_${new Date().getTime()}&#x60;;
          let metrics &#x3D; [];
          if (database[&#x27;Engine&#x27;] &#x3D;&#x3D;&#x3D; &#x27;aurora&#x27;) {
            metrics &#x3D; [
              &#x27;DatabaseConnections&#x27;,
              &#x27;CPUUtilization&#x27;,
              &#x27;WriteIOPS&#x27;,
              &#x27;ReadIOPS&#x27;,
              &#x27;FreeableMemory&#x27;,
              &#x27;FreeLocalStorage&#x27;,
            ];
          } else {
            metrics &#x3D; [
              &#x27;DatabaseConnections&#x27;,
              &#x27;CPUUtilization&#x27;,
              &#x27;WriteIOPS&#x27;,
              &#x27;ReadIOPS&#x27;,
              &#x27;FreeableMemory&#x27;,
              &#x27;FreeStorageSpace&#x27;,
            ];
          }

          let databaseName &#x3D; database[&#x27;DBInstanceArn&#x27;]
            ? database[&#x27;DBInstanceArn&#x27;].split(&#x27;:&#x27;).pop()
            : &#x27;&#x27;;

          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            DBName: databaseName,
            DBInstanceClass: database[&#x27;DBInstanceClass&#x27;] ?? &#x27;&#x27;,
            Engine: database[&#x27;Engine&#x27;] ?? &#x27;&#x27;,
            EngineVersion: database[&#x27;EngineVersion&#x27;] ?? &#x27;&#x27;,
            MultiAZ: isBoolean(database[&#x27;MultiAZ&#x27;])
              ? database[&#x27;MultiAZ&#x27;].toString()
              : &#x27;&#x27;,
            InstanceCreateTime: database[&#x27;InstanceCreateTime&#x27;] ?? &#x27;&#x27;,
            StorageType: database[&#x27;StorageType&#x27;] ?? &#x27;&#x27;,
            AllocatedStorage: database[&#x27;AllocatedStorage&#x27;] ?? &#x27;&#x27;,
            Iops: database[&#x27;Iops&#x27;] ?? &#x27;&#x27;,
            BackupRetentionPeriod: database[&#x27;BackupRetentionPeriod&#x27;] ?? &#x27;&#x27;,
            PreferredBackupWindow: database[&#x27;PreferredBackupWindow&#x27;] ?? &#x27;&#x27;,
            DbiResourceId: database[&#x27;DbiResourceId&#x27;] ?? &#x27;&#x27;,
            Endpoint: database[&#x27;Endpoint&#x27;][&#x27;Address&#x27;] ?? &#x27;&#x27;,
            DBCon14: 0,
            DBCon14_Mx: 0,
            CPU14: 0,
            CPU14_Mx: 0,
            CPU14_Mi: 0,
            WIO14: 0,
            RIO14: 0,
            Mem14: 0,
            Storage14: 0,
            DBCon60: 0,
            DBCon60_Mx: 0,
            CPU60: 0,
            CPU60_Mx: 0,
            CPU60_Mi: 0,
            WIO60: 0,
            RIO60: 0,
            Mem60: 0,
            Storage60: 0,
            Tags: database[&#x27;TagList&#x27;] ?? [],
          };

          const cwData &#x3D; [];
          for (let metric of metrics) {
            for (let N of [14, 60]) {
              // Get Metrics Data
              const metricsOptions &#x3D; cloneDeep(options);
              metricsOptions.input &#x3D; {
                Namespace: &#x27;AWS/RDS&#x27;,
                MetricName: metric,
                Dimensions: [
                  { Name: &#x27;DBInstanceIdentifier&#x27;, Value: databaseName },
                ],
                Period: N * 24 * 60 * 60,
                StartTime: moment().subtract(N, &#x27;d&#x27;),
                EndTime: moment(),
                Statistics: [&#x27;Average&#x27;, &#x27;Maximum&#x27;, &#x27;Minimum&#x27;],
              };
              const metricData &#x3D; await this.getMetricStatistics(metricsOptions);
              cwData.push(metricData);
            }
          }
          // metricMemDb.push({ [data[&#x27;Endpoint&#x27;]]: metricData });

          if (size(cwData[0]) &gt; 0) {
            data.DBCon14 &#x3D; parseInt(round(cwData[0][0][&#x27;Average&#x27;]));
            data.DBCon14_Mx &#x3D; parseInt(round(cwData[0][0][&#x27;Maximum&#x27;]));
          }

          if (size(cwData[1]) &gt; 0) {
            data.CPU14 &#x3D; round(cwData[1][0][&#x27;Average&#x27;], 3);
            data.CPU14_Mx &#x3D; round(cwData[1][0][&#x27;Maximum&#x27;], 3);
            data.CPU14_Mi &#x3D; round(cwData[1][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[2]) &gt; 0) {
            data.WIO14 &#x3D; round(cwData[2][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[3]) &gt; 0) {
            data.RIO14 &#x3D; round(cwData[3][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[4]) &gt; 0) {
            data.Mem14 &#x3D; round(cwData[4][0][&#x27;Average&#x27;] / 1024 / 1024 / 1024, 3);
          }

          if (size(cwData[5]) &gt; 0) {
            data.Storage14 &#x3D; round(
              cwData[5][0][&#x27;Average&#x27;] / 1024 / 1024 / 1024,
              2,
            );
          }

          if (size(cwData[6]) &gt; 0) {
            data.DBCon60 &#x3D; parseInt(round(cwData[6][0][&#x27;Average&#x27;]));
            data.DBCon60_Mx &#x3D; parseInt(round(cwData[6][0][&#x27;Maximum&#x27;]));
          }

          if (size(cwData[7]) &gt; 0) {
            data.CPU60 &#x3D; round(cwData[7][0][&#x27;Average&#x27;], 3);
            data.CPU60_Mx &#x3D; round(cwData[7][0][&#x27;Maximum&#x27;], 3);
            data.CPU60_Mi &#x3D; round(cwData[7][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[8]) &gt; 0) {
            data.WIO60 &#x3D; round(cwData[8][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[9]) &gt; 0) {
            data.RIO60 &#x3D; round(cwData[9][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[10]) &gt; 0) {
            data.Mem60 &#x3D; round(
              cwData[10][0][&#x27;Average&#x27;] / 1024 / 1024 / 1024,
              3,
            );
          }

          if (size(cwData[11]) &gt; 0) {
            data.Storage60 &#x3D; round(
              cwData[11][0][&#x27;Average&#x27;] / 1024 / 1024 / 1024,
              2,
            );
          }

          // Add Specific Tags as Columns
          const tagColumns &#x3D; this.retrieveTagsInfo(data[&#x27;Tags&#x27;]);
          for (let tag in tagColumns) data[tag] &#x3D; tagColumns[tag];

          // Map tags
          const tagsDetails &#x3D;
            data[&#x27;Tags&#x27;].length &gt; 0
              ? data[&#x27;Tags&#x27;].map((tags) &#x3D;&gt; ({
                  key: tags.Key,
                  value: tags.Value,
                  aws_rds_id: uuid,
                }))
              : [];
          //  Push to Database if no record found
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              id: uuid,
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              resource_name: data[&#x27;DBName&#x27;],
              db_instance_class: data[&#x27;DBInstanceClass&#x27;],
              engine: data[&#x27;Engine&#x27;],
              engine_version: data[&#x27;EngineVersion&#x27;],
              multi_az: data[&#x27;MultiAZ&#x27;].toString(),
              instance_create_time: data[&#x27;InstanceCreateTime&#x27;],
              storage_type: data[&#x27;StorageType&#x27;],
              allocated_storage: data[&#x27;AllocatedStorage&#x27;].toString(),
              iops: data[&#x27;Iops&#x27;].toString(),
              backup_retention_period: data[&#x27;BackupRetentionPeriod&#x27;].toString(),
              preferred_backup_window: data[&#x27;PreferredBackupWindow&#x27;],
              resource_id: data[&#x27;DbiResourceId&#x27;],
              endpoint: data[&#x27;Endpoint&#x27;],
              db_con_14: data[&#x27;DBCon14&#x27;],
              db_con_mx_14: data[&#x27;DBCon14_Mx&#x27;],
              cpu_14: data[&#x27;CPU14&#x27;],
              cpu_mx_14: data[&#x27;CPU14_Mx&#x27;],
              cpu_mi_14: data[&#x27;CPU14_Mi&#x27;],
              wio_14: data[&#x27;WIO14&#x27;],
              rio_14: data[&#x27;RIO14&#x27;],
              mem_14: data[&#x27;Mem14&#x27;],
              storage_14: data[&#x27;Storage14&#x27;],
              db_con_60: data[&#x27;DBCon60&#x27;],
              db_con_mx_60: data[&#x27;DBCon60_Mx&#x27;],
              cpu_60: data[&#x27;CPU60&#x27;],
              cpu_mx_60: data[&#x27;CPU60_Mx&#x27;],
              cpu_mi_60: data[&#x27;CPU60_Mi&#x27;],
              wio_60: data[&#x27;WIO60&#x27;],
              rio_60: data[&#x27;RIO60&#x27;],
              mem_60: data[&#x27;Mem60&#x27;],
              storage_60: data[&#x27;Storage60&#x27;],
              application: data[&#x27;Application&#x27;],
              migration: data[&#x27;Migration&#x27;],
              financial_owner_email: data[&#x27;Financial Owner Email&#x27;],
              technical_owner_email: data[&#x27;Technical Owner Email&#x27;],
              repo_name: data[&#x27;Repo Name&#x27;],
              repo_owner: data[&#x27;Repo Owner&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
          tagsMemDb &#x3D; [...tagsMemDb, ...tagsDetails];
        }

        await this.db.aws_rds.createMany({
          data: dataMemDb,
        });

        await this.db.aws_rds_tags.createMany({
          data: tagsMemDb,
        });
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchCaches(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      let dataMemDb &#x3D; [];
      let tagsMemDb &#x3D; [];
      this.logger.log(
        &#x60;Retrieving caches for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Caches Data
      const caches &#x3D; await this.describeCacheClusters(options);
      if (caches &amp;&amp; caches.length &gt; 0) {
        for (let cache of caches) {
          const uuid &#x3D; &#x60;${Math.random()
            .toString(16)
            .slice(2)}_${new Date().getTime()}&#x60;;
          let metrics &#x3D; [];
          if (cache[&#x27;Engine&#x27;] &#x3D;&#x3D;&#x3D; &#x27;memcached&#x27;) {
            metrics &#x3D; [
              &#x27;0-CPUUtilization&#x27;,
              &#x27;1-FreeableMemory&#x27;,
              &#x27;2-BytesUsedForCacheItems&#x27;,
              &#x27;3-CurrItems&#x27;,
              &#x27;4-GetHits&#x27;,
              &#x27;5-GetMisses&#x27;,
              &#x27;6-CurrConnections&#x27;,
              &#x27;7-Evictions&#x27;,
            ];
          }

          if (cache[&#x27;Engine&#x27;] &#x3D;&#x3D;&#x3D; &#x27;redis&#x27;) {
            metrics &#x3D; [
              &#x27;0-CPUUtilization&#x27;,
              &#x27;1-FreeableMemory&#x27;,
              &#x27;2-BytesUsedForCache&#x27;,
              &#x27;3-CurrItems&#x27;,
              &#x27;4-CacheHits&#x27;,
              &#x27;5-CacheMisses&#x27;,
              &#x27;6-CurrConnections&#x27;,
              &#x27;7-Evictions&#x27;,
            ];
          }

          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            CacheClusterId: cache[&#x27;CacheClusterId&#x27;] ?? &#x27;&#x27;,
            CacheClusterStatus: cache[&#x27;CacheClusterStatus&#x27;] ?? &#x27;&#x27;,
            CacheNodeType: cache[&#x27;CacheNodeType&#x27;] ?? &#x27;&#x27;,
            Engine: cache[&#x27;Engine&#x27;] ?? &#x27;&#x27;,
            EngineVersion: cache[&#x27;EngineVersion&#x27;] ?? &#x27;&#x27;,
            CacheNodeCount: cache[&#x27;NumCacheNodes&#x27;] ?? 0,
            CacheClusterCreateTime: cache[&#x27;CacheClusterCreateTime&#x27;] ?? &#x27;&#x27;,
            CacheParameterGroup:
              cache[&#x27;CacheParameterGroup&#x27;][&#x27;CacheParameterGroupName&#x27;] ?? &#x27;&#x27;,
            AuthTokenEnabled: isBoolean(cache[&#x27;AuthTokenEnabled&#x27;])
              ? cache[&#x27;AuthTokenEnabled&#x27;].toString()
              : &#x27;&#x27;,
            PreferredMaintenanceWindow:
              cache[&#x27;PreferredMaintenanceWindow&#x27;] ?? &#x27;&#x27;,
            SnapshotWindow: &#x27;&#x27;,
            SecurityGroups: &#x27;&#x27;,
            SnapshotRetentionLimit: &#x27;&#x27;,
            ClusterEnabled: &#x27;&#x27;,
            NodeShardCount: 0,
            MultiAZ: &#x27;&#x27;,
            AutomaticFailover: &#x27;&#x27;,
            Description: &#x27;&#x27;,
            CPU14: 0,
            CPU14x: 0,
            CPU14i: 0,
            Freem14: 0,
            Freem14x: 0,
            Ubyts14: 0,
            Ubyts14x: 0,
            Curritm14: 0,
            Hits14: 0,
            Miss14: 0,
            Conn14: 0,
            Evic14: 0,
            CPU60: 0,
            CPU60x: 0,
            CPU60i: 0,
            Freem60: 0,
            Freem60x: 0,
            Ubyts60: 0,
            Ubyts60x: 0,
            Curritm60: 0,
            Hits60: 0,
            Miss60: 0,
            Conn60: 0,
            Evic60: 0,
            Tags: [],
          };

          if (has(cache, &#x27;SecurityGroups&#x27;)) {
            data.SecurityGroups &#x3D; join(
              map(cache.SecurityGroups, &#x27;SecurityGroupId&#x27;),
              &#x27;,&#x27;,
            );
          }

          if (has(cache, &#x27;SnapshotWindow&#x27;)) {
            data[&#x27;SnapshotWindow&#x27;] &#x3D; cache[&#x27;SnapshotWindow&#x27;] ?? &#x27;&#x27;;
            data[&#x27;SnapshotRetentionLimit&#x27;] &#x3D;
              cache[&#x27;SnapshotRetentionLimit&#x27;].toString() ?? &#x27;&#x27;;
          }

          if (has(cache, &#x27;ReplicationGroupId&#x27;)) {
            const replicationGroupsOptions &#x3D; cloneDeep(options);
            replicationGroupsOptions.input &#x3D; {
              ReplicationGroupId: cache[&#x27;ReplicationGroupId&#x27;],
            };
            const replicationGroupData &#x3D; await this.describeReplicationGroups(
              replicationGroupsOptions,
            );
            data[&#x27;MultiAZ&#x27;] &#x3D; replicationGroupData[0][&#x27;MultiAZ&#x27;];
            data[&#x27;AutomaticFailover&#x27;] &#x3D;
              replicationGroupData[0][&#x27;AutomaticFailover&#x27;];
            data[&#x27;Description&#x27;] &#x3D; replicationGroupData[0][&#x27;Description&#x27;];
            data[&#x27;ClusterEnabled&#x27;] &#x3D; isBoolean(
              replicationGroupData[0][&#x27;ClusterEnabled&#x27;],
            )
              ? replicationGroupData[0][&#x27;ClusterEnabled&#x27;].toString()
              : &#x27;&#x27;;
            data[&#x27;NodeShardCount&#x27;] &#x3D; replicationGroupData[0][&#x27;NodeGroups&#x27;]
              ? replicationGroupData[0][&#x27;NodeGroups&#x27;].length
              : 0;
          }

          const cwData &#x3D; [];
          for (let metric of metrics) {
            let metricName &#x3D; metric.split(&#x27;-&#x27;)[1];

            for (let N of [14, 60]) {
              // Get Metrics Data
              const metricsOptions &#x3D; cloneDeep(options);
              metricsOptions.input &#x3D; {
                Namespace: &#x27;AWS/ElastiCache&#x27;,
                MetricName: metricName,
                Dimensions: [
                  { Name: &#x27;CacheClusterId&#x27;, Value: cache[&#x27;CacheClusterId&#x27;] },
                ],
                Period: N * 24 * 60 * 60,
                StartTime: moment().subtract(N, &#x27;d&#x27;),
                EndTime: moment(),
                Statistics: [&#x27;Average&#x27;, &#x27;Maximum&#x27;, &#x27;Minimum&#x27;],
              };
              const metricData &#x3D; await this.getMetricStatistics(metricsOptions);
              cwData.push(metricData);
            }
          }

          if (size(cwData[0]) &gt; 0) {
            data.CPU14 &#x3D; round(cwData[0][0][&#x27;Average&#x27;], 3);
            data.CPU14x &#x3D; round(cwData[0][0][&#x27;Maximum&#x27;], 3);
            data.CPU14i &#x3D; round(cwData[0][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[1]) &gt; 0) {
            data.CPU60 &#x3D; round(cwData[1][0][&#x27;Average&#x27;], 3);
            data.CPU60x &#x3D; round(cwData[1][0][&#x27;Maximum&#x27;], 3);
            data.CPU60i &#x3D; round(cwData[1][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[2]) &gt; 0) {
            data.Freem14 &#x3D; round(
              cwData[2][0][&#x27;Average&#x27;] / 1024 / 1024 / 1024,
              2,
            );
            data.Freem14x &#x3D; round(
              cwData[2][0][&#x27;Maximum&#x27;] / 1024 / 1024 / 1024,
              2,
            );
          }

          if (size(cwData[3]) &gt; 0) {
            data.Freem60 &#x3D; round(
              cwData[3][0][&#x27;Average&#x27;] / 1024 / 1024 / 1024,
              2,
            );
            data.Freem60x &#x3D; round(
              cwData[3][0][&#x27;Maximum&#x27;] / 1024 / 1024 / 1024,
              2,
            );
          }

          if (size(cwData[4]) &gt; 0) {
            data.Ubyts14 &#x3D; round(cwData[4][0][&#x27;Average&#x27;] / 1024 / 1024, 2);
            data.Ubyts14x &#x3D; round(cwData[4][0][&#x27;Maximum&#x27;] / 1024 / 1024, 2);
          }

          if (size(cwData[5]) &gt; 0) {
            data.Ubyts60 &#x3D; round(cwData[5][0][&#x27;Average&#x27;] / 1024 / 1024, 2);
            data.Ubyts60x &#x3D; round(cwData[5][0][&#x27;Maximum&#x27;] / 1024 / 1024, 2);
          }

          if (size(cwData[6]) &gt; 0) {
            data.Curritm14 &#x3D; round(cwData[6][0][&#x27;Maximum&#x27;], 2);
          }

          if (size(cwData[7]) &gt; 0) {
            data.Curritm60 &#x3D; round(cwData[7][0][&#x27;Maximum&#x27;], 2);
          }

          if (size(cwData[8]) &gt; 0) {
            data.Hits14 &#x3D; round(cwData[8][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[9]) &gt; 0) {
            data.Hits60 &#x3D; round(cwData[9][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[10]) &gt; 0) {
            data.Miss14 &#x3D; round(cwData[10][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[11]) &gt; 0) {
            data.Miss60 &#x3D; round(cwData[11][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[12]) &gt; 0) {
            data.Conn14 &#x3D; round(cwData[12][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[13]) &gt; 0) {
            data.Conn60 &#x3D; round(cwData[13][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[14]) &gt; 0) {
            data.Evic14 &#x3D; round(cwData[14][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[15]) &gt; 0) {
            data.Evic60 &#x3D; round(cwData[15][0][&#x27;Average&#x27;], 2);
          }

          // Get Tags Data
          const tagsOptions &#x3D; cloneDeep(options);
          tagsOptions.input &#x3D; {
            ResourceName: &#x60;arn:aws:elasticache:${tagsOptions.region}:${options.account.accountNumber}:cluster:${cache[&#x27;CacheClusterId&#x27;]}&#x60;,
          };
          const tags &#x3D; await this.listTagsForResource(tagsOptions);

          data.Tags &#x3D; [...tags];

          // Add Specific Tags as Columns
          const tagColumns &#x3D; this.retrieveTagsInfo(tags);
          for (let tag in tagColumns) data[tag] &#x3D; tagColumns[tag];

          // Map tags
          const tagsDetails &#x3D;
            data[&#x27;Tags&#x27;].length &gt; 0
              ? data[&#x27;Tags&#x27;].map((tags) &#x3D;&gt; ({
                  key: tags.Key,
                  value: tags.Value,
                  aws_elasticache_id: uuid,
                }))
              : [];
          //  Push to Database if no record found

          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              id: uuid,
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              cache_cluster_id: data[&#x27;CacheClusterId&#x27;],
              cache_cluster_status: data[&#x27;CacheClusterStatus&#x27;],
              cache_node_type: data[&#x27;CacheNodeType&#x27;],
              engine: data[&#x27;Engine&#x27;],
              engine_version: data[&#x27;EngineVersion&#x27;],
              cache_node_count: data[&#x27;CacheNodeCount&#x27;],
              cache_cluster_create_time: data[&#x27;CacheClusterCreateTime&#x27;],
              cache_parameter_group: data[&#x27;CacheParameterGroup&#x27;],
              auth_token_enabled: data[&#x27;AuthTokenEnabled&#x27;],
              preferred_maintenance_window: data[&#x27;PreferredMaintenanceWindow&#x27;],
              snapshot_window: data[&#x27;SnapshotWindow&#x27;],
              security_groups: data[&#x27;SecurityGroups&#x27;],
              snapshot_retention_limit: data[&#x27;SnapshotRetentionLimit&#x27;],
              cluster_enabled: data[&#x27;ClusterEnabled&#x27;],
              node_shard_count: data[&#x27;NodeShardCount&#x27;],
              multi_az: data[&#x27;MultiAZ&#x27;],
              automatic_fail_over: data[&#x27;AutomaticFailover&#x27;],
              description: data[&#x27;Description&#x27;],
              cpu_14: data[&#x27;CPU14&#x27;],
              cpu_14x: data[&#x27;CPU14x&#x27;],
              cpu_14i: data[&#x27;CPU14i&#x27;],
              freem_14: data[&#x27;Freem14&#x27;],
              freem_14x: data[&#x27;Freem14x&#x27;],
              ubyts_14: data[&#x27;Ubyts14&#x27;],
              ubyts_14x: data[&#x27;Ubyts14x&#x27;],
              curritm_14: data[&#x27;Curritm14&#x27;],
              hits_14: data[&#x27;Hits14&#x27;],
              miss_14: data[&#x27;Miss14&#x27;],
              conn_14: data[&#x27;Conn14&#x27;],
              evic_14: data[&#x27;Evic14&#x27;],
              cpu_60: data[&#x27;CPU60&#x27;],
              cpu_60x: data[&#x27;CPU60x&#x27;],
              cpu_60i: data[&#x27;CPU60i&#x27;],
              freem_60: data[&#x27;Freem60&#x27;],
              freem_60x: data[&#x27;Freem60x&#x27;],
              ubyts_60: data[&#x27;Ubyts60&#x27;],
              ubyts_60x: data[&#x27;Ubyts60x&#x27;],
              curritm_60: data[&#x27;Curritm60&#x27;],
              hits_60: data[&#x27;Hits60&#x27;],
              miss_60: data[&#x27;Miss60&#x27;],
              conn_60: data[&#x27;Conn60&#x27;],
              evic_60: data[&#x27;Evic60&#x27;],
              application: data[&#x27;Application&#x27;],
              migration: data[&#x27;Migration&#x27;],
              financial_owner_email: data[&#x27;Financial Owner Email&#x27;],
              technical_owner_email: data[&#x27;Technical Owner Email&#x27;],
              repo_name: data[&#x27;Repo Name&#x27;],
              repo_owner: data[&#x27;Repo Owner&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
          tagsMemDb &#x3D; [...tagsMemDb, ...tagsDetails];
        }

        await this.db.aws_elasticache.createMany({
          data: dataMemDb,
        });

        await this.db.aws_elasticache_tags.createMany({
          data: tagsMemDb,
        });
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchLoadBalancers(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      let dataMemDb &#x3D; [];
      let tagsMemDb &#x3D; [];
      this.logger.log(
        &#x60;Retrieving load balancers for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Load Balancers Data
      const loadBalancers &#x3D; await this.describeLoadBalancers(options);
      if (loadBalancers &amp;&amp; loadBalancers.length &gt; 0) {
        for (let loadBalancer of loadBalancers) {
          const uuid &#x3D; &#x60;${Math.random()
            .toString(16)
            .slice(2)}_${new Date().getTime()}&#x60;;
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            LoadBalancerName: loadBalancer[&#x27;LoadBalancerName&#x27;] ?? &#x27;&#x27;,
            EndPoint:
              &#x60;${loadBalancer[&#x27;LoadBalancerName&#x27;]}_${loadBalancer[&#x27;DNSName&#x27;]}&#x60; ??
              Math.random() ??
              &#x27;&#x27;,
            loadBalancerType: &#x27;classic&#x27;,
            InstanceId: &#x27;&#x27;,
            InstanceType: &#x27;&#x27;,
            InstanceState: &#x27;&#x27;,
            LaunchTime: &#x27;&#x27;,
            State: &#x27;&#x27;,
            HHC: 0,
            UHC: 0,
            RC: 0,
            Tags: [],
          };

          // Use LoadBalancerName to Get Instance Health
          const instanceHealthOptions &#x3D; cloneDeep(options);
          instanceHealthOptions.input &#x3D; {
            LoadBalancerName: loadBalancer[&#x27;LoadBalancerName&#x27;],
          };
          const instanceStates &#x3D; await this.describeInstanceHealth(
            instanceHealthOptions,
          );
          if (instanceStates &amp;&amp; instanceStates.length &gt; 0) {
            for (let instanceState of instanceStates) {
              data[&#x27;InstanceId&#x27;] &#x3D; instanceState[&#x27;InstanceId&#x27;] ?? &#x27;&#x27;;
              data[&#x27;State&#x27;] &#x3D; instanceState[&#x27;State&#x27;] ?? &#x27;&#x27;;

              // Use Instance Id to Get Instances Data
              const instanceOptions &#x3D; cloneDeep(options);
              instanceOptions.input &#x3D; {
                InstanceIds: [instanceState[&#x27;InstanceId&#x27;]],
              };
              const instances &#x3D; await this.describeInstances(instanceOptions);
              if (instances &amp;&amp; instances.length &gt; 0) {
                for (let instance of instances) {
                  data[&#x27;InstanceType&#x27;] &#x3D;
                    instance[&#x27;Instances&#x27;][0][&#x27;InstanceType&#x27;] ?? &#x27;&#x27;;
                  data[&#x27;InstanceState&#x27;] &#x3D;
                    instance[&#x27;Instances&#x27;][0][&#x27;State&#x27;][&#x27;Name&#x27;] ?? &#x27;&#x27;;
                  data[&#x27;LaunchTime&#x27;] &#x3D;
                    instance[&#x27;Instances&#x27;][0][&#x27;LaunchTime&#x27;].toString() ?? &#x27;&#x27;;
                }
              }
            }
          }

          let metrics &#x3D; [
            &#x27;HealthyHostCount&#x27;,
            &#x27;UnHealthyHostCount&#x27;,
            &#x27;RequestCount&#x27;,
          ];

          const cwData &#x3D; [];
          for (let metric of metrics) {
            // Get Metrics Data
            const metricsOptions &#x3D; cloneDeep(options);
            metricsOptions.input &#x3D; {
              Namespace: &#x27;AWS/ELB&#x27;,
              MetricName: metric,
              Dimensions: [
                {
                  Name: &#x27;LoadBalancerName&#x27;,
                  Value: loadBalancer[&#x27;LoadBalancerName&#x27;],
                },
              ],
              Period: 14 * 24 * 60 * 60,
              StartTime: moment().subtract(14, &#x27;d&#x27;),
              EndTime: moment(),
              Statistics: [&#x27;Average&#x27;, &#x27;Maximum&#x27;, &#x27;Minimum&#x27;],
            };
            const metricData &#x3D; await this.getMetricStatistics(metricsOptions);
            cwData.push(metricData);
          }

          if (size(cwData[0]) &gt; 0) {
            data.HHC &#x3D; round(cwData[0][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[1]) &gt; 0) {
            data.UHC &#x3D; round(cwData[1][0][&#x27;Average&#x27;], 2);
          }

          if (size(cwData[2]) &gt; 0) {
            data.RC &#x3D; round(cwData[2][0][&#x27;Average&#x27;], 2);
          }

          // Get Tags Data
          const tagsOptions &#x3D; cloneDeep(options);
          tagsOptions.input &#x3D; {
            LoadBalancerNames: [loadBalancer[&#x27;LoadBalancerName&#x27;]],
          };
          const tagsData &#x3D; await this.describeELBTags(tagsOptions);
          const tags &#x3D; tagsData[0];
          data.Tags &#x3D; tags.Tags ? [...tags.Tags] : [];

          // Add Specific Tags as Columns
          const tagColumns &#x3D; this.retrieveTagsInfo(data.Tags);
          for (let tag in tagColumns) data[tag] &#x3D; tagColumns[tag];

          // Map tags
          const tagsDetails &#x3D;
            data[&#x27;Tags&#x27;].length &gt; 0
              ? data[&#x27;Tags&#x27;].map((tags) &#x3D;&gt; ({
                  key: tags.Key,
                  value: tags.Value,
                  aws_elb_id: uuid,
                }))
              : [];
          //  Push to Database if no record found
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              id: uuid,
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              load_balancer_name: data[&#x27;LoadBalancerName&#x27;],
              load_balancer_type: data[&#x27;loadBalancerType&#x27;],
              instance_id: data[&#x27;InstanceId&#x27;],
              instance_type: data[&#x27;InstanceType&#x27;],
              instance_state: data[&#x27;InstanceState&#x27;],
              launch_time: data[&#x27;LaunchTime&#x27;],
              state: data[&#x27;State&#x27;],
              hhc: data[&#x27;HHC&#x27;],
              uhc: data[&#x27;UHC&#x27;],
              rc: data[&#x27;RC&#x27;],
              application: data[&#x27;Application&#x27;],
              migration: data[&#x27;Migration&#x27;],
              financial_owner_email: data[&#x27;Financial Owner Email&#x27;],
              technical_owner_email: data[&#x27;Technical Owner Email&#x27;],
              repo_name: data[&#x27;Repo Name&#x27;],
              repo_owner: data[&#x27;Repo Owner&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
          tagsMemDb &#x3D; [...tagsMemDb, ...tagsDetails];
        }

        await this.db.aws_elb.createMany({
          data: dataMemDb,
        });

        await this.db.aws_elb_tags.createMany({
          data: tagsMemDb,
        });
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchDataWarehouses(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      let dataMemDb &#x3D; [];
      this.logger.log(
        &#x60;Retrieving data warehouses for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Data Warehouses Data
      const dataWarehouses &#x3D; await this.describeClusters(options);
      if (dataWarehouses &amp;&amp; dataWarehouses.length &gt; 0) {
        for (let dataWarehouse of dataWarehouses) {
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            ClusterIdentifier: dataWarehouse[&#x27;ClusterIdentifier&#x27;] ?? &#x27;&#x27;,
            DBName: dataWarehouse[&#x27;DBName&#x27;] ?? &#x27;&#x27;,
            NodeType: dataWarehouse[&#x27;NodeType&#x27;] ?? &#x27;&#x27;,
            NumberOfNodes: dataWarehouse[&#x27;NumberOfNodes&#x27;] ?? 0,
            ClusterStatus: dataWarehouse[&#x27;ClusterStatus&#x27;] ?? &#x27;&#x27;,
            ClusterCreateTime: dataWarehouse[&#x27;ClusterCreateTime&#x27;] ?? &#x27;&#x27;,
            DBCon14: 0,
            DBConMx14: 0,
            DBConMi14: 0,
            CPU14: 0,
            CPU_Mx14: 0,
            CPU_Mi14: 0,
            WIO14: 0,
            RIO14: 0,
            TableCnt14: 0,
            PerDiskUsed14: 0,
            PerDiskUsedMx14: 0,
            PerDiskUsedMi14: 0,
            AutoVac14: 0,
            DBCon60: 0,
            DBConMx60: 0,
            DBConMi60: 0,
            CPU60: 0,
            CPU_Mx60: 0,
            CPU_Mi60: 0,
            WIO60: 0,
            RIO60: 0,
            TableCnt60: 0,
            PerDiskUsed60: 0,
            PerDiskUsedMx60: 0,
            PerDiskUsedMi60: 0,
            AutoVac60: 0,
          };

          let metrics &#x3D; [
            &#x27;DatabaseConnections&#x27;,
            &#x27;CPUUtilization&#x27;,
            &#x27;WriteIOPS&#x27;,
            &#x27;ReadIOPS&#x27;,
            &#x27;TotalTableCount&#x27;,
            &#x27;PercentageDiskSpaceUsed&#x27;,
            &#x27;AutoVacuumSpaceFreed&#x27;,
          ];

          const cwData &#x3D; [];
          for (let metric of metrics) {
            for (let N of [14, 60]) {
              // Get Metrics Data
              const metricsOptions &#x3D; cloneDeep(options);
              metricsOptions.input &#x3D; {
                Namespace: &#x27;AWS/Redshift&#x27;,
                MetricName: metric,
                Dimensions: [
                  {
                    Name: &#x27;ClusterIdentifier&#x27;,
                    Value: dataWarehouse[&#x27;ClusterIdentifier&#x27;],
                  },
                ],
                Period: N * 24 * 60 * 60,
                StartTime: moment().subtract(N, &#x27;d&#x27;),
                EndTime: moment(),
                Statistics: [&#x27;Average&#x27;, &#x27;Maximum&#x27;, &#x27;Minimum&#x27;],
              };
              const metricData &#x3D; await this.getMetricStatistics(metricsOptions);
              cwData.push(metricData);
            }
          }

          if (size(cwData[0]) &gt; 0) {
            data.DBCon14 &#x3D; round(cwData[0][0][&#x27;Average&#x27;], 3);
            data.DBConMx14 &#x3D; round(cwData[0][0][&#x27;Maximum&#x27;], 3);
            data.DBConMi14 &#x3D; round(cwData[0][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[1]) &gt; 0) {
            data.CPU14 &#x3D; round(cwData[1][0][&#x27;Average&#x27;], 3);
            data.CPU_Mx14 &#x3D; round(cwData[1][0][&#x27;Maximum&#x27;], 3);
            data.CPU_Mi14 &#x3D; round(cwData[1][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[2]) &gt; 0) {
            data.WIO14 &#x3D; round(cwData[2][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[3]) &gt; 0) {
            data.RIO14 &#x3D; round(cwData[3][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[4]) &gt; 0) {
            data.TableCnt14 &#x3D; round(cwData[4][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[5]) &gt; 0) {
            data.PerDiskUsed14 &#x3D; round(cwData[5][0][&#x27;Average&#x27;], 3);
            data.PerDiskUsedMx14 &#x3D; round(cwData[5][0][&#x27;Maximum&#x27;], 3);
            data.PerDiskUsedMi14 &#x3D; round(cwData[5][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[6]) &gt; 0) {
            data.AutoVac14 &#x3D; round(cwData[6][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[7]) &gt; 0) {
            data.DBCon60 &#x3D; round(cwData[7][0][&#x27;Average&#x27;], 3);
            data.DBConMx60 &#x3D; round(cwData[7][0][&#x27;Maximum&#x27;], 3);
            data.DBConMi60 &#x3D; round(cwData[7][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[8]) &gt; 0) {
            data.CPU60 &#x3D; round(cwData[8][0][&#x27;Average&#x27;], 3);
            data.CPU_Mx60 &#x3D; round(cwData[8][0][&#x27;Maximum&#x27;], 3);
            data.CPU_Mi60 &#x3D; round(cwData[8][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[9]) &gt; 0) {
            data.WIO60 &#x3D; round(cwData[9][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[10]) &gt; 0) {
            data.RIO60 &#x3D; round(cwData[10][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[11]) &gt; 0) {
            data.TableCnt60 &#x3D; round(cwData[11][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[12]) &gt; 0) {
            data.PerDiskUsed60 &#x3D; round(cwData[12][0][&#x27;Average&#x27;], 3);
            data.PerDiskUsedMx60 &#x3D; round(cwData[12][0][&#x27;Maximum&#x27;], 3);
            data.PerDiskUsedMi60 &#x3D; round(cwData[12][0][&#x27;Minimum&#x27;], 3);
          }

          if (size(cwData[13]) &gt; 0) {
            data.AutoVac60 &#x3D; round(cwData[13][0][&#x27;Average&#x27;], 3);
          }

          //  Push to Database if no record found
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              cluster_identifier: data[&#x27;ClusterIdentifier&#x27;],
              db_name: data[&#x27;DBName&#x27;],
              node_type: data[&#x27;NodeType&#x27;],
              number_Of_nodes: data[&#x27;NumberOfNodes&#x27;],
              cluster_status: data[&#x27;ClusterStatus&#x27;],
              cluster_create_time: data[&#x27;ClusterCreateTime&#x27;],
              db_con14: data[&#x27;DBCon14&#x27;],
              db_con_mx14: data[&#x27;DBConMx14&#x27;],
              db_con_mi14: data[&#x27;DBConMi14&#x27;],
              cpu14: data[&#x27;CPU14&#x27;],
              cpu_mx14: data[&#x27;CPU_Mx14&#x27;],
              cpu_mi14: data[&#x27;CPU_Mi14&#x27;],
              wio14: data[&#x27;WIO14&#x27;],
              rio14: data[&#x27;RIO14&#x27;],
              table_cnt14: data[&#x27;TableCnt14&#x27;],
              per_disk_used14: data[&#x27;PerDiskUsed14&#x27;],
              per_disk_used_mx14: data[&#x27;PerDiskUsedMx14&#x27;],
              per_disk_used_mi14: data[&#x27;PerDiskUsedMi14&#x27;],
              auto_vac14: data[&#x27;AutoVac14&#x27;],
              db_con60: data[&#x27;DBCon60&#x27;],
              db_con_mx60: data[&#x27;DBConMx60&#x27;],
              db_con_mi60: data[&#x27;DBConMi60&#x27;],
              cpu60: data[&#x27;CPU60&#x27;],
              cpu_mx60: data[&#x27;CPU_Mx60&#x27;],
              cpu_mi60: data[&#x27;CPU_Mi60&#x27;],
              wio60: data[&#x27;WIO60&#x27;],
              rio60: data[&#x27;RIO60&#x27;],
              table_cnt60: data[&#x27;TableCnt60&#x27;],
              per_disk_used60: data[&#x27;PerDiskUsed60&#x27;],
              per_disk_used_mx60: data[&#x27;PerDiskUsedMx60&#x27;],
              per_disk_used_mi60: data[&#x27;PerDiskUsedMi60&#x27;],
              auto_vac60: data[&#x27;AutoVac60&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
        }

        await this.db.aws_redshift.createMany({
          data: dataMemDb,
        });
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchStorages(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      let dataMemDb &#x3D; [];
      this.logger.log(
        &#x60;Retrieving storages for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Storages Data
      const storages &#x3D; await this.listBuckets(options);

      if (storages &amp;&amp; storages.length &gt; 0) {
        for (let storage of storages) {
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            Name: storage[&#x27;Name&#x27;] ?? &#x27;&#x27;,
            CreationDate: storage[&#x27;CreationDate&#x27;]
              ? moment(storage[&#x27;CreationDate&#x27;]).format(&#x27;DD-MM-YYYY&#x27;)
              : &#x27;&#x27;,
            CreationTime: storage[&#x27;CreationDate&#x27;]
              ? moment(storage[&#x27;CreationDate&#x27;]).format(&#x27;HH:mm&#x27;)
              : &#x27;&#x27;,
            AbortIncompleteMultipartUpload: &#x27;&#x27;,
            NoOfMultipartUploads: 0,
            MultipartDataSize: 0,
          };

          // Get Bucket Life Cycle Policy
          const bucketLifeCycleOptions &#x3D; cloneDeep(options);
          bucketLifeCycleOptions.input &#x3D; { Bucket: storage[&#x27;Name&#x27;] };
          const rules &#x3D; await this.getBucketLifeCycleConfiguration(
            bucketLifeCycleOptions,
          );

          if (rules &amp;&amp; size(rules[0]) &gt; 0) {
            data[&#x27;AbortIncompleteMultipartUpload&#x27;] &#x3D; rules[0][
              &#x27;AbortIncompleteMultipartUpload&#x27;
            ]
              ? rules[0][&#x27;AbortIncompleteMultipartUpload&#x27;][
                  &#x27;DaysAfterInitiation&#x27;
                ].toString()
              : &#x27;&#x27;;
          }

          //  Push to Database if no record found
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              name: data[&#x27;Name&#x27;],
              abort_incomplete_multipart_upload:
                data[&#x27;AbortIncompleteMultipartUpload&#x27;],
              no_of_multipart_uploads: data[&#x27;NoOfMultipartUploads&#x27;],
              multipart_data_size: data[&#x27;MultipartDataSize&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
        }

        await this.db.aws_s3.createMany({
          data: dataMemDb,
        });
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async fetchMultipartUploads() {
    let cronProcess;
    try {

      let serviceName &#x3D; &#x27;s3_multipart&#x27;;
      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      
      cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      setTimeout(async () &#x3D;&gt; {
        const recent &#x3D; await getLatestRefreshDate(&#x27;aws_s3&#x27;);

        if (!recent) {
          return [];
        }

        // Get multipart data
        const storages &#x3D; await this.db.aws_s3.findMany({
          where: {
            data_refresh_date_time: {
              gte: new Date(
                moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
              ),
            },
            account_name: &#x27;viacbs-app-dev&#x27;
          },
          select: {
            id: true,
            account_name: true,
            region: true,
            name: true,
          }
        });

        console.log(&#x27;storages.length&#x27;, storages.length);
        const groupedStorages &#x3D; groupBy(storages, &#x27;account_name&#x27;);
        for (const accountName in groupedStorages) { 

          // Get list of accounts
          const accounts &#x3D; process.env.AWS_ACCOUNTS;
          let accountList &#x3D; [];
          forEach(JSON.parse(accounts), (accountNumber, alias) &#x3D;&gt; {
            const account: AccountsDto &#x3D; { alias, accountNumber };
            accountList.push(account);
          });

          const account &#x3D; accountList.find(
            (account) &#x3D;&gt; account.alias &#x3D;&#x3D;&#x3D; accountName,
          );

          // Assume role
          const response &#x3D; await this.moduleRef
            .get(&#x60;appService&#x60;, { strict: false })
            .assumeRole(account);

          const multipartUploadDataPromises &#x3D; [];  
          for await (let storage of groupedStorages[accountName]) {
            if (response) {
              const options &#x3D; {
                region: storage[&#x27;region&#x27;],
                credentials: {
                  accessKeyId: response.Credentials.AccessKeyId,
                  secretAccessKey: response.Credentials.SecretAccessKey,
                  sessionToken: response.Credentials.SessionToken,
                },
                input: { Bucket: storage[&#x27;name&#x27;], MaxUploads: 1000 },
                account: {
                  name: account.alias,
                  accountNumber: account.accountNumber,
                },
              };

              // Get Multipart Upload Data
              multipartUploadDataPromises.push(this.listMultipartUploads(options));
            }
          }

          const multipartUploadDataResult &#x3D; compact(await Promise.all(
            multipartUploadDataPromises,
          ));
          console.log(&#x27;multipartUploadDataResult&#x27;, multipartUploadDataResult.length);
          console.log(&#x27;multipartUploadDataResult2&#x27;, multipartUploadDataResult);
        let i &#x3D; 0;
        while (i &lt; multipartUploadDataResult.length) {
          if (
            multipartUploadDataResult[i] &amp;&amp;
            has(multipartUploadDataResult[i], &#x27;Uploads&#x27;) &amp;&amp;
            multipartUploadDataResult[i][&#x27;Uploads&#x27;]
          ) {
            const NoOfMultipartUploads &#x3D;
              multipartUploadDataResult[i][&#x27;Uploads&#x27;].length;
            let totalUploadDataSize &#x3D; 0;
            const multipartUploadPartsPromises &#x3D; [];
            for (let uploadData of multipartUploadDataResult[i][&#x27;Uploads&#x27;]) {
              // Get Parts
              const listPartsOptions &#x3D; {
                credentials: multipartUploadDataResult[i].Credentials,
                region: multipartUploadDataResult[i].Region,
                input: {
                  Bucket: multipartUploadDataResult[i].Bucket,
                  UploadId: uploadData[&#x27;UploadId&#x27;],
                  Key: uploadData[&#x27;Key&#x27;],
                  MaxParts: 1000
                },
                account: {
                  name: account.alias,
                  accountNumber: account.accountNumber,
                },
              };

              multipartUploadPartsPromises.push(this.listParts(listPartsOptions));

            }

            const multipartUploadPartsResult &#x3D; compact(await Promise.all(
              multipartUploadPartsPromises,
            ));

            let j &#x3D; 0;
            while (j &lt; multipartUploadPartsResult.length) {
              const totalSize &#x3D; sumBy(multipartUploadPartsResult[j], &#x27;Size&#x27;);
              totalUploadDataSize &#x3D; totalUploadDataSize + totalSize;
              j++;
            }

            const MultipartDataSize &#x3D; round(
              totalUploadDataSize / 1024 / 1024 / 1024,
              2,
            );

            const s3Resource &#x3D; await this.db.aws_s3.findFirst({
              select: {
                id: true,
              },
              where: {
                name: multipartUploadDataResult[i].Bucket,
                region: multipartUploadDataResult[i].Region,
                account_name: accountName,
              },
            });

            await this.db.aws_s3.update({
              where: {
                id: s3Resource[&#x27;id&#x27;],
              },
              data: {
                no_of_multipart_uploads: NoOfMultipartUploads,
                multipart_data_size: MultipartDataSize,
              },
            });
          }
          i++;
        }
        }


        // Update after process done
        if (cronProcess)
          await this.db.processes.update({
            where: {
              id: Number(cronProcess?.id),
            },
            data: {
              end_time: moment().format(),
              status: &#x27;pending&#x27;,
            },
          });

      }, 0);

      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });
      this.logger.warn(error.message);
    }
  }

  async fetchSearchEngines(options: {
    region: string;
    credentials: Object;
    input: Object;
    account: { name: string; accountNumber: string };
    assumeRole: Object;
    queue_id: string;
  }): Promise&lt;any&gt; {
    try {
      const { queue_id } &#x3D; options;
      let dataMemDb &#x3D; [];
      this.logger.log(
        &#x60;Retrieving search engines for account:${options.account.name} and region: ${options.region}&#x60;,
      );
      // Get Search Engines Data
      const searchEngines &#x3D; await this.listDomainNames(options);
      if (searchEngines &amp;&amp; searchEngines.length &gt; 0) {
        for (let searchEngine of searchEngines) {
          const data &#x3D; {
            AccountName: options.account.name ?? &#x27;&#x27;,
            Region: options.region ?? &#x27;&#x27;,
            DomainName: &#x27;&#x27;,
            LaunchDate: &#x27;&#x27;,
            DedicatedMaster: &#x27;&#x27;,
            MasterType: &#x27;&#x27;,
            MasterCount: 0,
            NodeType: &#x27;&#x27;,
            NodeCount: 0,
            ESVersion: &#x27;&#x27;,
            VolumeType: &#x27;&#x27;,
            VolumeSize: 0,
            CPUPercentage: 0,
            FreeStorage: 0,
            JVMPressurePercentage: 0,
            SerDocCnt: 0,
            SerReqCnt: 0,
            MastCPUPercentage: 0,
            IndLatencySeconds: 0,
            SearchRateCnt: 0,
          };

          // Get Elastic Search Domain Details
          const elasticSearchDomainOptions &#x3D; cloneDeep(options);
          elasticSearchDomainOptions.input &#x3D; {
            DomainName: searchEngine[&#x27;DomainName&#x27;],
          };
          const esDomain &#x3D; await this.describeElasticSearchDomain(
            elasticSearchDomainOptions,
          );

          // Get Elastic Search Domain Config Details
          const elasticSearchDomainConfigOptions &#x3D; cloneDeep(options);
          elasticSearchDomainConfigOptions.input &#x3D; {
            DomainName: searchEngine[&#x27;DomainName&#x27;],
          };
          const esDomainConfig &#x3D; await this.describeElasticSearchDomain(
            elasticSearchDomainConfigOptions,
          );
          data[&#x27;LaunchDate&#x27;] &#x3D; esDomainConfig[&#x27;ElasticsearchClusterConfig&#x27;][
            &#x27;Status&#x27;
          ]
            ? esDomainConfig[&#x27;ElasticsearchClusterConfig&#x27;][&#x27;Status&#x27;][
                &#x27;CreationDate&#x27;
              ]
            : &#x27;&#x27;;
          data[&#x27;DedicatedMaster&#x27;] &#x3D; isBoolean(
            esDomain[&#x27;ElasticsearchClusterConfig&#x27;][&#x27;DedicatedMasterEnabled&#x27;],
          )
            ? esDomain[&#x27;ElasticsearchClusterConfig&#x27;][
                &#x27;DedicatedMasterEnabled&#x27;
              ].toString()
            : &#x27;&#x27;;
          data[&#x27;MasterType&#x27;] &#x3D;
            esDomain[&#x27;ElasticsearchClusterConfig&#x27;][&#x27;DedicatedMasterType&#x27;] ?? &#x27;&#x27;;
          data[&#x27;MasterCount&#x27;] &#x3D;
            esDomain[&#x27;ElasticsearchClusterConfig&#x27;][&#x27;DedicatedMasterCount&#x27;] ?? 0;
          data[&#x27;NodeType&#x27;] &#x3D;
            esDomain[&#x27;ElasticsearchClusterConfig&#x27;][&#x27;InstanceType&#x27;] ?? &#x27;&#x27;;
          data[&#x27;NodeCount&#x27;] &#x3D;
            esDomain[&#x27;ElasticsearchClusterConfig&#x27;][&#x27;InstanceCount&#x27;] ?? 0;
          data[&#x27;DomainName&#x27;] &#x3D; esDomain[&#x27;DomainName&#x27;] ?? &#x27;&#x27;;
          data[&#x27;ESVersion&#x27;] &#x3D; esDomain[&#x27;ElasticsearchVersion&#x27;] ?? &#x27;&#x27;;
          data[&#x27;VolumeType&#x27;] &#x3D; esDomain[&#x27;EBSOptions&#x27;][&#x27;VolumeType&#x27;] ?? &#x27;&#x27;;
          data[&#x27;VolumeSize&#x27;] &#x3D; esDomain[&#x27;EBSOptions&#x27;][&#x27;VolumeSize&#x27;] ?? 0;

          const metrics &#x3D; [
            &#x27;FreeStorageSpace&#x27;,
            &#x27;CPUUtilization&#x27;,
            &#x27;JVMMemoryPressure&#x27;,
            &#x27;SearchableDocuments&#x27;,
            &#x27;MasterCPUUtilization&#x27;,
            &#x27;ElasticsearchRequests&#x27;,
            &#x27;SearchRate&#x27;,
            &#x27;IndexingLatency&#x27;,
          ];
          const cwData &#x3D; [];
          for (let metric of metrics) {
            // Get Metrics Data
            const metricsOptions &#x3D; cloneDeep(options);
            metricsOptions.input &#x3D; {
              Namespace: &#x27;AWS/ES&#x27;,
              MetricName: metric,
              Dimensions: [
                { Name: &#x27;DomainName&#x27;, Value: searchEngine[&#x27;DomainName&#x27;] },
                { Name: &#x27;ClientId&#x27;, Value: options.account.accountNumber },
              ],
              Period: 60 * 24 * 60 * 60,
              StartTime: moment().subtract(60, &#x27;d&#x27;),
              EndTime: moment(),
              Statistics: [&#x27;Average&#x27;, &#x27;Maximum&#x27;, &#x27;Minimum&#x27;],
            };
            const metricData &#x3D; await this.getMetricStatistics(metricsOptions);
            cwData.push(metricData);
          }

          if (size(cwData[0]) &gt; 0) {
            data.FreeStorage &#x3D; round(cwData[0][0][&#x27;Average&#x27;] / 1024, 3);
          }

          if (size(cwData[1]) &gt; 0) {
            data.CPUPercentage &#x3D; round(cwData[1][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[2]) &gt; 0) {
            data.JVMPressurePercentage &#x3D; round(cwData[2][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[3]) &gt; 0) {
            data.SerDocCnt &#x3D; round(cwData[3][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[4]) &gt; 0) {
            data.MastCPUPercentage &#x3D; round(cwData[4][0][&#x27;Average&#x27;] / 1024, 3);
          }

          if (size(cwData[5]) &gt; 0) {
            data.SerReqCnt &#x3D; round(cwData[5][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[6]) &gt; 0) {
            data.SearchRateCnt &#x3D; round(cwData[6][0][&#x27;Average&#x27;], 3);
          }

          if (size(cwData[7]) &gt; 0) {
            data.IndLatencySeconds &#x3D; round(cwData[7][0][&#x27;Average&#x27;] / 1000, 3);
          }

          //  Push to Database if no record found
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              account_name: data[&#x27;AccountName&#x27;],
              region: data[&#x27;Region&#x27;],
              domain_name: data[&#x27;DomainName&#x27;],
              launchDate: data[&#x27;LaunchDate&#x27;],
              dedicated_master: data[&#x27;DedicatedMaster&#x27;],
              master_type: data[&#x27;MasterType&#x27;],
              master_count: data[&#x27;MasterCount&#x27;],
              node_type: data[&#x27;NodeType&#x27;],
              node_count: data[&#x27;NodeCount&#x27;],
              es_version: data[&#x27;ESVersion&#x27;],
              volume_type: data[&#x27;VolumeType&#x27;],
              volume_size: data[&#x27;VolumeSize&#x27;],
              cpu_percentage: data[&#x27;CPUPercentage&#x27;],
              free_storage: data[&#x27;FreeStorage&#x27;],
              jvm_pressure_percentage: data[&#x27;JVMPressurePercentage&#x27;],
              ser_doc_cnt: data[&#x27;SerDocCnt&#x27;],
              ser_req_cnt: data[&#x27;SerReqCnt&#x27;],
              mast_cpu_percentage: data[&#x27;MastCPUPercentage&#x27;],
              ind_latency_seconds: data[&#x27;IndLatencySeconds&#x27;],
              search_rate_cnt: data[&#x27;SearchRateCnt&#x27;],
              data_refresh_date_time: moment().format(),
            },
          ];
        }

        await this.db.aws_elasticsearch.createMany({
          data: dataMemDb,
        });
      }
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  // API to get tag info
  retrieveTagsInfo(tags: Tag[]) {
    const columns &#x3D; [
      &#x27;Application&#x27;,
      &#x27;Migration&#x27;,
      &#x27;Financial Owner Email&#x27;,
      &#x27;financial_owner_email&#x27;,
      &#x27;Financial Owner E-mail&#x27;,
      &#x27;Technical Owner Email&#x27;,
      &#x27;Technical Owner E-mail&#x27;,
      &#x27;tech_owner_email&#x27;,
      &#x27;tf_repo_name&#x27;,
      &#x27;tf_repo_owner&#x27;,
    ];
    let data &#x3D; {
      Application: &#x27;&#x27;,
      Migration: &#x27;&#x27;,
      &#x27;Financial Owner Email&#x27;: &#x27;&#x27;,
      &#x27;Technical Owner Email&#x27;: &#x27;&#x27;,
      &#x27;Repo Name&#x27;: &#x27;&#x27;,
      &#x27;Repo Owner&#x27;: &#x27;&#x27;,
    };
    for (let column of columns) {
      let result &#x3D; find(tags, { Key: column });
      const columnName &#x3D; startCase(column.replace(&#x27;_&#x27;, &#x27; &#x27;));
      if (result &amp;&amp; !isEmpty(result.Value)) {
        if (
          column &#x3D;&#x3D;&#x3D; &#x27;tech_owner_email&#x27; ||
          column &#x3D;&#x3D;&#x3D; &#x27;Technical Owner E-mail&#x27;
        ) {
          data[&#x27;Technical Owner Email&#x27;] &#x3D; result.Value;
        } else if (column &#x3D;&#x3D;&#x3D; &#x27;Financial Owner E-mail&#x27;) {
          data[&#x27;Financial Owner Email&#x27;] &#x3D; result.Value;
        } else if (column &#x3D;&#x3D;&#x3D; &#x27;tf_repo_name&#x27;) {
          data[&#x27;Repo Name&#x27;] &#x3D; result.Value;
        } else if (column &#x3D;&#x3D;&#x3D; &#x27;tf_repo_owner&#x27;) {
          data[&#x27;Repo Owner&#x27;] &#x3D; result.Value;
        } else {
          data[columnName] &#x3D; result.Value;
        }
      }
    }
    return data;
  }

  // New Relic APIs
  async getNewRelicAccounts(): Promise&lt;any&gt; {
    try {
      // Initialize GraphQL Client
      const endpoint &#x3D; process.env.NEW_RELIC_API_URL;
      const graphQLClient &#x3D; new GraphQLClient(endpoint, {
        headers: {
          &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
          &#x27;Api-Key&#x27;: process.env.NEW_RELIC_API_KEY,
        },
      });

      // Make call to New Relic for accounts
      let queryString &#x3D; &#x60;SELECT latest(consumingAccountName) as consumingAccountName FROM NrConsumption FACET consumingAccountId WHERE productLine &#x3D; &#x27;DataPlatform&#x27; LIMIT MAX&#x60;;
      const query &#x3D; gql&#x60;{ actor { account(id: ${process.env.NEW_RELIC_MASTER_ACCOUNT}) {nrql(query: \&quot;${queryString}\&quot;){ results }}}}&#x60;;
      const response &#x3D; await graphQLClient.request(query);
      return response[&#x27;actor&#x27;][&#x27;account&#x27;][&#x27;nrql&#x27;][&#x27;results&#x27;];
    } catch (error) {
      this.logger.error(&#x60;GetNewRelicAccounts: ${error.message}&#x60;);
    }
  }

  async getNewRelicData(options: {
    accountId: string;
    type: string;
    days: number;
    data: { instanceIds: string; hostNames: string; fullHostNames: string };
  }): Promise&lt;any&gt; {
    try {
      // Initialize GraphQL Client
      const endpoint &#x3D; process.env.NEW_RELIC_API_URL;
      const graphQLClient &#x3D; new GraphQLClient(endpoint, {
        headers: {
          &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
          &#x27;Api-Key&#x27;: process.env.NEW_RELIC_API_KEY,
        },
      });

      // Make call to New Relic FullHostName(PrivateDNS) or Hostname API
      let queryString &#x3D; &#x27;&#x27;;
      if (options.type &#x3D;&#x3D;&#x3D; &#x27;hostbased&#x27;) {
        queryString &#x3D; &#x60;SELECT average(memoryTotalBytes)/1024/1024/1024 as TotalMem_GB, average(memoryUsedBytes)/1024/1024/1024 as UsedMem_GB, average(memoryFreeBytes)/1024/1024/1024 as FreeMem_GB from SystemSample FACET hostname WHERE hostname IN (${
          options.data.hostNames
        }) or ec2InstanceId IN (${
          options.data.instanceIds
        }) or externalKey IN (${options.data.instanceIds}) since &#x27;${moment()
          .subtract(options.days, &#x27;d&#x27;)
          .format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)}&#x27;&#x60;;
      } else {
        queryString &#x3D; &#x60;SELECT average(memoryTotalBytes)/1024/1024/1024 as TotalMem_GB, average(memoryUsedBytes)/1024/1024/1024 as UsedMem_GB, average(memoryFreeBytes)/1024/1024/1024 as FreeMem_GB from SystemSample FACET ec2InstanceId WHERE fullHostname IN (${
          options.data.fullHostNames
        }) or ec2InstanceId IN (${
          options.data.instanceIds
        }) or externalKey IN (${options.data.instanceIds}) since &#x27;${moment()
          .subtract(options.days, &#x27;d&#x27;)
          .format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)}&#x27;&#x60;;
      }
      const query &#x3D; gql&#x60;{ actor { account(id: ${options.accountId}) { nrql(query: \&quot;${queryString}\&quot;) { results } } } }&#x60;;
      const response &#x3D; await graphQLClient.request(query);
      return response[&#x27;actor&#x27;][&#x27;account&#x27;][&#x27;nrql&#x27;][&#x27;results&#x27;];
    } catch (error) {
      this.logger.error(
        &#x60;GetNewRelicData(${options.accountId}): ${error.message}&#x60;,
      );
    }
  }

  async fetchNewRelicEntities(provider: string): Promise&lt;any&gt; {
    try {
      let serviceName &#x3D; &#x27;new_relic_entities&#x27;;
      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      const recent &#x3D; await this.db.aws_ec2.findFirst({
        orderBy: {
          data_refresh_date_time: &#x27;desc&#x27;,
        },
        select: {
          data_refresh_date_time: true,
        },
      });

      if (!recent) {
        throw new DataNotFoundException(&#x27;Instances not found&#x27;);
      }

      const instanceData &#x3D; await this.db.aws_ec2.findMany({
        select: {
          resource_id: true,
        },
        where: {
          data_refresh_date_time: {
            gte: new Date(
              moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
            ),
          },
        },
      });

      // Initialize GraphQL Client
      const endpoint &#x3D; process.env.NEW_RELIC_API_URL;
      const graphQLClient &#x3D; new GraphQLClient(endpoint, {
        headers: {
          &#x27;Content-Type&#x27;: &#x27;application/json&#x27;,
          &#x27;Api-Key&#x27;: process.env.NEW_RELIC_API_KEY,
        },
      });

      for (const instance of instanceData) {
        // Make call to New Relic for entities
        const queryString &#x3D; &#x60;{tags: {key: &quot;aws.ec2.InstanceId&quot;, value: &quot;${instance[&#x27;resource_id&#x27;]}&quot; }, type: HOST}&#x60;;
        const query &#x3D; gql&#x60;{
          actor {
            entitySearch(queryBuilder: ${queryString}) {
              count
              query
              results {
                entities {
                  permalink
                }
              }
            }
          }
        }&#x60;;

        const response &#x3D; await graphQLClient.request(query);
        const entities &#x3D;
          response[&#x27;actor&#x27;][&#x27;entitySearch&#x27;][&#x27;results&#x27;][&#x27;entities&#x27;];

        await this.db.permalinks.upsert({
          where: {
            resource_id: instance[&#x27;resource_id&#x27;],
          },
          update: {
            permalink: entities.length &gt; 0 ? entities[0][&#x27;permalink&#x27;] : &#x27;&#x27;,
          },
          create: {
            resource_id: instance[&#x27;resource_id&#x27;],
            permalink: entities.length &gt; 0 ? entities[0][&#x27;permalink&#x27;] : &#x27;&#x27;,
            service: &#x27;ec2&#x27;,
            provider: provider,
          },
        });
      }

      // Update after process done
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });
      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      this.logger.error(&#x60;FetchNewRelicEntities: ${error.message}&#x60;);
    }
  }

  async fetchNewRelicAccounts(): Promise&lt;any&gt; {
    try {
      let serviceName &#x3D; &#x27;new_relic_accounts&#x27;;
      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      // Fetch and upsert New Relic Accounts
      const accounts &#x3D; await this.getNewRelicAccounts();
      for (const account of accounts) {
        await this.db.new_relic_accounts.upsert({
          where: {
            account_id: account[&#x27;consumingAccountId&#x27;],
          },
          update: {
            account_name: account[&#x27;consumingAccountName&#x27;],
          },
          create: {
            account_id: account[&#x27;consumingAccountId&#x27;],
            account_name: account[&#x27;consumingAccountName&#x27;],
          },
        });
      }

      // Update after process done
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });

      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      this.logger.error(&#x60;FetchNewRelicAccounts: ${error.message}&#x60;);
    }
  }

  async getNewRelicEntities(resource_id: string): Promise&lt;any&gt; {
    try {
      return this.db.permalinks.findUnique({
        select: {
          permalink: true,
        },
        where: {
          resource_id: resource_id,
        },
      });
    } catch (error) {
      this.logger.error(&#x60;GetNewRelicEntities: ${error.message}&#x60;);
    }
  }

  async fetchMemoryUtilization() {
    try {
      let serviceName &#x3D; &#x27;new_relic&#x27;;
      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      const recent &#x3D; await this.db.aws_ec2.findFirst({
        orderBy: {
          data_refresh_date_time: &#x27;desc&#x27;,
        },
        select: {
          data_refresh_date_time: true,
        },
      });

      if (!recent) {
        throw new DataNotFoundException(&#x27;Instances not found&#x27;);
      }
      const instanceData &#x3D; await this.db.aws_ec2.findMany({
        select: {
          resource_id: true,
          resource_name: true,
          private_dns_name: true,
        },
        where: {
          data_refresh_date_time: {
            gte: new Date(
              moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
            ),
          },
        },
      });

      let count &#x3D; 0;
      const memoryUtilizationDataHostBasedPromises &#x3D; [];
      const memoryUtilizationDataPromises &#x3D; [];
      // Get accounts
      const accountsDetails &#x3D; await this.db.new_relic_accounts.findMany({
        select: {
          account_id: true,
        },
      });
      const accounts &#x3D; map(accountsDetails, &#x27;account_id&#x27;);
      const instanceChunks &#x3D; chunk(instanceData, 10);
      for await (let chunk of instanceChunks) {
        // Add Host Based Query Data
        memoryUtilizationDataHostBasedPromises.push(
          this.getMemoryUtilizationData(chunk, &#x27;hostbased&#x27;, accounts),
        );

        // Add Non Host Based Query Data
        memoryUtilizationDataPromises.push(
          this.getMemoryUtilizationData(chunk, &#x27;&#x27;, accounts),
        );

        count++;
      }

      const memoryUtilizationDataHostBased &#x3D; await Promise.all(
        memoryUtilizationDataHostBasedPromises,
      );
      const memoryUtilizationData &#x3D; await Promise.all(
        memoryUtilizationDataPromises,
      );

      let i &#x3D; 0;
      while (i &lt;&#x3D; count) {
        if (
          memoryUtilizationDataHostBased &amp;&amp;
          memoryUtilizationDataHostBased[i] &amp;&amp;
          memoryUtilizationDataHostBased[i].length &gt; 0
        ) {
          for (let data of memoryUtilizationDataHostBased[i]) {
            await this.db.aws_ec2.updateMany({
              where: {
                resource_name: data[&#x27;hostname&#x27;],
                data_refresh_date_time: {
                  gte: new Date(
                    moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
                  ),
                },
              },
              data: {
                total_mem_14: data[&#x27;total_mem_14&#x27;],
                used_mem_14: data[&#x27;used_mem_14&#x27;],
                free_mem_14: data[&#x27;free_mem_14&#x27;],
                free_mem_60: data[&#x27;free_mem_60&#x27;],
                total_mem_60: data[&#x27;total_mem_60&#x27;],
                used_mem_60: data[&#x27;used_mem_60&#x27;],
              },
            });
          }
        }

        if (
          memoryUtilizationData &amp;&amp;
          memoryUtilizationData[i] &amp;&amp;
          memoryUtilizationData[i].length &gt; 0
        ) {
          for (let data of memoryUtilizationData[i]) {
            await this.db.aws_ec2.updateMany({
              where: {
                resource_id: data[&#x27;resource_id&#x27;],
                data_refresh_date_time: {
                  gte: new Date(
                    moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
                  ),
                },
              },
              data: {
                total_mem_14: data[&#x27;total_mem_14&#x27;],
                used_mem_14: data[&#x27;used_mem_14&#x27;],
                free_mem_14: data[&#x27;free_mem_14&#x27;],
                free_mem_60: data[&#x27;free_mem_60&#x27;],
                total_mem_60: data[&#x27;total_mem_60&#x27;],
                used_mem_60: data[&#x27;used_mem_60&#x27;],
              },
            });
          }
        }

        i++;
      }

      // Update after process done
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });

      return { newRelicCount: count };
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  async getMemoryUtilizationData(chunk: any, type: string, accounts: any) {
    try {
      const newRelicData &#x3D; [];
      for (const accountId of accounts) {
        for (let N of [14, 60]) {
          const instanceIds &#x3D; map(
            chunk,
            (instance) &#x3D;&gt; &#x60;&#x27;${instance.resource_id}&#x27;&#x60;,
          ).join(&#x27;,&#x27;);
          const fullHostNames &#x3D; map(
            chunk,
            (instance) &#x3D;&gt; &#x60;&#x27;${instance.private_dns_name}&#x27;&#x60;,
          ).join(&#x27;,&#x27;);
          const hostNames &#x3D; map(
            chunk,
            (instance) &#x3D;&gt; &#x60;&#x27;${instance.resource_name}&#x27;&#x60;,
          ).join(&#x27;,&#x27;);

          const results &#x3D; await this.getNewRelicData({
            accountId,
            type,
            days: N,
            data: {
              instanceIds: instanceIds,
              hostNames: hostNames,
              fullHostNames: fullHostNames,
            },
          });

          if (results &amp;&amp; results.length &gt; 0) {
            for (const result of results) {
              let nrData &#x3D; {};
              let newRelicUtilization &#x3D; [];
              if (type &#x3D;&#x3D;&#x3D; &#x27;hostbased&#x27;) {
                newRelicUtilization &#x3D; filter(
                  newRelicData,
                  (data) &#x3D;&gt; data[&#x27;hostname&#x27;] &#x3D;&#x3D;&#x3D; result[&#x27;hostname&#x27;],
                );
              } else {
                newRelicUtilization &#x3D; filter(
                  newRelicData,
                  (data) &#x3D;&gt; data[&#x27;resource_id&#x27;] &#x3D;&#x3D;&#x3D; result[&#x27;ec2InstanceId&#x27;],
                );
              }

              if (newRelicUtilization.length &gt; 0) {
                nrData &#x3D; newRelicUtilization[0];
                nrData[&#x60;free_mem_${N}&#x60;] &#x3D; round(result[&#x27;FreeMem_GB&#x27;], 3);
                nrData[&#x60;total_mem_${N}&#x60;] &#x3D; round(result[&#x27;TotalMem_GB&#x27;], 3);
                nrData[&#x60;used_mem_${N}&#x60;] &#x3D; round(result[&#x27;UsedMem_GB&#x27;], 3);
              } else {
                nrData &#x3D; {
                  account_id: accountId,
                  [&#x60;free_mem_${N}&#x60;]: round(result[&#x27;FreeMem_GB&#x27;], 3),
                  [&#x60;total_mem_${N}&#x60;]: round(result[&#x27;TotalMem_GB&#x27;], 3),
                  [&#x60;used_mem_${N}&#x60;]: round(result[&#x27;UsedMem_GB&#x27;], 3),
                };
                if (type &#x3D;&#x3D;&#x3D; &#x27;hostbased&#x27;) {
                  nrData[&#x27;hostname&#x27;] &#x3D; result[&#x27;hostname&#x27;];
                } else {
                  nrData[&#x27;resource_id&#x27;] &#x3D; result[&#x27;ec2InstanceId&#x27;];
                }
              }

              newRelicData.push(nrData);
            }
          } else {
            continue;
          }
        }
      }
      return newRelicData;
    } catch (error) {
      this.logger.warn(error.message);
    }
  }

  // APIs to return cost anomaly data from AWS
  async availableCostAnomalyData(options: { frequency: string }) {
    try {
      const recent &#x3D; await getLatestRefreshDate(&#x27;aws_cost_anomaly&#x27;);

      if (!recent) {
        return [];
      }

      // Check frequency of data selected
      let date &#x3D; moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;);
      if (options.frequency &#x3D;&#x3D;&#x3D; &#x27;weekly&#x27;) {
        date &#x3D; moment().subtract(7, &#x27;d&#x27;).format(&#x27;YYYY-MM-DD&#x27;);
      } else if (options.frequency &#x3D;&#x3D;&#x3D; &#x27;monthly&#x27;) {
        date &#x3D; moment().subtract(30, &#x27;d&#x27;).format(&#x27;YYYY-MM-DD&#x27;);
      }

      const anomalies &#x3D; await this.db.aws_cost_anomaly.findMany({
        where: {
          data_refresh_date_time: {
            gte: new Date(date),
          },
        },
        select: {
          account_number: true,
          account_name: true,
          service: true,
          region: true,
          total_impact: true,
          anomaly_start_date: true,
          anomaly_end_date: true,
          aging: true,
          data_refresh_date_time: true,
        },
      });

      // Map Recency to data
      const today &#x3D; moment();
      const anomaliesData &#x3D; map(anomalies, (anomaly) &#x3D;&gt; {
        anomaly.recency &#x3D; today.diff(
          moment(anomaly.data_refresh_date_time),
          &#x27;days&#x27;,
        );
        return anomaly;
      });

      return {
        count: anomaliesData.length,
        data: anomaliesData,
      };
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async fetchCostAnomalyData() {
    try {
      // Insert into processes table
      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: &#x27;cost_anomaly&#x27; })
        .where({ rule_id: null })
        .first();

      await this.db.processes.update({
        select: {
          id: true,
        },
        where: {
          id: Number(cronProcess?.id),
        },
        data: {
          start_time: moment().format(),
          status: &#x27;in-progress&#x27;,
        },
      });

      const accountList &#x3D; [
        { alias: &#x27;vmn-mit-billing&#x27;, accountNumber: &#x27;444312304343&#x27; },
      ];
      const regionList &#x3D; [&#x27;us-east-1&#x27;];
      for (const account of accountList) {
        const response &#x3D; await this.moduleRef
          .get(&#x60;appService&#x60;, { strict: false })
          .assumeRole(account);

        if (!response) {
          continue;
        }

        for (const region of regionList) {
          this.logger.log(&#x60;Retrieving anomalies for region: ${region}&#x60;);

          // Get Anomalies Data
          const anomalies &#x3D; await this.getAnomalies({
            region: region,
            credentials: {
              accessKeyId: response.Credentials.AccessKeyId,
              secretAccessKey: response.Credentials.SecretAccessKey,
              sessionToken: response.Credentials.SessionToken,
            },
            input: {
              DateInterval: {
                StartDate: moment().subtract(1, &#x27;d&#x27;).format(&#x27;YYYY-MM-DD&#x27;),
                EndDate: moment().subtract(1, &#x27;d&#x27;).format(&#x27;YYYY-MM-DD&#x27;),
              },
            },
          });

          if (anomalies &amp;&amp; anomalies.length &gt; 0) {
            const accounts &#x3D; [];
            // Get Accounts Data
            const accountsData &#x3D; await this.listOrganizationAccounts({
              region: region,
              credentials: {
                accessKeyId: response.Credentials.AccessKeyId,
                secretAccessKey: response.Credentials.SecretAccessKey,
                sessionToken: response.Credentials.SessionToken,
              },
              input: {},
            });

            accounts.push(...accountsData);

            for (let anomaly of anomalies) {
              // Check if Record Present for Current Date
              const record &#x3D; await this.db.aws_cost_anomaly.findFirst({
                where: {
                  data_refresh_date_time: {
                    gte: new Date(moment().format(&#x27;YYYY-MM-DD&#x27;).toString()),
                  },
                  account_number: anomaly[&#x27;RootCauses&#x27;][0][&#x27;LinkedAccount&#x27;],
                  region: anomaly[&#x27;RootCauses&#x27;][0][&#x27;Region&#x27;],
                  service: anomaly[&#x27;RootCauses&#x27;][0][&#x27;Service&#x27;],
                },
                orderBy: {
                  id: &#x27;desc&#x27;,
                },
              });

              //  Push to Database if no record found
              if (!record) {
                // Search for account name
                let accountDetails &#x3D; accounts.find(
                  (account) &#x3D;&gt;
                    account.Id &#x3D;&#x3D;&#x3D; anomaly[&#x27;RootCauses&#x27;][0][&#x27;LinkedAccount&#x27;] ||
                    account.Name &#x3D;&#x3D;&#x3D; anomaly[&#x27;RootCauses&#x27;][0][&#x27;Service&#x27;],
                );

                let aging &#x3D; 0;
                if (anomaly[&#x27;AnomalyStartDate&#x27;] &amp;&amp; anomaly[&#x27;AnomalyEndDate&#x27;]) {
                  aging &#x3D; moment(anomaly[&#x27;AnomalyEndDate&#x27;]).diff(
                    moment(anomaly[&#x27;AnomalyStartDate&#x27;]),
                    &#x27;days&#x27;,
                  );
                }

                await this.db.aws_cost_anomaly.create({
                  data: {
                    account_number:
                      anomaly[&#x27;RootCauses&#x27;][0][&#x27;LinkedAccount&#x27;] ?? &#x27;&#x27;,
                    account_name: accountDetails ? accountDetails[&#x27;Name&#x27;] : &#x27;&#x27;,
                    service: anomaly[&#x27;RootCauses&#x27;][0][&#x27;Service&#x27;] ?? &#x27;&#x27;,
                    region: anomaly[&#x27;RootCauses&#x27;][0][&#x27;Region&#x27;] ?? &#x27;&#x27;,
                    total_impact: anomaly[&#x27;Impact&#x27;][&#x27;TotalImpact&#x27;] ?? 0,
                    anomaly_start_date: anomaly[&#x27;AnomalyStartDate&#x27;] ?? &#x27;&#x27;,
                    anomaly_end_date: anomaly[&#x27;AnomalyEndDate&#x27;] ?? &#x27;&#x27;,
                    aging,
                    data_refresh_date_time: moment().format(),
                  },
                });
              }
            }
          }
        }
      }

      // Update after process done
      await this.db.processes.update({
        where: {
          id: Number(cronProcess?.id),
        },
        data: {
          end_time: moment().format(),
          status: &#x27;pending&#x27;,
        },
      });

      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      console.log(error);
      this.logger.warn(&#x27;Cost Anomaly not found&#x27;);
    }
  }

  async fetchServiceData(options: {
    service: string;
    accountId: string;
    region: string;
    process_id: string;
    from_cron: string;
    queue_id: string;
  }) {
    let cronProcess;
    try {
      const name &#x3D; options.service;
      const { process_id, from_cron, queue_id } &#x3D; options;
      const serviceName &#x3D; Object.keys(ServiceMapping).find(
        (key) &#x3D;&gt; ServiceMapping[key] &#x3D;&#x3D;&#x3D; name,
      );

      // Check process status
      if (!process_id || from_cron) {
        const record &#x3D; await this.moduleRef
          .get(&#x60;appService&#x60;, { strict: false })
          .checkProcessStatus(serviceName);

        if (record) {
          throw new BadRequestException(&#x27;Cron Processes already in progress&#x27;);
        }

        cronProcess &#x3D; await this.db.processes.findFirst({
          where: {
            name: serviceName,
            rule_id: null,
          },
        });

        if (cronProcess)
          await this.db.processes.update({
            select: {
              id: true,
            },
            where: {
              id: Number(cronProcess?.id),
            },
            data: {
              start_time: moment().format(),
              status: &#x27;in-progress&#x27;,
            },
          });
      }

      // Initialization of Regions List
      setTimeout(async () &#x3D;&gt; {
        try {
          let regionList &#x3D; awsRegions.list();

          // Get list of accounts
          const accounts &#x3D; process.env.AWS_ACCOUNTS;

          let accountList &#x3D; [];
          forEach(JSON.parse(accounts), (accountNumber, alias) &#x3D;&gt; {
            const account: AccountsDto &#x3D; { alias, accountNumber };
            accountList.push(account);
          });

          // If region present then search for specific region
          if (options.region) {
            const regionData &#x3D; regionList.find(
              (region) &#x3D;&gt; region.code &#x3D;&#x3D;&#x3D; options.region,
            );
            regionList &#x3D; regionData ? [regionData] : [];
          }

          // If account id present then search for specific account
          if (options.accountId) {
            const accountData &#x3D; accountList.find(
              (account) &#x3D;&gt; account.accountNumber &#x3D;&#x3D;&#x3D; options.accountId,
            );
            accountList &#x3D; accountData ? [accountData] : [];
          }

          const servicePromises &#x3D; [];
          for await (const account of accountList) {
            const response &#x3D; await this.moduleRef
              .get(&#x60;appService&#x60;, { strict: false })
              .assumeRole(account);

            if (!response) {
              continue;
            }
            for await (const region of regionList) {
              // Fetch available volumes
              if (name &#x3D;&#x3D;&#x3D; &#x27;volumes&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchVolumes({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: {},
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available snapshots
              if (name &#x3D;&#x3D;&#x3D; &#x27;snapshots&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchSnapshots({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: { OwnerIds: [&#x27;self&#x27;] },
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available images
              if (name &#x3D;&#x3D;&#x3D; &#x27;images&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchImages({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: { Owners: [&#x27;self&#x27;] },
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available instances
              if (name &#x3D;&#x3D;&#x3D; &#x27;instances&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchInstances({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: { Filters: [&#x27;instance-id&#x27;] },
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available databases
              if (name &#x3D;&#x3D;&#x3D; &#x27;databases&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchDatabases({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: {},
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available caches
              if (name &#x3D;&#x3D;&#x3D; &#x27;caches&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchCaches({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: { ShowCacheNodeInfo: true },
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available load balancers
              if (name &#x3D;&#x3D;&#x3D; &#x27;load-balancers&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchLoadBalancers({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: {},
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available data warehouses
              if (name &#x3D;&#x3D;&#x3D; &#x27;data-warehouses&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchDataWarehouses({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: {},
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available storages
              if (name &#x3D;&#x3D;&#x3D; &#x27;storages&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchStorages({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: {},
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }

              // Fetch available search engines
              if (name &#x3D;&#x3D;&#x3D; &#x27;search-engines&#x27;) {
                servicePromises.push(
                  this.moduleRef
                    .get(&#x60;awsService&#x60;, { strict: false })
                    .fetchSearchEngines({
                      region: region.code,
                      credentials: {
                        accessKeyId: response.Credentials.AccessKeyId,
                        secretAccessKey: response.Credentials.SecretAccessKey,
                        sessionToken: response.Credentials.SessionToken,
                      },
                      input: {},
                      account: {
                        name: account.alias,
                        accountNumber: account.accountNumber,
                      },
                      assumeRole: account,
                      queue_id,
                    }),
                );
              }
            }
            await Promise.all(servicePromises);
          }

          // Update after process done
          if (process_id)
            await this.db.processes.update({
              where: {
                id: Number(process_id),
              },
              data: {
                end_time: moment().format(),
              },
            });

          if (cronProcess)
            await this.db.processes.update({
              where: {
                id: Number(cronProcess?.id),
              },
              data: {
                end_time: moment().format(),
                status: &#x27;pending&#x27;,
              },
            });
        } catch (err) {
          if (cronProcess)
            await this.db.processes.update({
              where: {
                id: Number(cronProcess?.id),
              },
              data: {
                end_time: moment().format(),
                status: &#x27;pending&#x27;,
              },
            });
          this.logger.error(err.message);
        }
      }, 0);

      return { name, message: &#x27;Process Complete&#x27; };
    } catch (error) {
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });
      this.logger.error(error.message);
    }
  }

  async dataPull(options: {
    service: string;
    accountId: string;
    region: string;
    provider: string;
    process_id: string;
  }) {
    try {
      const name &#x3D; options.service;
      const { provider, process_id } &#x3D; options;
      const job_queue &#x3D; [];
      const serviceName &#x3D; Object.keys(ServiceMapping).find(
        (key) &#x3D;&gt; ServiceMapping[key] &#x3D;&#x3D;&#x3D; name,
      );
      // Initialization of Regions List
      let regionList &#x3D; awsRegions.list();
      // Get list of accounts
      const accounts &#x3D; process.env.AWS_ACCOUNTS;

      let accountList &#x3D; [];
      forEach(JSON.parse(accounts), (accountNumber, alias) &#x3D;&gt; {
        const account: AccountsDto &#x3D; { alias, accountNumber };
        accountList.push(account);
      });

      const url &#x3D; &#x60;${process.env.BASE_URL}v1&#x60;;
      for (const account of accountList) {
        for (const region of regionList) {
          // Fetch available volumes
          this.logger.log(
            &#x60;url initialized from data-pull:  ${url}/fetch?region&#x3D;${region.code}&amp;accountId&#x3D;${account.accountNumber}&amp;service&#x3D;${name}&amp;provider&#x3D;${provider}&amp;process_id&#x3D;${process_id}&#x60;,
          );
          job_queue.push({
            url: &#x60;${url}/fetch?region&#x3D;${region.code}&amp;accountId&#x3D;${account.accountNumber}&amp;service&#x3D;${name}&amp;provider&#x3D;${provider}&amp;process_id&#x3D;${process_id}&#x60;,
          });
        }
      }

      await this.db.job_queue.createMany({ data: job_queue });

      this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .notifyJobQueue({ next: true });

      return { name, message: &#x27;Process Complete&#x27; };
    } catch (error) {
      this.logger.error(error.message);
      throw new DataNotFoundException(&#x27;Cron Data&#x27;);
    }
  }

  // API to get pricing data
  async fetchPricingData() {
    try {
      let serviceName &#x3D; &#x27;cost&#x27;;
      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      // Initialization of Regions List
      let regionList &#x3D; awsRegions.list();
      const services &#x3D; [
        &#x27;AmazonS3&#x27;,
        &#x27;AWSELB&#x27;,
        &#x27;AmazonElastiCache&#x27;,
        &#x27;AmazonRedshift&#x27;,
        &#x27;AmazonRDS&#x27;,
        &#x27;AmazonEC2&#x27;,
      ];

      const accountList &#x3D; [
        { alias: &#x27;vmn-mit-billing&#x27;, accountNumber: &#x27;444312304343&#x27; },
      ];
      for (const account of accountList) {
        const response &#x3D; await this.moduleRef
          .get(&#x60;appService&#x60;, { strict: false })
          .assumeRole(account);

        if (!response) {
          continue;
        }

        // Delete All Existing Records
        await this.db.cost.deleteMany({});
        for (const service of services) {
          for await (const region of regionList) {
            const filters &#x3D; [
              {
                Field: &#x27;location&#x27;,
                Value: &#x60;${region.full_name}&#x60;,
                Type: &#x27;TERM_MATCH&#x27;,
              },
              {
                Field: &#x27;ServiceCode&#x27;,
                Value: service,
                Type: &#x27;TERM_MATCH&#x27;,
              },
            ];

            const products &#x3D; await this.getProducts({
              region: region.code,
              credentials: {
                accessKeyId: response.Credentials.AccessKeyId,
                secretAccessKey: response.Credentials.SecretAccessKey,
                sessionToken: response.Credentials.SessionToken,
              },
              input: { ServiceCode: service, Filters: filters },
            });

            if (products &amp;&amp; products.length &gt; 0) {
              for (const product of products) {
                if (product) {
                  // Insert Into Cost Table
                  await this.createCost({ product, service });
                }
              }
            }
          }
        }
      }

      // Update after process done
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });

      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async createCost(options: { product: string; service: string }) {
    try {
      const details &#x3D; JSON.parse(options.product);
      const key &#x3D; keys(details[&#x27;terms&#x27;][&#x27;OnDemand&#x27;])[0] ?? &#x27;&#x27;;
      const pricingDimensions &#x3D; details[&#x27;terms&#x27;][&#x27;OnDemand&#x27;][key] ?? &#x27;&#x27;;
      const pricingKey &#x3D; keys(pricingDimensions[&#x27;priceDimensions&#x27;])[0] ?? &#x27;&#x27;;
      const pricingDetails &#x3D;
        pricingDimensions[&#x27;priceDimensions&#x27;][pricingKey] ?? &#x27;&#x27;;

      if (options.service &#x3D;&#x3D;&#x3D; &#x27;AmazonS3&#x27;) {
        // Insert into cost table
        return this.db.cost.create({
          data: {
            public_cloud: &#x27;aws&#x27;,
            service_name: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;servicecode&#x27;] ?? &#x27;&#x27;,
            region: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;regionCode&#x27;] ?? &#x27;&#x27;,
            type: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;usagetype&#x27;] ?? &#x27;&#x27;,
            cost: pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;]
              ? toNumber(pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;])
              : 0,
            cost_unit: pricingDetails[&#x27;unit&#x27;] ?? &#x27;&#x27;,
            term_type: &#x27;OnDemand&#x27;,
          },
        });
      } else if (options.service &#x3D;&#x3D;&#x3D; &#x27;AmazonRedshift&#x27;) {
        // Insert into cost table
        return this.db.cost.create({
          data: {
            public_cloud: &#x27;aws&#x27;,
            service_name: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;servicecode&#x27;] ?? &#x27;&#x27;,
            region: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;regionCode&#x27;] ?? &#x27;&#x27;,
            type: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;instanceType&#x27;] ?? &#x27;&#x27;,
            cost: pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;]
              ? toNumber(pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;])
              : 0,
            cost_unit: pricingDetails[&#x27;unit&#x27;] ?? &#x27;&#x27;,
            term_type: &#x27;OnDemand&#x27;,
            vcpu: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;]
              ? toNumber(details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;])
              : 0,
            io: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;io&#x27;]
              ? toNumber(details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;io&#x27;].split(&#x27; &#x27;)[0])
              : 0,
            i_unit: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;io&#x27;]
              ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;io&#x27;].split(&#x27; &#x27;)[1]
              : &#x27;&#x27;,
            memory:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? toNumber(
                    details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[0],
                  )
                : 0,
            m_unit:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[1]
                : &#x27;&#x27;,
            storage: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;storage&#x27;]
              ? toNumber(
                  details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;storage&#x27;]
                    .split(&#x27; &#x27;)[0]
                    .match(/\d+/g)[0],
                )
              : 0,
            s_unit: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;storage&#x27;]
              ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;storage&#x27;]
                  .split(&#x27; &#x27;)[0]
                  .match(/[a-zA-Z]+/g)[0]
              : &#x27;&#x27;,
          },
        });
      } else if (options.service &#x3D;&#x3D;&#x3D; &#x27;AmazonRDS&#x27;) {
        // Insert into cost table
        return this.db.cost.create({
          data: {
            public_cloud: &#x27;aws&#x27;,
            multi_az: String(
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;deploymentOption&#x27;] &#x3D;&#x3D;
                &#x27;Multi-AZ&#x27;,
            ),
            deployment_option:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;deploymentOption&#x27;],
            service_name: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;servicecode&#x27;] ?? &#x27;&#x27;,
            region: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;regionCode&#x27;] ?? &#x27;&#x27;,
            type: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;instanceType&#x27;] ?? &#x27;&#x27;,
            cost: pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;]
              ? toNumber(pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;])
              : 0,
            cost_unit: pricingDetails[&#x27;unit&#x27;] ?? &#x27;&#x27;,
            term_type: &#x27;OnDemand&#x27;,
            vcpu: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;]
              ? toNumber(details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;])
              : 0,
            processor:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;physicalProcessor&#x27;] ?? &#x27;&#x27;,
            memory:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? toNumber(
                    details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[0],
                  )
                : 0,
            m_unit:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[1]
                : &#x27;&#x27;,
            normalizationSizeFactor: details[&#x27;product&#x27;][&#x27;attributes&#x27;][
              &#x27;normalizationSizeFactor&#x27;
            ]
              ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;normalizationSizeFactor&#x27;]
              : &#x27;&#x27;,
            platform: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;databaseEngine&#x27;] ?? &#x27;&#x27;,
          },
        });
      } else if (options.service &#x3D;&#x3D;&#x3D; &#x27;AWSELB&#x27;) {
        // Insert into cost table
        return this.db.cost.create({
          data: {
            public_cloud: &#x27;aws&#x27;,
            service_name: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;servicecode&#x27;] ?? &#x27;&#x27;,
            region: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;regionCode&#x27;] ?? &#x27;&#x27;,
            type: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;operation&#x27;] ?? &#x27;&#x27;,
            cost: pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;]
              ? toNumber(pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;])
              : 0,
            cost_unit: pricingDetails[&#x27;unit&#x27;] ?? &#x27;&#x27;,
            term_type: &#x27;OnDemand&#x27;,
            operation: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;operation&#x27;]
              ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;operation&#x27;].split(&#x27;:&#x27;)[1]
              : &#x27;&#x27;,
          },
        });
      } else if (options.service &#x3D;&#x3D;&#x3D; &#x27;AmazonElastiCache&#x27;) {
        // Insert into cost table
        return this.db.cost.create({
          data: {
            location_type:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;locationType&#x27;] ?? &#x27;&#x27;,
            public_cloud: &#x27;aws&#x27;,
            service_name: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;servicecode&#x27;] ?? &#x27;&#x27;,
            region: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;regionCode&#x27;] ?? &#x27;&#x27;,
            type: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;instanceType&#x27;] ?? &#x27;&#x27;,
            cost: pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;]
              ? toNumber(pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;])
              : 0,
            cost_unit: pricingDetails[&#x27;unit&#x27;] ?? &#x27;&#x27;,
            term_type: &#x27;OnDemand&#x27;,
            vcpu: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;]
              ? toNumber(details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;])
              : 0,
            processor: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;physicalProcessor&#x27;],
            memory:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? toNumber(
                    details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[0],
                  )
                : 0,
            m_unit:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[1]
                : &#x27;&#x27;,
            platform: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;cacheEngine&#x27;] ?? &#x27;&#x27;,
          },
        });
      } else if (options.service &#x3D;&#x3D;&#x3D; &#x27;AmazonEC2&#x27;) {
        let type &#x3D; &#x27;&#x27;;
        if (has(details[&#x27;product&#x27;][&#x27;attributes&#x27;], &#x27;instanceType&#x27;)) {
          type &#x3D; details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;instanceType&#x27;] ?? &#x27;&#x27;;
        }

        if (has(details[&#x27;product&#x27;][&#x27;attributes&#x27;], &#x27;volumeType&#x27;)) {
          type &#x3D; details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;volumeApiName&#x27;] ?? &#x27;&#x27;;
        }

        if (
          type &#x3D;&#x3D;&#x3D; &#x27;g5.12xlarge&#x27; ||
          type &#x3D;&#x3D;&#x3D; &#x27;c5d.2xlarge&#x27; ||
          type &#x3D;&#x3D;&#x3D; &#x27;c5.metal&#x27;
        ) {
          console.log(&#x27;%j&#x27;, details);
        }

        // Insert into cost table
        return this.db.cost.create({
          data: {
            public_cloud: &#x27;aws&#x27;,
            service_name: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;servicecode&#x27;] ?? &#x27;&#x27;,
            region: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;regionCode&#x27;] ?? &#x27;&#x27;,
            type: type,
            os: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;operatingSystem&#x27;]
              ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;operatingSystem&#x27;]
              : &#x27;&#x27;,
            cost: pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;]
              ? toNumber(pricingDetails[&#x27;pricePerUnit&#x27;][&#x27;USD&#x27;])
              : 0,
            cost_unit: pricingDetails[&#x27;unit&#x27;] ?? &#x27;&#x27;,
            term_type: &#x27;OnDemand&#x27;,
            vcpu: details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;]
              ? toNumber(details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;vcpu&#x27;])
              : 0,
            processor:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;physicalProcessor&#x27;] ?? &#x27;&#x27;,
            memory:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? toNumber(
                    details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[0],
                  )
                : 0,
            m_unit:
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] &amp;&amp;
              details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;] !&#x3D;&#x3D; &#x27;NA&#x27;
                ? details[&#x27;product&#x27;][&#x27;attributes&#x27;][&#x27;memory&#x27;].split(&#x27; &#x27;)[1]
                : &#x27;&#x27;,
          },
        });
      }

      return;
    } catch (error) {
      this.logger.error(
        &#x60;Creating Cost for ${options.service}: ${error.message}&#x60;,
      );
    }
  }

  async availableCostPricingData() {
    try {
      return this.db.cost.findMany({
        select: {
          public_cloud: true,
          service_name: true,
          region: true,
          type: true,
          cost: true,
          cost_unit: true,
          term_type: true,
          vcpu: true,
          processor: true,
          memory: true,
          m_unit: true,
          io: true,
          i_unit: true,
          storage: true,
          s_unit: true,
          lease_term: true,
          normalizationSizeFactor: true,
        },
      });
    } catch (error) {
      this.logger.warn(&#x27;Cost Pricing Data not found&#x27;);
    }
  }

  async getData(options: { process_id: string; data: PaginationDto }) {
    try {
      let data_refresh_date_time &#x3D; new Date();
      const maxLabel &#x3D; await this.db.label.findFirst({
        where: {
          processes_id: toNumber(options.process_id),
        },
        orderBy: {
          on_date: &#x27;desc&#x27;,
        },
        select: {
          on_date: true,
        },
      });

      if (maxLabel) {
        data_refresh_date_time &#x3D; maxLabel.on_date;
      }
      const processData &#x3D; await this.db.processes.findFirst({
        where: {
          id: Number(options.process_id),
          disabled: false,
          deleted: null,
        },
        select: {
          type: true,
          label: {
            where: {
              on_date: {
                gte: new Date(
                  moment(data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
                ),
              },
            },
          },
          rule_id: true,
          provider: true,
          service: true,
        },
      });

      const resource_ids &#x3D; processData.label.map((res) &#x3D;&gt; res.resource_id);
      if (processData.type &#x3D;&#x3D; &#x27;BUILT-IN-LABEL&#x27;) {
        if (processData.rule_id) {
          const data &#x3D; await await this.moduleRef
            .get(&#x60;appService&#x60;, { strict: false })
            .queryRule({
              id: Number(processData.rule_id),
            });

          return data?.data;
        }
        return [];
      } else {
        try {
          const operator &#x3D; options.data.operator
            ? options.data.operator.toUpperCase()
            : &#x27;AND&#x27;;
          const where &#x3D; { id: { in: resource_ids } };
          // Generate Filters
          where[operator] &#x3D; await this.moduleRef
            .get(&#x60;appService&#x60;, { strict: false })
            .generateFilters(options.data.filters);
          const count &#x3D; await this.db[
            &#x60;${processData.provider}_${processData.service}&#x60;
          ].count({
            where: where,
          });
          const datatypes &#x3D; await this.moduleRef
            .get(&#x60;appService&#x60;, { strict: false })
            .getColumnDatatypes(
              &#x60;${processData.provider}_${processData.service}&#x60;,
            );

          const data &#x3D; await this.db[
            &#x60;${processData.provider}_${processData.service}&#x60;
          ].findMany({
            ...(options.data[&#x27;rows&#x27;] &amp;&amp; { take: options.data[&#x27;rows&#x27;] }),
            ...(options.data[&#x27;skip&#x27;] &amp;&amp; { skip: options.data[&#x27;skip&#x27;] }),
            where: where,
            ...(options.data[&#x27;sortField&#x27;] &amp;&amp; {
              orderBy: {
                [options.data[&#x27;sortField&#x27;]]: options.data[&#x27;sortOrder&#x27;],
              },
            }),
          });

          if (
            await this.db[&#x60;${processData.provider}_${processData.service}_tags&#x60;]
          ) {
            return {
              tag_table: &#x60;${processData.provider}_${processData.service}_tags&#x60;,
              tag_column: &#x60;${processData.provider}_${processData.service}_id&#x60;,
              data,
              datatypes,
              count,
            };
          }

          return { data, datatypes, count };
        } catch (e) {
          return [];
        }
      }
    } catch (error) {
      this.logger.warn(&#x27;Data not found&#x27;);
    }
  }

  // Service Now Change Request APIs
  async createServiceNowChangeRequest(options: {
    data: Object;
    token: string;
  }) {
    try {
      // Check description data
      let description &#x3D; options.data[&#x27;description&#x27;]
        ? options.data[&#x27;description&#x27;].concat(&#x27;\n&#x27;)
        : undefined;
      const resourcesData &#x3D; [...options.data[&#x27;resources&#x27;]];
      const header &#x3D; Object.keys(resourcesData[0]);
      const rows &#x3D; [header, ...resourcesData.map((d) &#x3D;&gt; Object.values(d))];
      const maxLength &#x3D; Math.max(
        ...rows.flat().map((s) &#x3D;&gt; s.toString().length),
      );

      const descriptionRows &#x3D; rows
        .map((d) &#x3D;&gt;
          d.map((s) &#x3D;&gt; s.toString().padEnd(maxLength, &#x27; &#x27;)).join(&#x27;\t&#x27;),
        )
        .join(&#x27;\n&#x27;);

      if (!description) {
        description &#x3D; descriptionRows;
      } else {
        description +&#x3D; descriptionRows;
      }

      // Get Key Client List
      const keyClientList &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .fetchKeyClientList();

      const keyClientNames &#x3D; map(keyClientList, &#x27;u_key_clients.display_value&#x27;);

      const data &#x3D; {
        type: options.data[&#x27;type&#x27;] ?? &#x27;&#x27;,
        short_description: options.data[&#x27;short_description&#x27;] ?? &#x27;&#x27;,
        description: description ?? &#x27;&#x27;,
        u_template: options.data[&#x27;template&#x27;] ?? &#x27;&#x27;,
        u_complexity: options.data[&#x27;complexity&#x27;] ?? &#x27;&#x27;,
        assignment_group: options.data[&#x27;assignment_group&#x27;] ?? &#x27;&#x27;,
        cmdb_ci: options.data[&#x27;configuration_item&#x27;] ?? &#x27;&#x27;,
        start_date: options.data[&#x27;planned_start&#x27;] ?? &#x27;&#x27;,
        end_date: options.data[&#x27;planned_end&#x27;] ?? &#x27;&#x27;,
        u_downtime: options.data[&#x27;downtime&#x27;] ?? &#x27;&#x27;,
        u_downtime_start: options.data[&#x27;downtime_start&#x27;] ?? &#x27;&#x27;,
        u_downtime_end: options.data[&#x27;downtime_end&#x27;] ?? &#x27;&#x27;,
        backout_plan: options.data[&#x27;backout_plan&#x27;] ?? &#x27;&#x27;,
        change_plan: options.data[&#x27;change_plan&#x27;] ?? &#x27;&#x27;,
        test_plan: options.data[&#x27;test_plan&#x27;] ?? &#x27;&#x27;,
        u_key_client_approval_list:
          keyClientNames &amp;&amp; keyClientNames.length &gt; 0
            ? keyClientNames.join(&#x27;,&#x27;)
            : &#x27;&#x27;,
      };

      // Add change request
      const response &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .changeRequest({ data });

      const changeRequestData &#x3D; {
        cr_no: response[&#x27;number&#x27;] ?? &#x27;&#x27;,
        status: response[&#x27;state&#x27;] ?? &#x27;&#x27;,
        service: options.data[&#x27;service&#x27;] ?? &#x27;&#x27;,
        user_name: &#x27;&#x27;,
        sys_id: response[&#x27;sys_id&#x27;] ?? &#x27;&#x27;,
        assignment_group: options.data[&#x27;assignment_group&#x27;] ?? &#x27;&#x27;,
        configuration_item: options.data[&#x27;configuration_item&#x27;] ?? &#x27;&#x27;,
        template: options.data[&#x27;template&#x27;] ?? &#x27;&#x27;,
        description: options.data[&#x27;description&#x27;] ?? &#x27;&#x27;,
        planned_start:
          moment(
            options.data[&#x27;planned_start&#x27;],
            &#x27;YYYY-MM-DD HH:mm:ss&#x27;,
          ).toDate() ?? null,
        planned_end:
          moment(options.data[&#x27;planned_end&#x27;], &#x27;YYYY-MM-DD HH:mm:ss&#x27;).toDate() ??
          null,
      };

      // Get email of logged in user
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(options.token);

      if (has(userInfo, &#x27;data&#x27;)) {
        changeRequestData[&#x27;user_name&#x27;] &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      await this.db.change_requests.create({
        data: changeRequestData,
      });

      // Add configurations items to resources
      const resourcesConfigurationData &#x3D; [];

      for (const res of resourcesData) {
        const configuration_items &#x3D; await this.getConfigurationItems({
          resource_id: res[&#x27;resource_id&#x27;],
          resource_name: res[&#x27;resource_name&#x27;],
        });

        // Add CI to Change Request if only 1 present
        if (configuration_items.length &#x3D;&#x3D;&#x3D; 1) {
          const ciData &#x3D; {
            task: response[&#x27;sys_id&#x27;],
            ci_item: configuration_items[0][&#x27;sys_id&#x27;],
          };

          await this.moduleRef
            .get(&#x60;appService&#x60;, { strict: false })
            .addChangeRequestConfigurationItems({ data: ciData });
        }

        resourcesConfigurationData.push({
          cr_no: response[&#x27;number&#x27;],
          ...(configuration_items.length &#x3D;&#x3D;&#x3D; 1 &amp;&amp; {
            affected_ci: configuration_items[0][&#x27;configuration_item&#x27;],
          }),
          resource_id: res[&#x27;resource_id&#x27;],
          resource_name: res[&#x27;resource_name&#x27;],
        });
      }

      await this.db.change_request_configuration_items.createMany({
        data: resourcesConfigurationData,
      });

      return changeRequestData;
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(&#x27;Service Now request not created&#x27;, error.status);
    }
  }

  async updateServiceNowChangeRequest(options: { data: Object }) {
    try {
      // Check description data
      let description &#x3D; options.data[&#x27;description&#x27;]
        ? options.data[&#x27;description&#x27;].concat(&#x27;\n&#x27;)
        : undefined;
      let resourcesData &#x3D; [];
      if (options.data[&#x27;resources&#x27;] &amp;&amp; options.data[&#x27;resources&#x27;].length &gt; 0) {
        resourcesData &#x3D; [...options.data[&#x27;resources&#x27;]];
        const header &#x3D; Object.keys(resourcesData[0]);
        const rows &#x3D; [header, ...resourcesData.map((d) &#x3D;&gt; Object.values(d))];
        const maxLength &#x3D; Math.max(
          ...rows.flat().map((s) &#x3D;&gt; s.toString().length),
        );
        const descriptionRows &#x3D; rows
          .map((d) &#x3D;&gt;
            d.map((s) &#x3D;&gt; s.toString().padEnd(maxLength, &#x27; &#x27;)).join(&#x27;\t&#x27;),
          )
          .join(&#x27;\n&#x27;);

        if (!description) {
          description &#x3D; descriptionRows;
        } else {
          description +&#x3D; descriptionRows;
        }
      }

      const data &#x3D; {
        ...(options.data[&#x27;type&#x27;] &amp;&amp; { type: options.data[&#x27;type&#x27;] }),
        ...(options.data[&#x27;short_description&#x27;] &amp;&amp; {
          short_description: options.data[&#x27;short_description&#x27;],
        }),
        ...(description &amp;&amp; { description: description }),
        ...(options.data[&#x27;release_approval&#x27;] &amp;&amp; {
          u_release_approval: options.data[&#x27;release_approval&#x27;],
        }),
        ...(options.data[&#x27;template&#x27;] &amp;&amp; {
          u_template: options.data[&#x27;template&#x27;],
        }),
        ...(options.data[&#x27;complexity&#x27;] &amp;&amp; {
          u_complexity: options.data[&#x27;complexity&#x27;],
        }),
        ...(options.data[&#x27;assignment_group&#x27;] &amp;&amp; {
          assignment_group: options.data[&#x27;assignment_group&#x27;],
        }),
        ...(options.data[&#x27;configuration_item&#x27;] &amp;&amp; {
          cmdb_ci: options.data[&#x27;configuration_item&#x27;],
        }),
        ...(options.data[&#x27;planned_start&#x27;] &amp;&amp; {
          start_date: options.data[&#x27;planned_start&#x27;],
        }),
        ...(options.data[&#x27;planned_end&#x27;] &amp;&amp; {
          end_date: options.data[&#x27;planned_end&#x27;],
        }),
        ...(options.data[&#x27;downtime_start&#x27;] &amp;&amp; {
          u_downtime_start: options.data[&#x27;downtime_start&#x27;],
        }),
        ...(options.data[&#x27;downtime_end&#x27;] &amp;&amp; {
          u_downtime_end: options.data[&#x27;downtime_end&#x27;],
        }),
        ...(options.data[&#x27;downtime&#x27;] &amp;&amp; {
          u_downtime: options.data[&#x27;downtime&#x27;],
        }),
        ...(options.data[&#x27;backout_plan&#x27;] &amp;&amp; {
          backout_plan: options.data[&#x27;backout_plan&#x27;],
        }),
        ...(options.data[&#x27;change_plan&#x27;] &amp;&amp; {
          change_plan: options.data[&#x27;change_plan&#x27;],
        }),
        ...(options.data[&#x27;test_plan&#x27;] &amp;&amp; {
          test_plan: options.data[&#x27;test_plan&#x27;],
        }),
        ...(options.data[&#x27;state&#x27;] &amp;&amp; { state: options.data[&#x27;state&#x27;] }),
        ...(options.data[&#x27;stage&#x27;] &amp;&amp; { u_stage: options.data[&#x27;stage&#x27;] }),
      };

      // Retrieve sys id if change request data exists
      const record &#x3D; await this.db.change_requests.findFirst({
        where: {
          cr_no: options.data[&#x27;cr_no&#x27;],
        },
        select: {
          cr_no: true,
          sys_id: true,
          assignment_group: true,
          configuration_item: true,
          template: true,
          description: true,
          planned_start: true,
          planned_end: true,
        },
      });

      if (!record) {
        throw new DataNotFoundException(&#x27;Change Request&#x27;);
      }

      // Update Service Now change request
      const response &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .updateChangeRequest({ data, sysId: record[&#x27;sys_id&#x27;] });

      if (response) {
        const changeRequestData &#x3D; {
          status: response[&#x27;state&#x27;] ?? &#x27;&#x27;,
          assignment_group: options.data[&#x27;assignment_group&#x27;]
            ? options.data[&#x27;assignment_group&#x27;]
            : record[&#x27;assignment_group&#x27;],
          configuration_item: options.data[&#x27;configuration_item&#x27;]
            ? options.data[&#x27;configuration_item&#x27;]
            : record[&#x27;configuration_item&#x27;],
          template: options.data[&#x27;template&#x27;]
            ? options.data[&#x27;template&#x27;]
            : record[&#x27;template&#x27;],
          description: options.data[&#x27;description&#x27;]
            ? options.data[&#x27;description&#x27;]
            : record[&#x27;description&#x27;],
          planned_start: options.data[&#x27;planned_start&#x27;]
            ? moment(response[&#x27;planned_start&#x27;], &#x27;YYYY-MM-DD HH:mm:ss&#x27;).toDate()
            : record[&#x27;planned_start&#x27;],
          planned_end: options.data[&#x27;planned_end&#x27;]
            ? moment(response[&#x27;planned_end&#x27;], &#x27;YYYY-MM-DD HH:mm:ss&#x27;).toDate()
            : record[&#x27;planned_end&#x27;],
        };

        const requestData &#x3D; await this.db.change_requests.update({
          where: {
            cr_no: record[&#x27;cr_no&#x27;],
          },
          select: {
            cr_no: true,
            status: true,
            service: true,
            user_name: true,
            sys_id: true,
            assignment_group: true,
            configuration_item: true,
            template: true,
            description: true,
            planned_start: true,
            planned_end: true,
          },
          data: changeRequestData,
        });

        if (resourcesData &amp;&amp; resourcesData.length &gt; 0) {
          const resourcesConfigurationData &#x3D; [];
          for (const res of resourcesData) {
            resourcesConfigurationData.push({
              cr_no: response[&#x27;number&#x27;],
              resource_id: res[&#x27;id&#x27;],
            });
          }

          // Delete all records and add resources again
          await this.db.change_requests.deleteMany({
            where: {
              cr_no: record[&#x27;cr_no&#x27;],
            },
          });

          await this.db.change_request_configuration_items.createMany({
            data: resourcesConfigurationData,
          });
        }

        return requestData;
      }
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(&#x27;Service Now request not updated&#x27;, error.status);
    }
  }

  async getServiceNowChangeRequests(token: string) {
    try {
      // Get user details
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(token);

      let username;

      if (has(userInfo, &#x27;data&#x27;)) {
        username &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      return this.db.change_requests.findMany({
        select: {
          cr_no: true,
          status: true,
          service: true,
          user_name: true,
          planned_start: true,
          planned_end: true,
          date_of_creation: true,
          configuration_items: {
            select: {
              affected_ci: true,
              resource_id: true,
            },
          },
        },
        where: {
          user_name: username,
        },
      });
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async getConfigurationItems(options: {
    resource_name: string;
    resource_id: string;
  }) {
    try {
      const configurationsItems &#x3D; await this.db.configuration_items.findMany({
        select: {
          resource_id: true,
          sys_id: true,
          resource_name: true,
          configuration_item: true,
        },
        where: {
          resource_name: options[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
          resource_id: options[&#x27;resource_id&#x27;] ?? &#x27;&#x27;,
        },
      });

      return map(configurationsItems, (ci) &#x3D;&gt; {
        return {
          configuration_item:
            ci.configuration_item !&#x3D;&#x3D; &#x27;NA&#x27; &amp;&amp; ci.configuration_item !&#x3D;&#x3D; &#x27;&#x27;
              ? ci.configuration_item
              : &#x27;&#x27;,
          sys_id: ci.sys_id !&#x3D;&#x3D; &#x27;NA&#x27; &amp;&amp; ci.sys_id !&#x3D;&#x3D; &#x27;&#x27; ? ci.sys_id : &#x27;&#x27;,
          url:
            ci.sys_id !&#x3D;&#x3D; &#x27;NA&#x27; &amp;&amp; ci.sys_id !&#x3D;&#x3D; &#x27;&#x27;
              ? &#x60;${process.env.SERVICE_NOW_URL}${process.env.SERVICE_NOW_CI_URL}?id&#x3D;form&amp;table&#x3D;${process.env.SERVICE_NOW_CONFIGURATION_ITEMS}&amp;sys_id&#x3D;${ci.sys_id}&#x60;
              : &#x27;&#x27;,
        };
      });
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async fetchConfigurationItems(options: {
    service: string;
    provider: string;
  }) {
    try {
      let resources &#x3D; [];
      let table &#x3D; &#x27;&#x27;;
      let serviceName &#x3D; &#x27;&#x27;;
      // Set data according to service
      if (options.service &#x3D;&#x3D;&#x3D; &#x27;instances&#x27;) {
        table &#x3D; &#x27;aws_ec2&#x27;;
        serviceName &#x3D; &#x27;ci_instances&#x27;;
      } else if (options.service &#x3D;&#x3D;&#x3D; &#x27;databases&#x27;) {
        table &#x3D; &#x27;aws_rds&#x27;;
        serviceName &#x3D; &#x27;ci_databases&#x27;;
      }

      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      const recent &#x3D; await this.db[table].findFirst({
        orderBy: {
          data_refresh_date_time: &#x27;desc&#x27;,
        },
        select: {
          data_refresh_date_time: true,
        },
      });

      if (!recent) {
        throw new DataNotFoundException(
          &#x60;${capitalize(options.service)} not found&#x60;,
        );
      }

      // Get all configuration itesm
      const configurationItems &#x3D; await this.db.configuration_items.findMany({
        select: {
          resource_name: true,
          resource_id: true,
        },
      });
      resources &#x3D; await this.db[table].findMany({
        where: {
          data_refresh_date_time: {
            gte: new Date(
              moment(recent.data_refresh_date_time).format(&#x27;YYYY-MM-DD&#x27;),
            ),
          },
          resource_id: { notIn: uniq(map(configurationItems, &#x27;resource_id&#x27;)) },
        },
        select: {
          resource_name: true,
          resource_id: true,
        },
      });

      for (let resource of resources) {
        const resourcesData &#x3D; [];
        let results &#x3D; [];
        let resourceId &#x3D; resource[&#x27;resource_id&#x27;] ? resource[&#x27;resource_id&#x27;] : &#x27;&#x27;;
        if (resource[&#x27;resource_name&#x27;]) {
          results &#x3D; await this.moduleRef
            .get(&#x60;appService&#x60;, { strict: false })
            .fetchConfigurationItems({
              resourceName: resource[&#x27;resource_name&#x27;],
            });

          if (results &amp;&amp; results.length &gt; 0) {
            for (let result of results) {
              resourcesData.push({
                resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
                configuration_item: result[&#x27;name&#x27;] ?? &#x27;&#x27;,
                ip_address: result[&#x27;ip_address&#x27;] ?? &#x27;&#x27;,
                type: options.service,
                operating_system: result[&#x27;u_operating_system&#x27;] ?? &#x27;&#x27;,
                subcategory: result[&#x27;subcategory&#x27;] ?? &#x27;&#x27;,
                sys_updated_on: result[&#x27;sys_updated_on&#x27;] ?? &#x27;&#x27;,
                resource_id: resourceId ?? &#x27;&#x27;,
                sys_id: result[&#x27;sys_id&#x27;] ?? &#x27;&#x27;,
              });
            }
          } else {
            resourcesData.push({
              resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
              configuration_item: &#x27;NA&#x27;,
              ip_address: &#x27;NA&#x27;,
              type: options.service,
              operating_system: &#x27;NA&#x27;,
              subcategory: &#x27;NA&#x27;,
              sys_updated_on: &#x27;NA&#x27;,
              resource_id: resourceId ?? &#x27;NA&#x27;,
              sys_id: &#x27;NA&#x27;,
            });
          }
        } else {
          resourcesData.push({
            resource_name: &#x27;NA&#x27;,
            configuration_item: &#x27;NA&#x27;,
            ip_address: &#x27;NA&#x27;,
            type: options.service,
            operating_system: &#x27;NA&#x27;,
            subcategory: &#x27;NA&#x27;,
            sys_updated_on: &#x27;NA&#x27;,
            resource_id: resourceId ?? &#x27;&#x27;,
            sys_id: &#x27;NA&#x27;,
          });
        }

        await this.db.configuration_items.createMany({
          data: resourcesData,
          skipDuplicates: true,
        });
      }

      // Update after process done
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });

      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async checkConfigurationItems(options: { number: string; token: string }) {
    try {
      const resourcesData &#x3D;
        await this.db.change_request_configuration_items.findMany({
          where: {
            cr_no: options.number,
          },
          select: {
            cr_no: true,
            resource_id: true,
            resource_name: true,
            affected_ci: true,
          },
        });

      // Check if available configuration items
      let index &#x3D; 0;
      for (const res of resourcesData) {
        if (!res[&#x27;affected_ci&#x27;]) {
          const configuration_items &#x3D; await this.getConfigurationItems({
            resource_id: res[&#x27;resource_id&#x27;],
            resource_name: res[&#x27;resource_name&#x27;],
          });
          resourcesData[index][&#x27;available_cis&#x27;] &#x3D; [...configuration_items];
        }
        index++;
      }

      return resourcesData;
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async getChangeRequestStatus(number: string) {
    try {
      const data &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getChangeRequestDetails(number);

      if (data.length &gt; 0) {
        return this.db.change_requests.update({
          where: {
            cr_no: number,
          },
          select: {
            cr_no: true,
            status: true,
            service: true,
            user_name: true,
            planned_start: true,
            planned_end: true,
            date_of_creation: true,
            configuration_items: {
              select: {
                affected_ci: true,
                resource_id: true,
              },
            },
          },
          data: {
            status: data[0][&#x27;state&#x27;],
          },
        });
      } else {
        throw new DataNotFoundException(&#x27;Change Request status&#x27;);
      }
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async getChangeRequestComments(number: string) {
    try {
      // Get comments from Service Now
      const data &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getChangeRequestDetails(number);

      if (data.length &gt; 0) {
        const comments &#x3D; [];
        const commentsSplit &#x3D; data[0][&#x27;comments&#x27;].split(&#x27;\n\n&#x27;);
        for (let commentData of commentsSplit) {
          if (commentData !&#x3D;&#x3D; &#x27;&#x27;) {
            const comment &#x3D; commentData.split(&#x27;(Additional comments)\n&#x27;);
            const commentDetails &#x3D; comment[0].split(&#x27; - &#x27;);
            comments.push({
              date: trim(commentDetails[0]),
              user: trim(commentDetails[1]),
              comment: trim(comment[1]),
            });
          }
        }
        return comments;
      } else {
        throw new DataNotFoundException(&#x27;Change Request comments&#x27;);
      }
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async getServiceNowChangeRequest(options: { number: string; token: string }) {
    try {
      // Get User details
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(options.token);

      let username;

      if (has(userInfo, &#x27;data&#x27;)) {
        username &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      const data &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getChangeRequestDetails(options.number);

      if (data.length &gt; 0) {
        const details &#x3D; data[0];

        const record &#x3D; await this.db.change_requests.findFirst({
          where: {
            cr_no: options.number,
            user_name: username,
          },
          select: {
            cr_no: true,
            status: true,
            service: true,
            assignment_group: true,
            configuration_item: true,
            template: true,
            description: true,
            date_of_creation: true,
            configuration_items: {
              select: {
                affected_ci: true,
                resource_id: true,
              },
            },
          },
        });

        const requestDetails &#x3D; {
          cr_no: record[&#x27;cr_no&#x27;] ?? &#x27;&#x27;,
          status: record[&#x27;status&#x27;] ?? &#x27;&#x27;,
          service: record[&#x27;service&#x27;] ?? &#x27;&#x27;,
          assignment_group: record[&#x27;assignment_group&#x27;] ?? &#x27;&#x27;,
          configuration_item: record[&#x27;configuration_item&#x27;] ?? &#x27;&#x27;,
          template: record[&#x27;template&#x27;] ?? &#x27;&#x27;,
          description: record[&#x27;description&#x27;] ?? &#x27;&#x27;,
          date_of_creation: record[&#x27;date_of_creation&#x27;] ?? &#x27;&#x27;,
          short_description: details[&#x27;short_description&#x27;] ?? &#x27;&#x27;,
          type: details[&#x27;type&#x27;] ?? &#x27;&#x27;,
          complexity: details[&#x27;u_complexity&#x27;] ?? &#x27;&#x27;,
          planned_start: details[&#x27;start_date&#x27;] ?? &#x27;&#x27;,
          planned_end: details[&#x27;end_date&#x27;] ?? &#x27;&#x27;,
          downtime: details[&#x27;u_downtime&#x27;] ?? &#x27;&#x27;,
          downtime_start: details[&#x27;u_downtime_start&#x27;] ?? &#x27;&#x27;,
          downtime_end: details[&#x27;u_downtime_end&#x27;] ?? &#x27;&#x27;,
          backout_plan: details[&#x27;backout_plan&#x27;] ?? &#x27;&#x27;,
          change_plan: details[&#x27;change_plan&#x27;] ?? &#x27;&#x27;,
          test_plan: details[&#x27;test_plan&#x27;] ?? &#x27;&#x27;,
          key_client_approval_list: details[&#x27;u_key_client_approval_list&#x27;] ?? &#x27;&#x27;,
          resources: record[&#x27;configuration_items&#x27;] ?? [],
        };

        return requestDetails;
      } else {
        throw new DataNotFoundException(&#x27;Change Request&#x27;);
      }
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async addConfigurationItem(options: { data: Object }) {
    try {
      // Get resources and request number
      const resourcesData &#x3D; [...options.data[&#x27;resources&#x27;]];
      const changeRequest &#x3D; await this.db.change_requests.findFirst({
        where: {
          cr_no: options.data[&#x27;resources&#x27;][0][&#x27;cr_no&#x27;],
        },
        select: {
          sys_id: true,
        },
      });

      for (const resource of resourcesData) {
        // Update all modified resources
        if (resource[&#x27;isModified&#x27;]) {
          // Find CI and add to Change Request
          const configuration_items &#x3D; await this.getConfigurationItems({
            resource_id: resource[&#x27;resource_id&#x27;],
            resource_name: resource[&#x27;resource_name&#x27;],
          });
          const ciItem &#x3D; find(configuration_items, {
            configuration_item: resource[&#x27;affected_ci&#x27;],
          });

          const ciData &#x3D; {
            task: changeRequest[&#x27;sys_id&#x27;],
            ci_item: ciItem[&#x27;sys_id&#x27;],
          };
          const response &#x3D; await this.moduleRef
            .get(&#x60;appService&#x60;, { strict: false })
            .addChangeRequestConfigurationItems({ data: ciData });
          if (response) {
            await this.db.change_request_configuration_items.updateMany({
              where: {
                cr_no: resource[&#x27;cr_no&#x27;],
                resource_name: resource[&#x27;resource_name&#x27;],
                resource_id: resource[&#x27;resource_id&#x27;],
              },
              data: {
                affected_ci: ciItem[&#x27;configuration_item&#x27;],
              },
            });
          } else {
            throw new BadRequestException(
              &#x60;CI was not added for Resource(${resource[&#x27;resource_name&#x27;]})&#x60;,
            );
          }
        }
      }
      return { message: &#x27;CIs Updated&#x27; };
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async createMetricEbs(
    metricData: { [key: string]: [] }[],
    assumeRole: Object,
  ) {
    try {
      let dataMemDb &#x3D; [];
      try {
        this.logger.log(
          &#x60;createMetricEbs started for ${
            Object.keys(metricData[0])[0]
          } ${moment()}&#x60;,
        );
      } catch (e) {}

      let response;
      let credentials;

      for (let i &#x3D; 0; i &lt; metricData.length; ++i) {
        if (i % 10 &#x3D;&#x3D; 0) {
          try {
            response &#x3D; await this.moduleRef
              .get(&#x60;appService&#x60;, { strict: false })
              .assumeRole(assumeRole);
            credentials &#x3D; {
              accessKeyId: response.Credentials.AccessKeyId,
              secretAccessKey: response.Credentials.SecretAccessKey,
              sessionToken: response.Credentials.SessionToken,
            };
          } catch (err) {}
        }

        for (const [key, value] of Object.entries(metricData[i])) {
          const data &#x3D; {
            VolReadOpsSum: 0,
            VolWriteOpsSum: 0,
            VolReadBytesSum: 0,
            VolWriteBytesSum: 0,
            VolReadOpsMax: 0,
            VolWriteOpsMax: 0,
            VolReadBytesMax: 0,
            VolWriteBytesMax: 0,
            TotalIops: 0,
            TotalBandwidth: 0,
          };
          const cwData &#x3D; [];
          for (let metric of value) {
            const met: {
              credentials: Object;
              account: Object;
              assumeRole: Object;
              input: Object;
            } &#x3D; metric;
            met[&#x27;credentials&#x27;] &#x3D; credentials;
            const metricData &#x3D; await this.getMetricStatistics(met);
            cwData.push(metricData);
          }

          if (size(cwData[0]) &gt; 0) {
            data.VolReadOpsSum &#x3D; cwData[0][0][&#x27;Sum&#x27;];
            data.VolReadOpsMax &#x3D; cwData[0][0][&#x27;Maximum&#x27;];
          }

          if (size(cwData[1]) &gt; 0) {
            data.VolWriteOpsSum &#x3D; cwData[1][0][&#x27;Sum&#x27;];
            data.VolWriteOpsMax &#x3D; cwData[1][0][&#x27;Maximum&#x27;];
          }

          if (size(cwData[2]) &gt; 0) {
            data.VolReadBytesSum &#x3D; cwData[2][0][&#x27;Sum&#x27;];
            data.VolReadBytesMax &#x3D; cwData[2][0][&#x27;Maximum&#x27;];
          }

          if (size(cwData[3]) &gt; 0) {
            data.VolWriteBytesSum &#x3D; cwData[3][0][&#x27;Sum&#x27;];
            data.VolWriteBytesMax &#x3D; cwData[3][0][&#x27;Maximum&#x27;];
          }

          data[&#x27;TotalIops&#x27;] &#x3D; round(
            (data.VolReadOpsSum + data.VolWriteOpsSum) / (14 * 24 * 60 * 60),
            3,
          );
          data[&#x27;TotalBandwidth&#x27;] &#x3D; round(
            (data.VolReadBytesSum + data.VolWriteBytesSum) /
              (14 * 24 * 60 * 60),
            3,
          );

          const aws_ebs_id &#x3D; key.substring(0, key.lastIndexOf(&#x27;_&#x27;));
          const unique_key &#x3D; key.split(&#x27;_&#x27;)[key.split(&#x27;_&#x27;).length - 1];
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              vol_read_ops_sum: data[&#x27;VolReadOpsSum&#x27;],
              vol_write_ops_sum: data[&#x27;VolWriteOpsSum&#x27;],
              vol_read_bytes_sum: data[&#x27;VolReadBytesSum&#x27;],
              vol_write_bytes_sum: data[&#x27;VolWriteBytesSum&#x27;],
              vol_read_ops_max: data[&#x27;VolReadOpsMax&#x27;],
              vol_write_ops_max: data[&#x27;VolWriteOpsMax&#x27;],
              vol_read_bytes_max: data[&#x27;VolReadBytesMax&#x27;],
              vol_write_bytes_max: data[&#x27;VolWriteBytesMax&#x27;],
              total_iops: data[&#x27;TotalIops&#x27;],
              total_band_width: data[&#x27;TotalBandwidth&#x27;],
              aws_ebs_id,
              unique_key,
            },
          ];
        }
      }

      await this.db.aws_ebs_metrics.createMany({
        data: dataMemDb,
      });

      try {
        this.logger.log(
          &#x60;createMetricEbs ended for ${dataMemDb[0].aws_ebs_id}  ${moment()}&#x60;,
        );
      } catch (e) {}
    } catch (e) {
      this.logger.error(&#x60;metricData error&#x60;);
    }
  }

  async createMetricEc2(
    metricData: { [key: string]: [] }[],
    assumeRole: Object,
  ) {
    try {
      let dataMemDb &#x3D; [];
      try {
        this.logger.log(
          &#x60;createMetricEc2 started for ${
            Object.keys(metricData[0])[0]
          } ${moment()}&#x60;,
        );
      } catch (e) {}
      let response;
      let credentials;
      for (let i &#x3D; 0; i &lt; metricData.length; ++i) {
        if (i % 10 &#x3D;&#x3D; 0) {
          try {
            response &#x3D; await this.moduleRef
              .get(&#x60;appService&#x60;, { strict: false })
              .assumeRole(assumeRole);
            credentials &#x3D; {
              accessKeyId: response.Credentials.AccessKeyId,
              secretAccessKey: response.Credentials.SecretAccessKey,
              sessionToken: response.Credentials.SessionToken,
            };
          } catch (e) {}
        }
        for (const [key, value] of Object.entries(metricData[i])) {
          const data &#x3D; {
            CPUAvg14: 0,
            CPUAvg60: 0,
            CPUMax14: 0,
            CPUMax60: 0,
            CPUMin14: 0,
            CPUMin60: 0,
          };
          const cwData &#x3D; [];
          for (let metric of value) {
            let met: {
              credentials: Object;
              account: Object;
              assumeRole: Object;
              input: Object;
            } &#x3D; metric;
            met[&#x27;credentials&#x27;] &#x3D; credentials;
            const metricData &#x3D; await this.getMetricStatistics(met);
            cwData.push(metricData);
          }

          if (data[&#x27;State&#x27;] &#x3D;&#x3D;&#x3D; &#x27;stopped&#x27; || data[&#x27;State&#x27;] &#x3D;&#x3D;&#x3D; &#x27;terminated&#x27;) {
            data.CPUAvg14 &#x3D; 0;
            data.CPUMax14 &#x3D; 0;
            data.CPUMin14 &#x3D; 0;
            data.CPUAvg60 &#x3D; 0;
            data.CPUMax60 &#x3D; 0;
            data.CPUMin60 &#x3D; 0;
          } else {
            if (size(cwData[0]) &gt; 0) {
              data.CPUAvg14 &#x3D; round(cwData[0][0][&#x27;Average&#x27;], 3);
              data.CPUMax14 &#x3D; round(cwData[0][0][&#x27;Maximum&#x27;], 3);
              data.CPUMin14 &#x3D; round(cwData[0][0][&#x27;Minimum&#x27;], 3);
            }

            if (size(cwData[1]) &gt; 0) {
              data.CPUAvg60 &#x3D; round(cwData[1][0][&#x27;Average&#x27;], 3);
              data.CPUMax60 &#x3D; round(cwData[1][0][&#x27;Maximum&#x27;], 3);
              data.CPUMin60 &#x3D; round(cwData[1][0][&#x27;Minimum&#x27;], 3);
            }
          }

          const aws_ec2_id &#x3D; key.substring(0, key.lastIndexOf(&#x27;_&#x27;));
          const unique_key &#x3D; key.split(&#x27;_&#x27;)[key.split(&#x27;_&#x27;).length - 1];
          dataMemDb &#x3D; [
            ...dataMemDb,
            {
              cpu_avg_14: data[&#x27;CPUAvg14&#x27;],
              cpu_max_14: data[&#x27;CPUMax14&#x27;],
              cpu_min_14: data[&#x27;CPUMin14&#x27;],
              cpu_avg_60: data[&#x27;CPUAvg60&#x27;],
              cpu_max_60: data[&#x27;CPUMax60&#x27;],
              cpu_min_60: data[&#x27;CPUMin60&#x27;],
              aws_ec2_id,
              unique_key,
            },
          ];
        }
      }

      await this.db.aws_ec2_metrics.createMany({
        data: dataMemDb,
      });
      try {
        this.logger.log(
          &#x60;createMetricEc2 ended for ${dataMemDb[0].aws_ec2_id}  ${moment()}&#x60;,
        );
      } catch (e) {}
    } catch (e) {
      this.logger.error(&#x60;metricData error&#x60;, e.toString());
    }
  }

  // Autopark APIs
  async validateAutoparkResources(options: { data: Object; token: string }) {
    try {
      const resourcesData &#x3D; [...options.data[&#x27;resources&#x27;]];
      // Check if the resources are already present for another job
      const duplicateResources &#x3D; await this.db.autopark_resources.findMany({
        select: {
          resource_id: true,
          resource_name: true,
        },
        where: {
          resource_id: {
            in: map(resourcesData, (resource) &#x3D;&gt; resource.resource_id),
          },
          deleted: 0,
        },
      });
      
      return duplicateResources;
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async createAutoparkJob(options: { data: Object; token: string }) {
    try {
      const resourcesData &#x3D; [...options.data[&#x27;resources&#x27;]];
      // Check if the resources are already present for another job
      const duplicateResources &#x3D; await this.db.autopark_resources.findMany({
        select: {
          resource_id: true,
        },
        where: {
          resource_id: {
            in: map(resourcesData, (resource) &#x3D;&gt; resource.resource_id),
          },
          deleted: 0,
        },
      });

      if (duplicateResources.length &gt; 0) {
        throw new BadRequestException(
          &#x27;Resources already exist for another job&#x27;,
        );
      }

      const data &#x3D; pick(options.data, [
        &#x27;description&#x27;,
        &#x27;name&#x27;,
        &#x27;timezone&#x27;,
        &#x27;weekendStop&#x27;,
        &#x27;autostart&#x27;,
        &#x27;holidays&#x27;,
        &#x27;startTime&#x27;,
        &#x27;endTime&#x27;,
        &#x27;isEnabled&#x27;,
        &#x27;service&#x27;,
        &#x27;provider&#x27;,
      ]);
      const autoparkResources &#x3D; [];
      for (const res of resourcesData) {
        autoparkResources.push({
          resource_name: res[&#x27;resource_name&#x27;],
          resource_id: res[&#x27;resource_id&#x27;],
          account_name: res[&#x27;account_name&#x27;],
          region: res[&#x27;region&#x27;],
        });
      }

      // Get email of logged in user
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(options.token);

      if (has(userInfo, &#x27;data&#x27;)) {
        data[&#x27;created_by&#x27;] &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      await this.db.autopark_jobs.create({
        select: {
          description: true,
          name: true,
          timezone: true,
          weekendStop: true,
          autostart: true,
          holidays: true,
          startTime: true,
          endTime: true,
          isEnabled: true,
          service: true,
          provider: true,
          created_by: true,
        },
        data: {
          ...data,
          autopark_resources: { createMany: { data: autoparkResources } },
        },
      });

      return data;
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async getAutoparkJobs(token: string) {
    try {
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(token);

      let username;

      if (has(userInfo, &#x27;data&#x27;)) {
        username &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      return this.db.autopark_jobs.findMany({
        select: {
          name: true,
          description: true,
          timezone: true,
          startTime: true,
          endTime: true,
          weekendStop: true,
          autostart: true,
          holidays: true,
          isEnabled: true,
        },
        where: {
          created_by: username,
          deleted: 0,
        },
      });
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async updateAutoparkJob(options: { data: Object; token: string }) {
    try {
      // Get User details
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(options.token);

      let username;

      if (has(userInfo, &#x27;data&#x27;)) {
        username &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      const name &#x3D; options.data[&#x27;name&#x27;];
      const resourcesData &#x3D; options.data[&#x27;resources&#x27;]
        ? [...options.data[&#x27;resources&#x27;]]
        : [];
      // Check if the resources are already present for another job
      if (resourcesData &amp;&amp; resourcesData.length &gt; 0) {
        const autoparkJob &#x3D; await this.db.autopark_jobs.findFirst({
          where: {
            name: name,
          },
          select: {
            id: true,
          },
        });

        // Check if autopark job exists
        if (!autoparkJob) {
          throw new BadRequestException(&#x27;Autopark job does not exist&#x27;);
        }

        const duplicateResources &#x3D; await this.db.autopark_resources.findMany({
          select: {
            resource_id: true,
          },
          where: {
            resource_id: {
              in: map(resourcesData, (resource) &#x3D;&gt; resource.resource_id),
            },
            NOT: {
              ap_id: autoparkJob[&#x27;id&#x27;],
            },
            deleted: 0,
          },
        });

        if (duplicateResources.length &gt; 0) {
          throw new BadRequestException(
            &#x27;Resources already exist for another job&#x27;,
          );
        }

        // Insert/ Update the existing resources
        for (let resource of resourcesData) {
          await this.db.autopark_resources.upsert({
            select: {
              resource_id: true
            },
            where: {
              ap_id_resource_id_resource_name: {
                ap_id: autoparkJob[&#x27;id&#x27;],
                resource_id: resource[&#x27;resource_id&#x27;],
                resource_name: resource[&#x27;resource_name&#x27;],
              },
            },
            update: {
              deleted: 0,
              delete_date: null,
              deleted_by: null,
            },
            create: {
              resource_name: resource[&#x27;resource_name&#x27;],
              resource_id: resource[&#x27;resource_id&#x27;],
              account_name: resource[&#x27;account_name&#x27;],
              region: resource[&#x27;region&#x27;],
            },
          });

        }

        await this.db.autopark_resources.updateMany({
          where: {
            ap_id: autoparkJob[&#x27;id&#x27;],
            NOT: {
              resource_id: {
                in: map(resourcesData, (resource) &#x3D;&gt; resource.resource_id),
              },
            },
          },
          data: {
            deleted: 1,
            delete_date: moment().format(),
            deleted_by: username,
          },
        });

      }

      

      const data &#x3D; pick(options.data, [
        &#x27;description&#x27;,
        &#x27;timezone&#x27;,
        &#x27;weekendStop&#x27;,
        &#x27;autostart&#x27;,
        &#x27;holidays&#x27;,
        &#x27;startTime&#x27;,
        &#x27;endTime&#x27;,
        &#x27;isEnabled&#x27;,
      ]);

      const autoparkjobData &#x3D; await this.db.autopark_jobs.update({
        where: {
          name,
        },
        select: {
          name: true,
          description: true,
          timezone: true,
          startTime: true,
          endTime: true,
          weekendStop: true,
          autostart: true,
          holidays: true,
          isEnabled: true,
        },
        data: data,
      });
      return autoparkjobData;
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async getAutoparkJob(options: { name: string; token: string }) {
    try {
      // Get User details
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(options.token);

      let username;

      if (has(userInfo, &#x27;data&#x27;)) {
        username &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      return this.db.autopark_jobs.findFirst({
        where: {
          name: options.name,
          created_by: username,
          deleted: 0,
        },
        select: {
          name: true,
          description: true,
          timezone: true,
          startTime: true,
          endTime: true,
          weekendStop: true,
          autostart: true,
          holidays: true,
          isEnabled: true,
          autopark_resources: {
            select: {
              resource_id: true,
              resource_name: true,
              account_name: true,
              region: true,
            },
          },
        },
      });
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async deleteAutoparkJob(options: { name: string; token: string }) {
    try {
      // Get User details
      const userInfo &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .getUserInfo(options.token);

      let username;

      if (has(userInfo, &#x27;data&#x27;)) {
        username &#x3D; userInfo[&#x27;data&#x27;].email;
      }

      const autoparkJob &#x3D; await this.db.autopark_jobs.update({
        select: {
          id: true,
        },
        where: {
          name: options.name,
        },
        data: {
          deleted: 1,
          delete_date: moment().format(),
          deleted_by: username,
        },
      });

      await this.db.autopark_resources.updateMany({
        where: {
          ap_id: autoparkJob[&#x27;id&#x27;],
        },
        data: {
          deleted: 1,
          delete_date: moment().format(),
          deleted_by: username,
        },
      });
      
      return { message: &#x27;Autopark job deleted&#x27; };
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(&#x27;Error updating autopark job&#x27;, error.status);
    }
  }

  async checkAutoparkJobHolidays() {
    try {
      let serviceName &#x3D; &#x27;autopark_holidays&#x27;;
      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      // Get all Jobs that are active
      const jobs &#x3D; await this.db.autopark_jobs.findMany({
        select: {
          name: true,
          description: true,
          timezone: true,
          startTime: true,
          endTime: true,
          weekendStop: true,
          autostart: true,
          holidays: true,
          isEnabled: true,
        },
        where: {
          deleted: 0,
          isEnabled: &#x27;Yes&#x27;,
        },
      });

      for (const job of jobs) {
        const holidays &#x3D; job[&#x27;holidays&#x27;].split(&#x27;,&#x27;);

        // Check and mark if current date is holiday or weekend(6-Saturday, 7-Sunday) for specific timezone.
        let isHoliday &#x3D; &#x27;No&#x27;;
        if (includes(holidays, tz(job[&#x27;timezone&#x27;]).format(&#x27;YYYY-MM-DD&#x27;))) {
          isHoliday &#x3D; &#x27;Yes&#x27;;
        }

        if (
          job[&#x27;weekendStop&#x27;] &#x3D;&#x3D;&#x3D; &#x27;Yes&#x27; &amp;&amp;
          includes(
            [6, 7],
            moment(
              tz(job[&#x27;timezone&#x27;]).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;),
            ).isoWeekday(),
          )
        ) {
          isHoliday &#x3D; &#x27;Yes&#x27;;
        }

        // Update Holidays
        await this.db.autopark_jobs.update({
          where: {
            name: job[&#x27;name&#x27;],
          },
          data: {
            isHoliday: isHoliday,
          },
        });
      }

      // Update after process done
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });

      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async runAutoparkJobs() {
    try {
      let serviceName &#x3D; &#x27;autopark_jobs&#x27;;
      // Check process status
      const record &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .checkProcessStatus(serviceName);

      if (record) {
        throw new BadRequestException(&#x27;Process already in progress&#x27;);
      }

      const cronProcess &#x3D; await this.query(&#x27;processes&#x27;)
        .where({ name: serviceName })
        .where({ rule_id: null })
        .first();

      if (cronProcess) {
        await this.db.processes.update({
          select: {
            id: true,
          },
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            start_time: moment().format(),
            status: &#x27;in-progress&#x27;,
          },
        });
      }

      // Get all Jobs that are active
      const jobs &#x3D; await this.db.autopark_jobs.findMany({
        select: {
          name: true,
          description: true,
          timezone: true,
          startTime: true,
          endTime: true,
          weekendStop: true,
          autostart: true,
          holidays: true,
          isEnabled: true,
          isHoliday: true,
          service: true,
          autopark_resources: {
            select: {
              ap_id: true,
              resource_id: true,
              resource_name: true,
              account_name: true,
              region: true,
            },
          },
        },
        where: {
          deleted: 0,
          isEnabled: &#x27;Yes&#x27;,
          provider: &#x27;aws&#x27;,
        },
      });

      for (const job of jobs) {
        if (job[&#x27;service&#x27;] &#x3D;&#x3D;&#x3D; &#x27;ec2&#x27;) {
          await this.autoparkInstancesCheck(job);
        } else if (job[&#x27;service&#x27;] &#x3D;&#x3D;&#x3D; &#x27;rds&#x27;) {
          await this.autoparkDatabasesCheck(job);
        }
      }

      // Update after process done
      if (cronProcess)
        await this.db.processes.update({
          where: {
            id: Number(cronProcess?.id),
          },
          data: {
            end_time: moment().format(),
            status: &#x27;pending&#x27;,
          },
        });

      return { message: &#x27;Process Complete&#x27; };
    } catch (error) {
      this.logger.error(error.message);
      throw new HttpException(error.message, error.status);
    }
  }

  async autoparkInstancesCheck(job: any) {
    try {
      for (const resource of job[&#x27;autopark_resources&#x27;]) {
        // Get list of accounts
        const accounts &#x3D; process.env.AWS_ACCOUNTS;
        let accountList &#x3D; [];
        forEach(JSON.parse(accounts), (accountNumber, alias) &#x3D;&gt; {
          const account: AccountsDto &#x3D; { alias, accountNumber };
          accountList.push(account);
        });

        const account &#x3D; accountList.find(
          (account) &#x3D;&gt; account.alias &#x3D;&#x3D;&#x3D; resource[&#x27;account_name&#x27;],
        );
        // Assume role
        const response &#x3D; await this.moduleRef
          .get(&#x60;appService&#x60;, { strict: false })
          .assumeRole(account);

        // Get Instance
        const instance &#x3D; await this.describeInstances({
          region: resource[&#x27;region&#x27;],
          credentials: {
            accessKeyId: response.Credentials.AccessKeyId,
            secretAccessKey: response.Credentials.SecretAccessKey,
            sessionToken: response.Credentials.SessionToken,
          },
          input: { InstanceIds: [resource[&#x27;resource_id&#x27;]] },
          account: {
            name: account.alias,
            accountNumber: account.accountNumber,
          },
        });

        const instanceState &#x3D; instance[0][&#x27;Instances&#x27;][0][&#x27;State&#x27;][&#x27;Name&#x27;];
        // Check If Holiday
        if (job[&#x27;isHoliday&#x27;] &#x3D;&#x3D;&#x3D; &#x27;Yes&#x27;) {
          if (instanceState &#x3D;&#x3D;&#x3D; &#x27;running&#x27;) {
            // Shutdown instance
            await this.stopInstances({
              region: resource[&#x27;region&#x27;],
              credentials: {
                accessKeyId: response.Credentials.AccessKeyId,
                secretAccessKey: response.Credentials.SecretAccessKey,
                sessionToken: response.Credentials.SessionToken,
              },
              input: { InstanceIds: [resource[&#x27;resource_id&#x27;]] },
              account: {
                name: account.alias,
                accountNumber: account.accountNumber,
              },
            });
          }
          await this.db.autopark_audit.create({
            data: {
              ap_id: resource[&#x27;ap_id&#x27;] ? toNumber(resource[&#x27;ap_id&#x27;]) : &#x27;&#x27;,
              resource_id: resource[&#x27;resource_id&#x27;] ?? &#x27;&#x27;,
              resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
              status: instanceState,
            },
          });
        } else {
          const currentTime &#x3D; tz(job[&#x27;timezone&#x27;]);
          const startTime &#x3D; tz(job[&#x27;startTime&#x27;], &#x27;hh:mm A&#x27;, job[&#x27;timezone&#x27;]);
          let endTime &#x3D; tz(job[&#x27;endTime&#x27;], &#x27;hh:mm A&#x27;, job[&#x27;timezone&#x27;]);
          if (job[&#x27;endTime&#x27;].includes(&#x27;AM&#x27;)) {
            endTime &#x3D; tz(job[&#x27;endTime&#x27;], &#x27;hh:mm A&#x27;, job[&#x27;timezone&#x27;]).add(
              1,
              &#x27;days&#x27;,
            );
          }

          if (!currentTime.isBetween(startTime, endTime)) {
            if (instanceState &#x3D;&#x3D;&#x3D; &#x27;stopped&#x27; &amp;&amp; job[&#x27;autostart&#x27;] &#x3D;&#x3D;&#x3D; &#x27;Yes&#x27;) {
              // Start instance
              await this.startInstances({
                region: resource[&#x27;region&#x27;],
                credentials: {
                  accessKeyId: response.Credentials.AccessKeyId,
                  secretAccessKey: response.Credentials.SecretAccessKey,
                  sessionToken: response.Credentials.SessionToken,
                },
                input: { InstanceIds: [resource[&#x27;resource_id&#x27;]] },
                account: {
                  name: account.alias,
                  accountNumber: account.accountNumber,
                },
              });
            }
            await this.db.autopark_audit.create({
              data: {
                ap_id: resource[&#x27;ap_id&#x27;] ? toNumber(resource[&#x27;ap_id&#x27;]) : &#x27;&#x27;,
                resource_id: resource[&#x27;resource_id&#x27;] ?? &#x27;&#x27;,
                resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
                status: instanceState,
              },
            });
          } else {
            if (instanceState &#x3D;&#x3D;&#x3D; &#x27;running&#x27;) {
              // Stop instance
              await this.stopInstances({
                region: resource[&#x27;region&#x27;],
                credentials: {
                  accessKeyId: response.Credentials.AccessKeyId,
                  secretAccessKey: response.Credentials.SecretAccessKey,
                  sessionToken: response.Credentials.SessionToken,
                },
                input: { InstanceIds: [resource[&#x27;resource_id&#x27;]] },
                account: {
                  name: account.alias,
                  accountNumber: account.accountNumber,
                },
              });
            }
            await this.db.autopark_audit.create({
              data: {
                ap_id: resource[&#x27;ap_id&#x27;] ? toNumber(resource[&#x27;ap_id&#x27;]) : &#x27;&#x27;,
                resource_id: resource[&#x27;resource_id&#x27;] ?? &#x27;&#x27;,
                resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
                status: instanceState,
              },
            });
          }
        }
      }
    } catch (error) {
      this.logger.error(&#x60;AutoparkInstancesCheck: ${error.message}&#x60;);
    }
  }

  async autoparkDatabasesCheck(job: any) {
    try {
      for (const resource of job[&#x27;autopark_resources&#x27;]) {
        // Get list of accounts
        const accounts &#x3D; process.env.AWS_ACCOUNTS;
        let accountList &#x3D; [];
        forEach(JSON.parse(accounts), (accountNumber, alias) &#x3D;&gt; {
          const account: AccountsDto &#x3D; { alias, accountNumber };
          accountList.push(account);
        });

        const account &#x3D; accountList.find(
          (account) &#x3D;&gt; account.alias &#x3D;&#x3D;&#x3D; resource[&#x27;account_name&#x27;],
        );
        // Assume role
        const response &#x3D; await this.moduleRef
          .get(&#x60;appService&#x60;, { strict: false })
          .assumeRole(account);

        // Get Database
        const database &#x3D; await this.describeDBInstances({
          region: resource[&#x27;region&#x27;],
          credentials: {
            accessKeyId: response.Credentials.AccessKeyId,
            secretAccessKey: response.Credentials.SecretAccessKey,
            sessionToken: response.Credentials.SessionToken,
          },
          input: {
            Filters: [
              { Name: &#x27;dbi-resource-id&#x27;, Values: [resource[&#x27;resource_id&#x27;]] },
            ],
          },
          account: {
            name: account.alias,
            accountNumber: account.accountNumber,
          },
        });

        const status &#x3D; database[0][&#x27;DBInstanceStatus&#x27;];
        let databaseState;
        if (status &#x3D;&#x3D;&#x3D; &#x27;available&#x27;) {
          databaseState &#x3D; &#x27;running&#x27;;
        }

        const db &#x3D; await this.stopDBInstance({
          region: resource[&#x27;region&#x27;],
          credentials: {
            accessKeyId: response.Credentials.AccessKeyId,
            secretAccessKey: response.Credentials.SecretAccessKey,
            sessionToken: response.Credentials.SessionToken,
          },
          input: { DBInstanceIdentifier: resource[&#x27;resource_id&#x27;] },
          account: {
            name: account.alias,
            accountNumber: account.accountNumber,
          },
        });

        // Check If Holiday
        if (job[&#x27;isHoliday&#x27;] &#x3D;&#x3D;&#x3D; &#x27;Yes&#x27;) {
          if (databaseState &#x3D;&#x3D;&#x3D; &#x27;running&#x27;) {
            // Shutdon instance
            await this.stopDBInstance({
              region: resource[&#x27;region&#x27;],
              credentials: {
                accessKeyId: response.Credentials.AccessKeyId,
                secretAccessKey: response.Credentials.SecretAccessKey,
                sessionToken: response.Credentials.SessionToken,
              },
              input: { DBInstanceIdentifier: resource[&#x27;resource_id&#x27;] },
              account: {
                name: account.alias,
                accountNumber: account.accountNumber,
              },
            });
          }
          await this.db.autopark_audit.create({
            data: {
              ap_id: resource[&#x27;ap_id&#x27;] ? toNumber(resource[&#x27;ap_id&#x27;]) : &#x27;&#x27;,
              resource_id: resource[&#x27;resource_id&#x27;] ?? &#x27;&#x27;,
              resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
              status: databaseState,
            },
          });
        } else {
          const currentTime &#x3D; tz(job[&#x27;timezone&#x27;]);
          const startTime &#x3D; tz(job[&#x27;startTime&#x27;], &#x27;hh:mm A&#x27;, job[&#x27;timezone&#x27;]);
          let endTime &#x3D; tz(job[&#x27;endTime&#x27;], &#x27;hh:mm A&#x27;, job[&#x27;timezone&#x27;]);
          if (job[&#x27;endTime&#x27;].includes(&#x27;AM&#x27;)) {
            endTime &#x3D; tz(job[&#x27;endTime&#x27;], &#x27;hh:mm A&#x27;, job[&#x27;timezone&#x27;]).add(
              1,
              &#x27;days&#x27;,
            );
          }

          if (!currentTime.isBetween(startTime, endTime)) {
            if (databaseState &#x3D;&#x3D;&#x3D; &#x27;stopped&#x27; &amp;&amp; job[&#x27;autostart&#x27;] &#x3D;&#x3D;&#x3D; &#x27;Yes&#x27;) {
              // Start instance
              await this.startDBInstance({
                region: resource[&#x27;region&#x27;],
                credentials: {
                  accessKeyId: response.Credentials.AccessKeyId,
                  secretAccessKey: response.Credentials.SecretAccessKey,
                  sessionToken: response.Credentials.SessionToken,
                },
                input: { DBInstanceIdentifier: resource[&#x27;resource_id&#x27;] },
                account: {
                  name: account.alias,
                  accountNumber: account.accountNumber,
                },
              });
            }
            await this.db.autopark_audit.create({
              data: {
                ap_id: resource[&#x27;ap_id&#x27;] ? toNumber(resource[&#x27;ap_id&#x27;]) : &#x27;&#x27;,
                resource_id: resource[&#x27;resource_id&#x27;] ?? &#x27;&#x27;,
                resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
                status: databaseState,
              },
            });
          } else {
            if (databaseState &#x3D;&#x3D;&#x3D; &#x27;running&#x27;) {
              // Stop instance
              await this.stopDBInstance({
                region: resource[&#x27;region&#x27;],
                credentials: {
                  accessKeyId: response.Credentials.AccessKeyId,
                  secretAccessKey: response.Credentials.SecretAccessKey,
                  sessionToken: response.Credentials.SessionToken,
                },
                input: { DBInstanceIdentifier: resource[&#x27;resource_id&#x27;] },
                account: {
                  name: account.alias,
                  accountNumber: account.accountNumber,
                },
              });
            }
            await this.db.autopark_audit.create({
              data: {
                ap_id: resource[&#x27;ap_id&#x27;] ? toNumber(resource[&#x27;ap_id&#x27;]) : &#x27;&#x27;,
                resource_id: resource[&#x27;resource_id&#x27;] ?? &#x27;&#x27;,
                resource_name: resource[&#x27;resource_name&#x27;] ?? &#x27;&#x27;,
                status: databaseState,
              },
            });
          }
        }
      }
    } catch (error) {
      this.logger.error(&#x60;AutoparkDatabasesCheck: ${error.message}&#x60;);
    }
  }

  async deleteDataApi(row, service) {
    let account;
    try {
      const accounts &#x3D; JSON.parse(process.env.AWS_ACCOUNTS);

      //get account
      forEach(accounts, (accountNumber, alias) &#x3D;&gt; {
        if (alias &#x3D;&#x3D; row.account_name) {
          account &#x3D; { alias, accountNumber };
          return false;
        }
      });

      if (!account) {
        return {
          data: null,
          error: &#x60;Account not found for ${row.id} for ${JSON.stringify(
            account,
          )}&#x60;,
        };
      }

      const response &#x3D; await this.moduleRef
        .get(&#x60;appService&#x60;, { strict: false })
        .assumeRole(account);

      if (!response) {
        return {
          data: null,
          error: &#x60;Cannot assume role for ${row.id} for ${JSON.stringify(
            account,
          )}&#x60;,
        };
      }

      const client &#x3D; new EC2Client({
        region: row.region,
        credentials: {
          accessKeyId: response.Credentials.AccessKeyId,
          secretAccessKey: response.Credentials.SecretAccessKey,
          sessionToken: response.Credentials.SessionToken,
        },
      });

      let command;
      const paramsAddons &#x3D; {
        DryRun: true,
      };
      if (service &#x3D;&#x3D; &#x27;ec2&#x27;) {
        const params &#x3D; {
          ...paramsAddons,
          InstanceIds: [row.resource_id],
        };
        command &#x3D; new TerminateInstancesCommand(params);
      } else if (service &#x3D;&#x3D; &#x27;snapshot&#x27;) {
        const params &#x3D; {
          ...paramsAddons,
          DryRun: false,
          SnapshotId: row.snapshot_id,
        };

        command &#x3D; new DeleteSnapshotCommand(params);
      } else if (service &#x3D;&#x3D; &#x27;ebs&#x27;) {
        const params &#x3D; {
          ...paramsAddons,
          VolumeId: row.volume_id,
        };

        command &#x3D; new DeleteVolumeCommand(params);
      } else if (service &#x3D;&#x3D; &#x27;ami&#x27;) {
        const params &#x3D; {
          ...paramsAddons,
          ImageId: row.image_id,
        };

        command &#x3D; new DeregisterImageCommand(params);
      } else {
        return { data: null, error: &#x27;No Service Selected&#x27; };
      }
      const data &#x3D; await client.send(command);
      return { data: { ...data, account }, error: null };
    } catch (e) {
      this.logger.warn(&#x27;Data not found&#x27;);
      return { data: null, error: { ...e, account } };
    }
  }

  async getAllForDeletion(resource_ids, label_ids, provider, service) {
    const dataAfterDelete &#x3D; [];
    try {
      const alldata &#x3D; await this.db[&#x60;${provider}_${service}&#x60;].findMany({
        where: {
          id: {
            in: resource_ids,
          },
        },
      });
      for (let i &#x3D; 0; i &lt; alldata.length; ++i) {
        let actual_id;

        if (service &#x3D;&#x3D; &#x27;snapshot&#x27;) {
          actual_id &#x3D; alldata[i][&#x27;snapshot_id&#x27;];
        } else if (service &#x3D;&#x3D; &#x27;ebs&#x27;) {
          actual_id &#x3D; alldata[i][&#x27;volume_id&#x27;];
        } else if (service &#x3D;&#x3D; &#x27;ami&#x27;) {
          actual_id &#x3D; alldata[i][&#x27;image_id&#x27;];
        } else if (service &#x3D;&#x3D; &#x27;ec2&#x27;) {
          actual_id &#x3D; alldata[i][&#x27;resource_id&#x27;];
        }

        const obj &#x3D; {
          resource_id: resource_ids[i], //snapshot id from aws_snaphot table
          action: &#x27;DELETE&#x27;,
          date_of_implementation: moment().format(),
          username: &#x27;&#x27;,
          label_id: String(label_ids[i]), // label id from label table
          provider,
          service,
          old_size_type: String(alldata[i].volume_size), //volume_size
          new_size_type: &#x27;&#x27;,
          state_at_time_action: &#x27;&#x27;,
          jira_num: &#x27;&#x27;,
          cr_number: &#x27;&#x27;,
          action_approver: &#x27;&#x27;,
          logs: &#x27;&#x27;,
          status: &#x27;&#x27;,
          actual_id,
        };

        const { data, error } &#x3D; await this.deleteDataApi(alldata[i], service);

        obj.status &#x3D; data ? &#x27;success&#x27; : &#x27;error&#x27;;
        obj.logs &#x3D; data ? JSON.stringify(data) : JSON.stringify(error);
        dataAfterDelete.push(obj);
      }
    } catch (e) {
      this.logger.error(e);
    }

    return dataAfterDelete;
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'AwsService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
